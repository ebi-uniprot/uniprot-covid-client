(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{739:function(e,t,n){var r=n(740);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},740:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,".colour-dark-blue{background:#004864}.colour-uniprot-blue{background:#006e9a}.colour-medium-blue{background:#3ca3ca}.colour-light-blue{background:#93d4ee}.colour-black{background:#3a343a}.colour-dark-grey{background:#393b42}.colour-cool-grey{background:#4a4d55}.colour-medium-grey{background:#727376}.colour-light-grey{background:#c2c4c4}.colour-seashell-grey{background:#f1f1f1}.colour-reviewed{background:#c39b00}.colour-unreviewed{background:silver}.colour-uniref{background:#c08c5c}.colour-uniparc{background:#c3878d}.colour-proteomes{background:#900}.colour-supporting-data{background:#aa8ebf}.colour-help{background:#6bad69}.colour-annotation-systems{background:#f8982e}.svg-colour-reviewed{fill:#c39b00}.svg-colour-unreviewed{fill:silver}.box-colour{vertical-align:top;display:inline-block;width:9em;height:9em;margin-bottom:4em;font-size:80%}.box-colour:before{content:attr(data-name);margin-top:10em;display:block;text-align:center}.column-select-drag-drop__list{background:#f1f1f1;display:flex;padding:0.5rem;overflow:auto;white-space:nowrap;margin:1rem 0rem}.column-select-drag-drop__list__item{user-select:none;padding:0.5rem;margin:0 0.25rem 0 0;color:black;background:#93d4ee}.column-select-drag-drop__list__item:focus{outline:none}.column-select-drag-drop__list__item:hover{color:black;background:#3ca3ca}.column-select-drag-drop__list__item--dragging{color:black;background:#3ca3ca}.column-select-drag-drop__list__item__button{background-color:transparent;margin-left:0.25rem;cursor:pointer}.column-select-drag-drop__list__item__button:focus{outline:none}.column-select-drag-drop__list__item__button__icon{fill:black !important;width:0.9rem;height:0.9rem;position:relative;top:0.085rem;left:0.35rem}\n",""])},780:function(e,t,n){var r=n(781);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},781:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,".column-select{margin:1rem 0}.column-select__tab-title:first-letter{text-transform:capitalize}.column-select__tab-title__count{margin-left:0.5rem}.column-select__tab-title__count--visible{visibility:visible}.column-select__tab-title__count--hidden{visibility:hidden}\n",""])},782:function(e,t,n){var r=n(783);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},783:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,".customise-table{padding:1rem}.customise-table--cancel-submit-buttons{float:right}\n",""])},793:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(97),c=n(34),l=n(55),i=n(53),u=n(61),s=n(95),d=n(786);n(739);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t=e.columns,n=e.onDragDrop,r=e.onRemove;return o.a.createElement(d.a,{onDragEnd:function(e){e.destination&&n(e.source.index,e.destination.index)}},o.a.createElement(d.c,{droppableId:"droppable",direction:"horizontal"},(function(e){return o.a.createElement("div",b({ref:e.innerRef,className:Object(s.c)({b:"column-select-drag-drop",e:"list"})},e.droppableProps),t.map((function(e,t){var n=e.itemId,a=e.label;return o.a.createElement(d.b,{key:n,draggableId:n,index:t},(function(e,t){return o.a.createElement("div",b({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"button ".concat(Object(s.c)({b:"column-select-drag-drop",e:["list","item"],m:t.isDragging&&"dragging"})),style:e.draggableProps.style}),a,o.a.createElement("button",{type:"button","data-testid":"column-select-dnd-remove-button",className:Object(s.c)({b:"column-select-drag-drop",e:["list","item","button"]}),onClick:function(){return r(n)}},o.a.createElement(u.CloseIcon,{className:Object(s.c)({b:"column-select-drag-drop",e:["list","item","button","icon"]})})))}))})),e.placeholder)})))},f=n(74),g=(n(780),function(e,t){return o.a.createElement("div",{className:Object(s.c)({b:"column-select",e:"tab-title"})},e,o.a.createElement("span",{className:Object(s.c)({b:"column-select",e:["tab-title","count"],m:t.length?"visible":"hidden"})},o.a.createElement(u.Bubble,{size:"small",value:t.length})))}),p=function(e){var t=e.selectedColumns,n=e.fieldData,r=e.onDragDrop,a=e.onSelect,c=e.onReset,l=function(e,t){var n=new Array(e.length);return[f.a.data,f.a.links].forEach((function(r){t[r].forEach((function(t){var o=t.id;t.items.forEach((function(t){var a=t.id,c=t.label,l=e.indexOf(a);l>=0&&(n[l]={tabId:r,accordionId:o,itemId:a,label:c})}))}))})),n}(t,n),i=[f.a.data,f.a.links].map((function(e){var t=l.filter((function(t){return t.tabId===e}));return{title:g(e,t),id:e,key:e,content:o.a.createElement(u.AccordionSearch,{accordionData:Object.values(n[e]),onSelect:function(e,t){return a(t)},selected:t,columns:!0})}}));return o.a.createElement("div",{className:"column-select"},o.a.createElement(m,{columns:l,onDragDrop:r,onRemove:a}),o.a.createElement("button",{className:"button secondary",type:"button",tabIndex:0,onClick:c,"data-testid":"column-select-reset-button"},"Reset to default"),o.a.createElement(u.Tabs,{tabData:i}))},v=n(66),h=n(29);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={tabId:f.a.data,accordionId:"Names & Taxonomy",itemId:h.a.accession},E=Object(l.o)(Object(a.b)((function(e,t){return{onChange:t.onChange,fieldData:e.results.fields.data,isFetching:e.results.fields.isFetching}}),(function(e){return Object(c.b)({fetchFieldsIfNeeded:function(){return i.k()}},e)}))((function(e){var t=e.fetchFieldsIfNeeded,n=e.isFetching,r=e.fieldData,a=e.selectedColumns,c=e.onChange;if(n||!r||!r[f.a.data]||!r[f.a.data].length||!r[f.a.links]||!r[f.a.links].length)return t(),o.a.createElement(u.Loader,null);var l=a.filter((function(e){return e!==j.itemId})),i=function(e,t){var n=e.tabId,r=e.accordionId,o=e.itemId;return k({},t,O({},n,t[n].map((function(e){return e.id===r?k({},e,{items:e.items.filter((function(e){return e.id!==o}))}):e}))))}(j,r),d=function(e){c([j.itemId].concat(y(e)))};return o.a.createElement(p,{selectedColumns:l,fieldData:i,onReset:function(){return c(v.c)},onSelect:function(e){var t=l.indexOf(e);d(t>=0?Object(s.h)(l,t):[].concat(y(l),[e]))},onDragDrop:function(e,t){d(Object(s.f)(l,e,t))}})}))),w=(n(782),function(e){var t=e.selectedColumns,n=e.onChange,r=e.onSubmit,a=e.onCancel;return o.a.createElement("form",{onSubmit:r,className:"customise-table","data-testid":"customise-table-form"},o.a.createElement(E,{onChange:n,selectedColumns:t}),o.a.createElement("div",{className:"button-group customise-table--cancel-submit-buttons"},o.a.createElement("button",{className:"button secondary",type:"button",onClick:a,"data-testid":"customise-table-cancel-button"},"Cancel"),o.a.createElement("button",{className:"button",type:"submit"},"Save")))});function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=Object(l.o)(Object(a.b)((function(e){return{tableColumns:e.results.tableColumns}}),(function(e){return Object(c.b)({updateTableColumns:function(e){return i.n(e)}},e)}))((function(e){var t=e.tableColumns,n=e.updateTableColumns,a=e.history,c=C(Object(r.useState)(t),2),l=c[0],i=c[1];return o.a.createElement(w,{selectedColumns:l,onChange:function(e){i(e)},onSubmit:function(e){e.preventDefault(),n(l),a.goBack()},onCancel:function(){a.goBack()}})})));t.default=function(){return o.a.createElement(I,null)}}}]);