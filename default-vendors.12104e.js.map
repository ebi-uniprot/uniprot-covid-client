{"version":3,"sources":["webpack:///./node_modules/d3-selection/src/index.js","webpack:///./node_modules/lit-html/lib/parts.js","webpack:///./node_modules/d3/dist/package.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/max.js","webpack:///./node_modules/d3-array/src/zip.js","webpack:///./node_modules/d3-axis/src/array.js","webpack:///./node_modules/d3-axis/src/identity.js","webpack:///./node_modules/d3-axis/src/axis.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-interpolate/src/transform/parse.js","webpack:///./node_modules/d3-interpolate/src/transform/decompose.js","webpack:///./node_modules/d3-interpolate/src/transform/index.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/textTween.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/d3-transition/src/active.js","webpack:///./node_modules/d3-brush/src/constant.js","webpack:///./node_modules/d3-brush/src/event.js","webpack:///./node_modules/d3-brush/src/noevent.js","webpack:///./node_modules/d3-brush/src/brush.js","webpack:///./node_modules/d3-chord/src/math.js","webpack:///./node_modules/d3-chord/src/array.js","webpack:///./node_modules/d3-chord/src/chord.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-contour/src/array.js","webpack:///./node_modules/d3-quadtree/src/add.js","webpack:///./node_modules/d3-quadtree/src/cover.js","webpack:///./node_modules/d3-quadtree/src/quad.js","webpack:///./node_modules/d3-quadtree/src/x.js","webpack:///./node_modules/d3-quadtree/src/y.js","webpack:///./node_modules/d3-quadtree/src/quadtree.js","webpack:///./node_modules/d3-quadtree/src/data.js","webpack:///./node_modules/d3-quadtree/src/extent.js","webpack:///./node_modules/d3-quadtree/src/find.js","webpack:///./node_modules/d3-quadtree/src/remove.js","webpack:///./node_modules/d3-quadtree/src/root.js","webpack:///./node_modules/d3-quadtree/src/size.js","webpack:///./node_modules/d3-quadtree/src/visit.js","webpack:///./node_modules/d3-quadtree/src/visitAfter.js","webpack:///./node_modules/d3-force/src/simulation.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-random/src/defaultSource.js","webpack:///./node_modules/d3-random/src/normal.js","webpack:///./node_modules/d3-random/src/uniform.js","webpack:///./node_modules/d3-random/src/irwinHall.js","webpack:///./node_modules/d3-random/src/logNormal.js","webpack:///./node_modules/d3-random/src/bates.js","webpack:///./node_modules/d3-random/src/exponential.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/band.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/linear.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/pow.js","webpack:///./node_modules/d3-time/src/interval.js","webpack:///./node_modules/d3-time/src/year.js","webpack:///./node_modules/d3-time/src/month.js","webpack:///./node_modules/d3-time/src/week.js","webpack:///./node_modules/d3-time/src/duration.js","webpack:///./node_modules/d3-time/src/day.js","webpack:///./node_modules/d3-time/src/hour.js","webpack:///./node_modules/d3-time/src/minute.js","webpack:///./node_modules/d3-time/src/second.js","webpack:///./node_modules/d3-time/src/millisecond.js","webpack:///./node_modules/d3-time/src/utcWeek.js","webpack:///./node_modules/d3-time/src/utcDay.js","webpack:///./node_modules/d3-time/src/utcYear.js","webpack:///./node_modules/d3-time-format/src/locale.js","webpack:///./node_modules/d3-time-format/src/defaultLocale.js","webpack:///./node_modules/d3/node_modules/d3-scale/src/time.js","webpack:///./node_modules/d3-time/src/utcMonth.js","webpack:///./node_modules/d3-time/src/utcHour.js","webpack:///./node_modules/d3-time/src/utcMinute.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-voronoi/src/RedBlackTree.js","webpack:///./node_modules/d3-voronoi/src/Edge.js","webpack:///./node_modules/d3-voronoi/src/Cell.js","webpack:///./node_modules/d3-voronoi/src/Circle.js","webpack:///./node_modules/d3-voronoi/src/Beach.js","webpack:///./node_modules/d3-voronoi/src/Diagram.js","webpack:///./node_modules/d3-voronoi/src/voronoi.js","webpack:///./node_modules/d3-interpolate/src/zoom.js","webpack:///./node_modules/d3-zoom/src/constant.js","webpack:///./node_modules/d3-zoom/src/event.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./node_modules/d3-zoom/src/noevent.js","webpack:///./node_modules/d3-zoom/src/zoom.js","webpack:///./node_modules/idx/lib/idx.js","webpack:///./node_modules/lit-html/lib/template.js","webpack:///./node_modules/lodash-es/union.js","webpack:///./node_modules/lodash-es/_baseIntersection.js","webpack:///./node_modules/lodash-es/_castArrayLikeObject.js","webpack:///./node_modules/lodash-es/intersection.js","webpack:///./node_modules/lit-html/lib/dom.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/protvista-feature-adapter/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-feature-adapter/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-feature-adapter/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-feature-adapter/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-feature-adapter/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-feature-adapter/src/evidences.js","webpack:///./node_modules/protvista-feature-adapter/src/BasicHelper.js","webpack:///./node_modules/protvista-feature-adapter/src/protvista-feature-adapter.js","webpack:///./node_modules/protvista-zoomable/src/protvista-zoomable.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/dom.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/template.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/modify-template.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/directive.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/part.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/template-instance.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/template-result.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/parts.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/template-factory.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/render.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/default-template-processor.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lit-html.js","webpack:///./node_modules/lit-element/node_modules/lit-html/lib/shady-render.js","webpack:///./node_modules/lit-element/lib/updating-element.js","webpack:///./node_modules/lit-element/lib/decorators.js","webpack:///./node_modules/lit-element/lib/css-tag.js","webpack:///./node_modules/lit-element/lit-element.js","webpack:///./node_modules/lit-html/lib/default-template-processor.js","webpack:///./node_modules/lit-html/lib/template-factory.js","webpack:///./node_modules/lit-html/lib/render.js","webpack:///./node_modules/lit-html/lit-html.js","webpack:///./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","webpack:///./node_modules/lit-html/lib/template-result.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/lodash-es/isString.js","webpack:///./node_modules/lodash-es/toNumber.js","webpack:///./node_modules/lodash-es/toFinite.js","webpack:///./node_modules/lodash-es/toInteger.js","webpack:///./node_modules/lodash-es/_baseValues.js","webpack:///./node_modules/lodash-es/values.js","webpack:///./node_modules/lodash-es/includes.js","webpack:///./node_modules/lit-html/lib/directive.js","webpack:///./node_modules/lit-html/lib/part.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/protvista-manager/src/protvista-manager.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/protvista-datatable/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-datatable/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-datatable/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-datatable/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-datatable/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-datatable/src/styles.js","webpack:///./node_modules/protvista-datatable/src/protvista-datatable.js","webpack:///./node_modules/lit-html/lib/template-instance.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/protvista-sequence/src/protvista-sequence.js","webpack:///./node_modules/protvista-navigation/src/protvista-navigation.js","webpack:///./node_modules/lodash-es/_apply.js","webpack:///./node_modules/lodash-es/_overRest.js","webpack:///./node_modules/lodash-es/_baseSetToString.js","webpack:///./node_modules/lodash-es/_shortOut.js","webpack:///./node_modules/lodash-es/_setToString.js","webpack:///./node_modules/lodash-es/_baseRest.js","webpack:///./node_modules/lodash-es/_isFlattenable.js","webpack:///./node_modules/lodash-es/_baseFlatten.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/lodash-es/_arrayIncludes.js","webpack:///./node_modules/lodash-es/_arrayIncludesWith.js","webpack:///./node_modules/lodash-es/isArrayLikeObject.js","webpack:///./node_modules/protvista-filter/src/protvista-filter.js","webpack:///./node_modules/d3-selection/src/selectAll.js","webpack:///./node_modules/timing-functions/src/utils/required.js","webpack:///./node_modules/timing-functions/src/sleep/index.js","webpack:///./node_modules/timing-functions/src/utils/env.js","webpack:///./node_modules/timing-functions/src/frame/index.js","webpack:///./node_modules/timing-functions/src/schedule/index.js","webpack:///./node_modules/timing-functions/src/index.js","webpack:///./node_modules/protvista-tooltip/src/protvista-tooltip.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/FeatureShape.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/DefaultLayout.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/NonOverlappingLayout.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/config.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/ConfigHelper.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-track/src/protvista-track.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/FeatureShape.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/DefaultLayout.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/NonOverlappingLayout.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/config.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/ConfigHelper.js","webpack:///./node_modules/protvista-interpro-track/node_modules/protvista-track/src/protvista-track.js","webpack:///./node_modules/protvista-interpro-track/src/InterproEntryLayout.js","webpack:///./node_modules/protvista-interpro-track/src/coverage/index.js","webpack:///./node_modules/protvista-interpro-track/src/protvista-interpro-track.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation/src/processVariants.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation/src/variationPlot.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation/src/protvista-variation.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/FeatureShape.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/DefaultLayout.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/NonOverlappingLayout.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/config.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/ConfigHelper.js","webpack:///./node_modules/protvista-variation-graph/node_modules/protvista-track/src/protvista-track.js","webpack:///./node_modules/protvista-variation-graph/src/protvista-variation-graph.js","webpack:///./node_modules/data-loader/dist/es/data-loader.js","webpack:///./node_modules/protvista-proteomics-adapter/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-proteomics-adapter/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-proteomics-adapter/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-proteomics-adapter/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-proteomics-adapter/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-proteomics-adapter/src/ProtvistaProteomicsAdapter.js","webpack:///./node_modules/protvista-structure-adapter/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-structure-adapter/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-structure-adapter/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-structure-adapter/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-structure-adapter/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-structure-adapter/src/StructureDataParser.js","webpack:///./node_modules/protvista-structure-adapter/src/ProtVistaStructureAdapter.js","webpack:///./node_modules/protvista-uniprot/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-uniprot/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-uniprot/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-uniprot/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-uniprot/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation-adapter/dist/es/tooltipGenerators.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation-adapter/dist/es/variants.js","webpack:///./node_modules/protvista-uniprot/node_modules/protvista-variation-adapter/dist/es/protvista-variation-adapter.js","webpack:///./node_modules/protvista-interpro-adapter/src/ProtvistaInterproAdapter.js","webpack:///./node_modules/protvista-uniprot/src/loadComponents.js","webpack:///./node_modules/protvista-uniprot/src/protvista-uniprot-structure.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-array/src/ticks.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-array/src/ascending.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-array/src/bisector.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-array/src/bisect.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-array/src/number.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-color/src/define.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-color/src/color.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/number.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/constant.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/init.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/exponent.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/identity.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/locale.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/protvista-uniprot/node_modules/d3-scale/src/linear.js","webpack:///./node_modules/protvista-uniprot/src/filterConfig.js","webpack:///./node_modules/protvista-uniprot/src/protvista-uniprot.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/components/Context.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/utils/batch.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/utils/Subscription.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/components/Provider.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/components/connectAdvanced.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/utils/shallowEqual.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/wrapMapToProps.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/mapDispatchToProps.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/mapStateToProps.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/mergeProps.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/selectorFactory.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/connect/connect.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/hooks/useSelector.js","webpack:///./node_modules/use-memo-one/dist/use-memo-one.esm.js","webpack:///./node_modules/react-beautiful-dnd/node_modules/react-redux/es/index.js","webpack:///./node_modules/css-box-model/dist/css-box-model.esm.js","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./node_modules/raf-schd/dist/raf-schd.esm.js","webpack:///./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js","webpack:///./node_modules/protvista-utils/src/Region.js","webpack:///./node_modules/protvista-utils/src/TrackHighlighter.js","webpack:///./node_modules/protvista-utils/src/index.js","webpack:///./node_modules/protvista-utils/src/ScrollFilter.js","webpack:///./node_modules/lodash-es/_baseFindIndex.js","webpack:///./node_modules/lodash-es/_baseIsNaN.js","webpack:///./node_modules/lodash-es/_strictIndexOf.js","webpack:///./node_modules/lodash-es/_baseIndexOf.js","webpack:///./node_modules/lodash-es/noop.js","webpack:///./node_modules/lodash-es/_createSet.js","webpack:///./node_modules/lodash-es/_baseUniq.js","webpack:///./node_modules/whatwg-fetch/fetch.js","webpack:///./node_modules/protvista-structure/src/protvista-structure.js","webpack:///./node_modules/lit-html/directives/unsafe-html.js","webpack:///./node_modules/@swissprot/rhea-reaction-visualizer/index.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/lodash-es/_cloneBuffer.js","webpack:///./node_modules/lodash-es/_arrayEach.js","webpack:///./node_modules/lodash-es/_assignValue.js","webpack:///./node_modules/lodash-es/_copyObject.js","webpack:///./node_modules/lodash-es/_baseAssign.js","webpack:///./node_modules/lodash-es/_nativeKeysIn.js","webpack:///./node_modules/lodash-es/_baseKeysIn.js","webpack:///./node_modules/lodash-es/keysIn.js","webpack:///./node_modules/lodash-es/_baseAssignIn.js","webpack:///./node_modules/lodash-es/_copyArray.js","webpack:///./node_modules/lodash-es/_copySymbols.js","webpack:///./node_modules/lodash-es/_getPrototype.js","webpack:///./node_modules/lodash-es/_getSymbolsIn.js","webpack:///./node_modules/lodash-es/_copySymbolsIn.js","webpack:///./node_modules/lodash-es/_getAllKeysIn.js","webpack:///./node_modules/lodash-es/_initCloneArray.js","webpack:///./node_modules/lodash-es/_cloneArrayBuffer.js","webpack:///./node_modules/lodash-es/_cloneDataView.js","webpack:///./node_modules/lodash-es/_cloneRegExp.js","webpack:///./node_modules/lodash-es/_cloneSymbol.js","webpack:///./node_modules/lodash-es/_cloneTypedArray.js","webpack:///./node_modules/lodash-es/_initCloneByTag.js","webpack:///./node_modules/lodash-es/_baseCreate.js","webpack:///./node_modules/lodash-es/_initCloneObject.js","webpack:///./node_modules/lodash-es/_baseIsMap.js","webpack:///./node_modules/lodash-es/isMap.js","webpack:///./node_modules/lodash-es/_baseIsSet.js","webpack:///./node_modules/lodash-es/isSet.js","webpack:///./node_modules/lodash-es/_baseClone.js","webpack:///./node_modules/lodash-es/clone.js","webpack:///./node_modules/interaction-viewer/src/treeMenu.js","webpack:///./node_modules/interaction-viewer/src/apiLoader.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/range.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/init.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/band.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/ticks.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/ascending.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/bisector.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/bisect.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-array/src/number.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-color/src/define.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-color/src/color.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/number.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/constant.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/exponent.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/identity.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/locale.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/interaction-viewer/node_modules/d3-scale/src/linear.js","webpack:///./node_modules/interaction-viewer/src/AdjacencyGraph.js","webpack:///./node_modules/interaction-viewer/src/filters.js","webpack:///./node_modules/interaction-viewer/src/interaction-viewer.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/FeatureShape.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/DefaultLayout.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/NonOverlappingLayout.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/config.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/ConfigHelper.js","webpack:///./node_modules/protvista-variation/node_modules/protvista-track/src/protvista-track.js","webpack:///./node_modules/protvista-variation/src/processVariants.js","webpack:///./node_modules/protvista-variation/src/variationPlot.js","webpack:///./node_modules/protvista-variation/src/protvista-variation.js","webpack:///./node_modules/protvista-variation-adapter/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/protvista-variation-adapter/node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/protvista-variation-adapter/node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/protvista-variation-adapter/node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/protvista-variation-adapter/node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/protvista-variation-adapter/dist/es/tooltipGenerators.js","webpack:///./node_modules/protvista-variation-adapter/dist/es/variants.js","webpack:///./node_modules/protvista-variation-adapter/dist/es/protvista-variation-adapter.js","webpack:///./node_modules/protvista-track/src/FeatureShape.js","webpack:///./node_modules/protvista-track/src/DefaultLayout.js","webpack:///./node_modules/protvista-track/src/NonOverlappingLayout.js","webpack:///./node_modules/protvista-track/src/config.js","webpack:///./node_modules/protvista-track/src/ConfigHelper.js","webpack:///./node_modules/protvista-track/src/protvista-track.js","webpack:///./node_modules/lodash-es/flatten.js","webpack:///./node_modules/lodash-es/uniq.js","webpack:///./node_modules/lodash-es/_baseMap.js","webpack:///./node_modules/lodash-es/_baseSortBy.js","webpack:///./node_modules/lodash-es/_compareAscending.js","webpack:///./node_modules/lodash-es/_compareMultiple.js","webpack:///./node_modules/lodash-es/_baseOrderBy.js","webpack:///./node_modules/lodash-es/_isIterateeCall.js","webpack:///./node_modules/lodash-es/sortBy.js"],"names":["isPrimitive","value","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","element","name","strings","this","dirty","parts","i","length","_createPart","AttributePart","l","text","part","undefined","v","String","t","setAttribute","_getValue","committer","directive","commit","NodePart","options","__pendingValue","container","startNode","appendChild","endNode","ref","nextSibling","__insert","parentNode","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","node","insertBefore","valueAsString","previousSibling","nodeType","data","document","createTextNode","template","templateFactory","update","values","instance","processor","fragment","_clone","itemParts","itemPart","partIndex","item","push","appendIntoPart","insertAfterPart","setValue","BooleanAttributePart","Error","removeAttribute","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","window","addEventListener","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","call","o","a","b","NaN","f","compare","d","x","ascending","left","lo","hi","mid","right","ascendingBisect","bisector","bisectRight","bisect","prototype","slice","map","start","stop","step","n","arguments","Math","max","ceil","range","e10","sqrt","e5","e2","reverse","ticks","count","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","valueof","translateX","translateY","y","scale","center","offset","bandwidth","round","entering","__axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","axis","context","apply","domain","format","spacing","range0","range1","position","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","merge","insert","transition","getAttribute","p","remove","filter","each","_","tickSize","axisRight","axisBottom","axisLeft","noop","dispatch","test","Dispatch","parseTypenames","typenames","types","trim","split","indexOf","hasOwnProperty","type","get","c","set","callback","concat","constructor","on","typename","T","that","args","preventDefault","stopImmediatePropagation","root","view","documentElement","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","factory","extend","parent","definition","Object","create","key","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","m","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","min","toString","h","s","Hsl","hslConvert","hsl2rgb","m1","m2","basis","t1","v0","v1","v2","v3","t2","t3","define","channels","assign","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","color","end","rgbGamma","rgbSpline","spline","colors","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","Date","setTime","reA","reB","source","taskHead","taskTail","am","bm","bs","bi","lastIndex","q","index","one","join","numberArray","valueOf","object","timeout","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","bind","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","timerFlush","t0","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","elapsed","emptyOn","emptyTween","schedules","__transition","id","self","tween","j","state","__data__","group","duration","ease","timing","init","schedule","cssNode","cssRoot","cssView","svgNode","active","empty","degrees","PI","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","interpolateTransformCss","createElement","defaultView","getComputedStyle","getPropertyValue","removeChild","decompose","interpolateTransformSvg","createElementNS","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","splice","tweenFunction","tweenValue","_id","attrRemove","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","interpolate","value1","string00","interpolate0","string1","string0","attrConstantNS","getAttributeNS","attrFunction","string10","attrFunctionNS","attrInterpolate","attrInterpolateNS","setAttributeNS","attrTweenNS","i0","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","listener","on0","on1","sit","every","Selection","styleRemove","removeProperty","styleInterpolate","priority","setProperty","styleTween","textInterpolate","textContent","textTween","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","selector","subgroups","subnode","subgroup","selectorAll","child","children","inherit","match","matcher","groups0","groups1","m0","merges","group0","group1","id0","id1","nodes","size","namespace","styleNull","styleFunction","listener0","styleMaybeRemove","styleConstant","textFunction","textConstant","Promise","resolve","reject","cancel","interrupt","defaultTiming","target","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","identifier","touch","touches","X","handles","input","output","xy","Y","cursors","overlay","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","svg","ownerSVGElement","hasAttribute","viewBox","width","height","defaultTouchable","navigator","maxTouchPoints","__brush","extent","brushX","dim","touchending","touchable","keys","listeners","handleSize","brush","property","initialize","handle","redraw","started","touchmoved","touchended","emitter","clean","emit","Emitter","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","mode","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","pointer","changedTouches","mouse","point0","point","beforestart","moved","ended","keydowned","keyupped","point1","move","keyCode","selection0","selection1","starting","keyModifiers","cos","sin","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","rect","Map","has","entries","Set","proto","add","tree","xm","ym","xp","yp","bottom","_root","leaf","_x","_y","next","quadtree","Quadtree","addAll","leaf_copy","treeProto","cover","xz","yz","z","visit","find","x3","y3","quads","radius","d2","retainer","previous","removeAll","visitAfter","formatDecimalParts","toExponential","coefficient","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","zero","comma","precision","prefixExponent","exponent","toFixed","toLocaleString","replace","toPrecision","formatRounded","toUpperCase","prefixes","locale","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","formatTrim","charCodeAt","padding","formatPrefix","random","randomUniform","sourceRandomUniform","randomNormal","mu","sigma","sourceRandomNormal","randomLogNormal","normal","exp","sourceRandomLogNormal","randomIrwinHall","sum","sourceRandomIrwinHall","randomBates","irwinHall","sourceRandomBates","randomExponential","lambda","sourceRandomExponential","initRange","implicit","ordinal","unknown","band","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","pointish","unit","normalize","clamper","bimap","d0","d1","r0","r1","polymap","clamp","transformer","untransform","piecewise","invert","u","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","nice","transformPow","transformSqrt","transformSquare","powish","newInterval","floori","offseti","field","interval","date","setMonth","setHours","setFullYear","getFullYear","setDate","getMonth","weekday","getDate","getDay","getTimezoneOffset","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getMilliseconds","getSeconds","getMinutes","getHours","getUTCSeconds","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","pads","numberRe","percentRe","requoteRe","pad","string","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","utcFormat","utcParse","formatLocale","utcMonth","utcHour","setUTCMinutes","utcMinute","setUTCSeconds","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","defined","curve","buffer","defined0","RedBlackTree","RedBlackNode","C","R","P","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","after","grandpa","uncle","sibling","createEdge","edge","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","ax","ay","connectEdge","fm","fb","lx","ly","rx","ry","fx","fy","cellHalfedgeAngle","cell","site","va","vb","cellHalfedgeStart","cellHalfedgeEnd","firstCircle","circlePool","Circle","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","cx","epsilon2","ha","hc","circle","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","sort","array","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","dc","v00","v01","v11","v10","clipCells","edges","polygons","polygon","triangles","forEach","links","_found","vx","vy","rho","SQRT2","cosh","ux0","p0","uy0","ux1","p1","uy1","b0","b1","coshr0","sinh","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","SVGElement","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","touchstarting","constrain","wheelDelta","scaleExtent","clickDistance2","zoom","wheeled","mousedowned","dblclicked","touchstarted","centroid","gesture","__zooming","Gesture","taps","wheel","wheelidled","mousemoved","mouseupped","clientX","clientY","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","clickDistance","idx","accessor","nullPattern","undefinedPattern","default","module","exports","marker","nodeMarker","markerRegex","boundAttributeSuffix","Template","result","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","nextNode","hasAttributes","attributes","endsWith","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","statics","tagName","currentNode","createMarker","str","isTemplatePartActive","createComment","union","arrays","nativeMin","iteratee","comparator","includes","othLength","othIndex","caches","maxLength","seen","outer","computed","cache","isArrayLikeObject","intersection","mapped","isCEPolyfill","customElements","polyfillWrapFlushCallback","reparentNodes","removeNodes","_extends","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rng","uuid","byteToHex","substr","_nodeId","_clockseq","arr","_lastMSecs","_lastNSecs","buf","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","description","shortDescription","acronym","isManual","renameProperties","features","ft","obj","begin","getEvidenceFromCodes","evidenceList","ev","ecoMatch","eco","code","url","alternativeUrl","formatXrefs","xrefs","xref","formatTooltip","feature","evidenceHTML","evidences","matchScore","ftId","alternativeSequence","transformData","transformedData","tooltipContent","protvistaFeatureId","ProtvistaFeatureAdapter","HTMLElement","_adaptedData","subscribers","_filters","_addLoaderListeners","_emitEvent","_subscribers","subscriberId","subscriberElt","querySelector","console","parseEntry","filterData","_setSubscriberData","dispatchEvent","CustomEvent","detail","payload","bubbles","cancelable","stopPropagation","errorMessage","ProtvistaZoomable","_polyfillElementClosest","_updateScaleDomain","_initZoom","zoomed","_applyZoomTranslation","applyZoomTranslation","_resetEventHandler","aboutToApply","_onResize","_listenForResize","trackHighlighter","scrollFilter","wheelListener","display","offsetWidth","closest","manager","register","_length","parseFloat","_displaystart","_displayend","_height","_highlightEvent","setAttributesInElement","_originXScale","xScale","unregister","_ro","unobserve","_width","_xScale","_zoom","_svg","top","region","setFixedHighlight","margin","getWidthWithMargins","WheelEvent","scrollableAttribute","strValue","oldValue","newValue","startsWith","changedCallBack","setFloatAttribute","dontDispatch","displaystart","displayend","refresh","observe","createEvent","pageX","pageY","Element","matches","msMatchesSelector","webkitMatchesSelector","el","parentElement","withHighlight","withId","eventtype","coords","_getClickCoords","fragments","highlight","fr","_highlight","selectedid","removeNodesFromTemplate","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","startIndex","directives","WeakMap","isDirective","noChange","nothing","__parts","cloneNode","importNode","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","trustedTypes","createPolicy","createHTML","commentMarker","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","getHTML","innerHTML","templateCache","templateCaches","stringsArray","keyString","getTemplateElement","defaultTemplateProcessor","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","prepareTemplateStyles","renderedDOM","templateElement","styles","querySelectorAll","condensedStyle","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","JSON","stringify","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","UpdatingElement","finalize","_classProperties","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","_ensureClassProperties","noAccessor","descriptor","getPropertyDescriptor","defineProperty","requestUpdateInternal","configurable","enumerable","superCtor","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_updateState","_updatePromise","res","_enableUpdatingResolver","_changedProperties","_saveInstanceProperties","_v","_instanceProperties","enableUpdating","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","getPropertyOptions","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_reflectingProperties","_hasRequestedUpdate","_enqueueUpdate","updateComplete","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","_propertyToAttribute","ElementProto","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","css","reduce","acc","textFromCSSResult","renderNotImplemented","userStyles","getStyles","addStyles","reduceRight","_styles","cssRules","rule","_getUniqueStyles","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","host","firstScopeRender","renderContainer","createDocumentFragment","appendInto","delete","raw","freeze","defineProperties","TemplateResult","SVGTemplateResult","svgElement","filterEvents","mouseenter","mouseleave","filterContextListener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","onAdd","wrap","customEvent","sourceEvent","isObjectLike","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isSymbol","isObject","other","isBinary","remainder","nativeMax","fromIndex","guard","isArrayLike","xhtml","xlink","xml","xmlns","none","ownerDocument","creatorInherit","uri","namespaceURI","creatorFixed","createSVGPoint","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","clientLeft","clientTop","ProtVistaManager","protvistaElements","attributeValues","propertyValues","mouseOver","_attributes","observedAttributes","applyAttributes","forElementId","attributeName","handler","applyProperties","for","isRegisteredAttribute","_changeListener","EnterNode","datum","_parent","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","htmlRemove","htmlConstant","htmlFunction","raise","lower","constantNull","selection_cloneShallow","clone","selection_cloneDeep","params","initEvent","dispatchConstant","dispatchFunction","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","compareNode","sortgroups","sortgroup","classed","creator","deep","visibleChildren","noScrollToRow","noDeselect","eventHandler","processData","disconnectedCallback","_data","requestUpdate","columns","displayStart","displayEnd","rowClickEvent","Function","rangeStart","rangeEnd","row","dataset","className","isOutside","isWithinRange","rowItems","some","column","resolver","rowId","childId","shadowRoot","scrollIntoView","behavior","block","childRowItems","label","columnsToDisplay","rowIndex","hasChildData","getStyleClass","handleClick","toggleVisibleChild","getChildRow","TemplateInstance","styleValue","ProtVistaSequence","sequence","_createSequence","seq_g","chWidth","getBBox","chHeight","tempNode","seq_bg","appendHighlightTo","_getCharSize","ftWidth","getSingleBaseWidth","half","first","last","bases","aa","xAxis","isInteger","getXFromSeqPosition","background","bindEvents","_updateHighlight","updateHighlight","ProtVistaNavigation","_padding","_refreshWidth","_highlightStart","_highlightEnd","_rulerstart","_createNavRuler","_updateNavRuler","_xAxis","_displaystartLabel","_displayendLabel","_axis","_viewport","extra","_updateLabels","_updatePolygon","_brushG","ResizeObserver","func","thisArg","otherArgs","constant","identity","nativeNow","lastCalled","stamp","remaining","spreadableSymbol","isConcatSpreadable","isArguments","baseFlatten","depth","predicate","isStrict","current","ProtvistaFilter","filters","selectedFilters","_onFilterChange","groupByType","filterItem","getCheckBox","labels","isCompound","toggleFilter","composed","category","filterFn","paramName","required","env","importScripts","maxTimeout","requestIdleCallback","idleDeadline","didTimeout","timeRemaining","then","_schedule","getNumberFromStyleString","defaultValue","title","visible","_changeHandler","_observer","MutationObserver","subtree","characterData","childList","disconnect","firstElementChild","containerRect","tooltipRect","triangleWidth","triangleHeight","triangleMargin","verticalDistance","horizontal","vertical","_getPosition","FeatureShape","aaWidth","ftHeight","ftLength","shape","_ftLength","_ftHeight","_ftWidth","centerx","symbolSize","_getMiddleLine","sidesNumber","_getPolygon","qh","_getBrokenStart","_getBrokenEnd","loop","rl","DefaultLayout","layoutHeight","minHeight","_minHeight","_layoutHeight","_features","featureHeight","getFeatureHeight","featureOvelapsInRow","rowFeature","featuresOverlap","feature1","feature2","featuresMap","_rowHeight","_rows","findIndex","rowNumber","getOffset","config","CHAIN","tooltip","TRANSIT","INIT_MET","PROPEP","PEPTIDE","SIGNAL","HELIX","STRAND","TURN","DISULFID","CROSSLNK","REGION","COILED","MOTIF","REPEAT","CA_BIND","DNA_BIND","DOMAIN","ZN_FING","NP_BIND","METAL","SITE","BINDING","ACT_SITE","MOD_RES","LIPID","CARBOHYD","COMPBIAS","CONFLICT","NON_CONS","NON_TER","UNSURE","NON_STD","MUTAGEN","TOPO_DOM","TRANSMEM","INTRAMEM","VAR_SEQ","VARIANT","UNIQUE","NON_UNIQUE","ANTIGEN","PDBE_COVER","getShapeByType","info","typeInfo","getColorByType","_color","_shape","_featureShape","_layoutObj","getLayout","_createTrack","locations","_originalData","normalizeLocations","_applyFilters","_getFeatureColor","_createFeatures","featuresG","accession","loc","fragmentGroup","_getShape","getFeatureShape","getFeatureYPos","_getFeatureFillColor","groupedFilters","filteredGroups","filterGroup","filteredData","fragmentG","acc2","yPos","maxYPos","innerPadding","residuesPos","expanded","residues","_initResidues","featureAcc","locs","resGroup","_filterOutResidueFragmentsOutOfLocation","desc","residue","featureLocations","locRes","fragRes","frag","_getAccFromFeature","addContributor","contributor","coverage","toContribute","newCoverage","segment","_expanded","children_g","_haveCreatedFeatures","_contributors","attributeChangedCallback","contributors","_coverage","createEmptyFragments","getCoverage","baseG","currentResidue","numberOfSibillings","coverLines","agg","residues_g","_createResidueGroup","residues_loc","_createResiduePaths","childrenGroup","childGroup","locationChildrenG","coverLinesChildren","featureChildren","child_residues_g","child_residues_loc","_createCoverage","_accession","coverage_mask","coverageMaskFragment","base","_refreshCoverLine","_refreshFeatures","_refreshResiduePaths","_refreshCoverage","variants","mutationArray","pos","variant","_frequency","drawVariationPlot","series","withVariants","elem","bars","_yScale","mutation","internalId","wildType","_colorConfig","aaList","deepArrayOperation","operation","firstArray","filteredVariants","styleElt","_variationPlot","mainChart","chartArea","_clipPath","_series","_axisLeft","_axisRight","updateScale","updateData","colorConfig","_yAxisLScale","_yAxisRScale","_totalsArray","total","diseaseTotal","Uint8ClampedArray","association","disease","_initYScale","__awaiter","_arguments","generator","fulfilled","rejected","done","store","load","headers","Headers","accept","cached","promise","response","fetch","ok","status","json","catch","adaptedData","unique","structures","sortedStructures","mergedIntervals","structure","lastItem","mergeOverlappingIntervals","dbReferences","reference","structureReference","parsedChain","chains","posEqual","posDash","parseChainString","accumulator","propertyKey","word","getAllFeatureStructures","structuresHTML","AminoAcid","Source","ClinicalSignificanceType","ConsequenceType","PredAlgorithmNameType","PredictionValType","SourceType","FeatureType","populationFrequencies","popFrequencies","freq","frequency","populationName","consequenceType","somaticStatus","genomicLocation","descriptions","associations","predictions","groupedPredictions","groupBy","valueGroups","algorithm","valKey","countItem","countValue","getPredictions","getSourceType","sourceType","xrefNames","Variant","clinicalSignificances","hasPredictions","results","metadata","proteins","entry_protein_locations","protein_length","loadComponent","PDBLinks","link","onTableRowClick","pdbId","refA","refB","localeCompare","resolution","method","chain","positions","tokens","protvistaDatatableElt","pdbLink","prev","curr","delta","ascendingComparator","prestep","maxIter","scaleColors","consequences","significanceMatches","clinicalSignificance","getFilteredVariants","callbackFilter","matchingVariants","variantPos","filterConfig","polyphenScore","siftScore","predictionScale","variantWrapper","adapters","openCategories","notooltip","nostructure","hasData","displayCoordinates","suspend","tasks","categories","adapter","tracks","urlWithProtein","track","all","getElementById","currentCategory","elementTrack","filterComponent","variationComponent","_init","_loadDataInComponents","loadEntry","entryData","_loadData","registerWebComponents","updateTooltip","_resetTooltip","cssStyle","download","handleCategoryClick","getTrack","trackType","trackData","getFilterComponent","toggle","forId","layout","ReactReduxContext","createContext","nullListeners","notify","createListenerCollection","batch","subscribe","isSubscribed","Subscription","parentSub","unsubscribe","handleChangeWrapper","_proto","addNestedSub","trySubscribe","notifyNestedSubs","onStateChange","tryUnsubscribe","_ref","contextValue","subscription","previousState","getState","Context","Provider","useIsomorphicLayoutEffect","EMPTY_ARRAY","NO_SUBSCRIPTION_ARRAY","storeStateUpdatesReducer","action","updateCount","useIsomorphicLayoutEffectWithArgs","effectFunc","effectArgs","dependencies","captureWrapperProps","lastWrapperProps","lastChildProps","renderIsScheduled","wrapperProps","actualChildProps","childPropsFromStoreUpdate","subscribeUpdates","shouldHandleStateChanges","childPropsSelector","forceComponentUpdateDispatch","didUnsubscribe","lastThrownError","checkForUpdates","newChildProps","latestStoreState","initStateUpdates","connectAdvanced","selectorFactory","_ref2","_ref2$getDisplayName","getDisplayName","_ref2$methodName","methodName","_ref2$renderCountProp","renderCountProp","_ref2$shouldHandleSta","_ref2$storeKey","storeKey","_ref2$forwardRef","withRef","forwardRef","_ref2$context","connectOptions","WrappedComponent","wrappedComponentName","displayName","selectorFactoryOptions","pure","usePureOnlyMemo","ConnectFunction","_useMemo","reactReduxForwardedRef","propsContext","ContextToUse","Consumer","didStoreComeFromProps","createChildSelector","_useMemo2","overriddenContextValue","_useReducer","previousStateUpdateResult","renderedWrappedComponent","Connect","memo","forwarded","is","shallowEqual","objA","objB","keysA","keysB","wrapMapToPropsConstant","getConstant","constantSelector","dependsOnOwnProps","getDependsOnOwnProps","mapToProps","wrapMapToPropsFunc","proxy","stateOrDispatch","ownProps","mapDispatchToProps","mapStateToProps","defaultMergeProps","stateProps","dispatchProps","mergeProps","mergedProps","areMergedPropsEqual","hasRunOnce","nextMergedProps","wrapMergePropsFunc","impureFinalPropsSelectorFactory","pureFinalPropsSelectorFactory","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","hasRunAtLeastOnce","handleSubsequentCalls","nextState","nextOwnProps","nextStateProps","statePropsChanged","propsChanged","stateChanged","finalPropsSelectorFactory","initMapStateToProps","initMapDispatchToProps","initMergeProps","arg","factories","strictEqual","createConnect","_temp","_ref$connectHOC","connectHOC","_ref$mapStateToPropsF","mapStateToPropsFactories","_ref$mapDispatchToPro","mapDispatchToPropsFactories","_ref$mergePropsFactor","mergePropsFactories","_ref$selectorFactory","_ref3","_ref3$pure","_ref3$areStatesEqual","_ref3$areOwnPropsEqua","_ref3$areStatePropsEq","_ref3$areMergedPropsE","extraOptions","newBatch","useMemoOne","getResult","inputs","initial","committed","newInputs","lastInputs","areInputsEqual","useMemo","useCallback","getRect","expand","expandBy","shrink","shrinkBy","noSpacing","createBox","borderBox","_ref2$margin","_ref2$border","border","_ref2$padding","marginBox","paddingBox","contentBox","original","change","shiftBy","shifted","withScroll","scroll","pageXOffset","pageYOffset","calculateBox","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","getBox","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","fn","frameId","wrapperFn","_len","_key","cancelAnimationFrame","message","bindings","sharedOptions","unbindings","binding","shared","fromBinding","unbind","RbdInvariant","invariant","condition","_React$Component","ErrorBoundary","_this","callbacks","onWindowError","getCallbacks","isDragging","tryAbort","setCallbacks","componentDidMount","componentWillUnmount","componentDidCatch","err","setState","Component","withLocation","destination","isInHomeList","droppableId","startPosition","endPosition","withCombine","combine","draggableId","returnedToStart","preset","reason","origin","point2","subtract","negate","patch","otherValue","distance","points","offsetByPosition","getCorners","frame","shouldClipSubject","subject","executeClip","pageMarginBox","getSubject","page","withPlaceholder","increased","_extends2","increasedBy","diff","displacement","droppable","newScroll","scrollable","scrollDiff","scrollDisplacement","toArray","toDroppableMap","droppables","toDraggableMap","draggables","toDroppableList","toDraggableList","getDraggablesInsideDroppable","draggable","tryGetDestination","impact","at","tryGetCombine","removeDraggableFromList","isHomeOf","noDisplacedBy","emptyGroups","invisible","noImpact","displaced","displacedBy","isWithin","lowerBound","upperBound","isPartiallyVisibleThroughFrame","isWithinVertical","isWithinHorizontal","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isBiggerVertically","isBiggerHorizontally","isTotallyVisibleThroughFrame","direction","crossAxisLine","crossAxisStart","crossAxisEnd","crossAxisSize","isVisible","toBeDisplaced","viewport","withDroppableDisplacement","isVisibleThroughFrameFn","displacedTarget","getDroppableDisplaced","isVisibleInDroppable","isVisibleInViewport","getDisplacementGroups","afterDragging","forceShouldAnimate","getTarget","shouldAnimate","getShouldAnimate","goAtEnd","insideDestination","inHomeList","newIndex","indexOfLastItem","getIndexOfLastItem","calculateReorderImpact","withoutDragging","sliceFrom","didStartAfterCritical","afterCritical","effected","moveToNextIndex","isMovingForward","previousImpact","wasAt","_newIndex","currentIndex","proposedIndex","firstIndex","fromReorder","isCombineEnabled","combineId","combineWithIndex","fromCombine","whenCombining","combineWith","displaceBy","isDisplaced","getCombinedItemDisplacement","distanceFromStartToBorderBoxCenter","box","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","distanceFromEndToBorderBoxCenter","whenReordering","draggablePage","moveInto","goIntoStart","closestAfter","withDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","getResultWithoutDroppableDisplacement","scrollViewport","getDraggables","ids","getClientFromPageBorderBoxCenter","pageBorderBoxCenter","withoutPageScrollChange","withViewportDisplacement","client","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isEnabled","getImpact","closestId","withoutDraggable","indexOfClosest","moveToNextCombine","clientSelection","scrollJumpRequest","maxScrollChange","scrolledViewport","scrolledDroppable","withViewportScroll","withDroppableScroll","tryGetVisible","speculativelyIncrease","getKnownActive","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getDisplacedBy","placeholderSize","requiredGrowth","availableSpace","needsToGrowBy","dimension","getRequiredGrowthForPlaceholder","added","oldFrameMaxScroll","_subject","maxScroll","newFrame","moveCrossAxis","isOver","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","second","isWithinDroppable","getBestCrossAxisDroppable","proposed","proposedPageBorderBoxCenter","relativeTo","isGoingBeforeTarget","moveToNewDroppable","distanceToA","distanceToB","getClosestDraggable","whatIsDraggedOver","moveInDirection","isActuallyOver","getDroppableOver","dimensions","isMainAxisMovementAllowed","home","critical","isMovingOnMainAxis","borderBoxCenter","_state$dimensions","phase","isPositionInFrame","getDroppableOver$1","pageBorderBox","childCenter","isContained","isStartContained","isEndContained","startCenter","sorted","candidate","getFurthestAway","getIsDisplaced","getDragImpact","pageOffset","destinationId","area","pageBorderBoxWithDroppableScroll","targetRect","targetStart","targetEnd","childRect","threshold","didStartAfterCritical$1","getCombineImpact","atIndex","getReorderImpact","patchDroppableMap","clearUnusedPlaceholder","lastDroppable","_subject2","oldMaxScroll","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","newImpact","withUpdatedPlaceholders","cleaned","patched","recomputePlaceholders","recompute","getDraggables$1","getClientBorderBoxCenter","refreshSnap","movementMode","needsVisibilityCheck","getLiftEffect","insideHome","rawIndex","inVirtualList","adjustAdditionsForScrollChanges","additions","updatedDroppables","windowScrollChange","droppableScrollChange","getFrame","offset$1","initialWindowScroll","placeholder","offsetDraggable","isSnapping","postDroppableChange","isEnabledChanging","patchDimensionMap","removeScrollJumpRequest","idle","completed","shouldFlush","reducer","_action$payload","isWindowScrollAllowed","isFixedOnPage","_getLiftEffect","onLiftImpact","published","withScrollChange","modified","existing","updatedAdditions","removals","wasOverId","wasOver","draggingState","isWaiting","publishWhileDraggingInVirtual","_clientSelection","_action$payload2","scrolled","_action$payload3","_target","_action$payload4","_id2","_target2","_updated","_newScroll","withMaxScroll","_result2","_action$payload5","dropDuration","newHomeClientOffset","publishWhileDragging","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","moveUp","moveDown","moveRight","moveLeft","completeDrop","dropAnimationFinished","curves","drop","combining","outOfTheWayTiming","transitions","fluid","snap","outOfTheWay","transforms","isCombining","minDropTime","maxDropTime","dropTimeRange","drop$1","_getDropImpact","lastImpact","didDropInsideDroppable","getDropImpact","newClientCenter","getNewHomeClientOffset","distance$1","getDropDuration","animateDrop","getScrollListener","onWindowScroll","scheduled","isActive","scrollListener","shouldEnd","getAsyncMarshal","timerId","execute","entry","flush","shallow","withTimings","getDragStart","responder","announce","getDefaultMessage","willExpire","wasCalled","isExpired","timeoutId","getExpiringAnnounce","responders","getResponders","publisher","asyncMarshal","dragging","onDragEnd","beforeCapture","onBeforeCapture","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","onDragStart","hasCriticalChanged","isDraggableEqual","isDroppableEqual","isCriticalEqual","hasLocationChanged","hasGroupingChanged","isCombineEqual","onDragUpdate","abort","getPublisher","dropAnimationFinish","dropAnimationFlushOnScroll","pendingDrop","postActionState","composeEnhancers","createStore","marshal","dimensionMarshal","focusMarshal","styleMarshal","autoScroller","dropping","resting","stopPublishing","dimensionMarshalStopper","request","scrollOptions","shouldPublishImmediately","_marshal$startPublish","startPublishing","initialPublish","shouldStop","autoScroll","isWatching","tryRecordFocus","tryRestoreFocusRecorded","tryShiftRecord","getMaxScroll","scrollHeight","scrollWidth","getDocumentElement","doc","getMaxWindowScroll","getInitialPublish","registry","windowScroll","getAllByType","getDimensionAndWatchScroll","getDimension","shouldPublishUpdate","getById","getRemainder","createDimensionMarshal","staging","collect","_staging","getScrollWhileDragging","publish","createPublisher","subscriber","exists","scrollDroppable","dragStopped","canStartDrag","scrollBy","getScrollableDroppables","getBestScrollableDroppable","_dimension","getScrollableDroppableOver","percentage","stopDampeningAt","accelerateAt","getPercentage","startOfRange","endOfRange","stopAt","getValue","distanceToEdge","thresholds","dragStartTime","shouldUseTimeDampening","startScrollingFrom","maxScrollValueAt","percentageFromMaxScrollValueAt","getValueFromDistance","proposedScroll","runTime","betweenAccelerateAtAndStopAtPercentage","dampenValueByTime","getScrollOnAxis","distanceToEdges","getDistanceThresholds","clean$2","getScroll","limited","isTooBigVertically","isTooBigHorizontally","adjustForSizeLimits","smallestSigned","getOverlap","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","canScrollDroppable","scroll$1","scrollWindow","_change","getWindowScrollChange","getDroppableScrollChange","createJumpScroller","scrollDroppableAsMuchAsItCan","getDroppableOverlap","whatTheDroppableCanScroll","scrollWindowAsMuchAsItCan","getWindowOverlap","whatTheWindowCanScroll","droppableRemainder","windowRemainder","moveByOffset","createAutoScroller","fluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","wasScrollNeeded","fakeScrollCallback","createFluidScroller","jumpScroll","dragHandle","prefix$1","contextId","scrollContainer","rules","getHead","head","createStyleEl","nonce","useStyleMarshal","grabCursor","getSelector","dragHandle$1","always","dropAnimating","userCancel","getStyles$1","alwaysRef","dynamicRef","setDynamicStyle","setAlwaysStyle","dynamic","getWindowFromEl","isHtmlElement","findDragHandle","possible","createRegistry","cb","findDraggableById","findDroppableById","uniqueId","findById","StoreContext","getBodyElement","body","visuallyHidden","overflow","clip","defaults","separator","useUniqueId","AppContext","useDev","useHook","useDevSetupWarning","useStartupValidation","usePrevious","_preventedKeys","preventedKeys","preventStandardKeyEvents","supportedEventName","_scrollJumpKeys","idle$1","getCaptureBindings","getPhase","setPhase","actions","pending","fluidLift","shouldBlockNextClick","shouldRespectForcePress","noop$1","scrollJumpKeys","getDraggingBindings","idle$2","interactiveTagNames","textarea","option","optgroup","video","audio","isEventInInteractiveElement","isAnInteractiveElement","getBorderBoxCenterPosition","supportedMatchesName","closest$1","closestPonyfill","findClosestDragHandleFromEvent","_isActive","expected","isLockActive","shouldWarn","canStart","lockAPI","isClaimed","tryStart","forceSensorStop","draggable$1","findDraggable","canDragInteractiveElements","lock","claim","getShouldRespectForcePress","tryDispatchWhenDragging","getAction","lift$1","release","finish","cleanup","lift","liftActionArgs","move$1","api","snapLift","defaultSensors","phaseRef","unbindEventsRef","startCaptureBinding","defaultPrevented","findClosestDraggableId","tryGetLock","startPendingDrag","preventForcePressBinding","findOptionsForDraggable","canGetLock","listenForCapture","bindCapturingEvents","preDrag","isCapturing","longPressTimerId","unbindTarget","hasMoved","_event$touches$","force","shouldRespect","getHandleBindings","unbindWindow","getWindowBindings","startDragging","useSensorMarshal","_ref4","customSensors","enableDefaultSensors","useSensors","abandon","newLock","tryAbandon","tryAbandonLock","forceStop","tryGetClosestDraggableIdFromEvent","tryReleaseLock","isLockClaimed","getStore","lazyRef","App","sensors","dragHandleUsageInstructions","lazyStoreRef","lastPropsRef","createResponders","getId","useAnnouncer","dragHandleUsageInstructionsId","useHiddenTextElement","lazyDispatch","marshalCallbacks","useRegistry","entriesRef","recordRef","restoreFocusFrameRef","isMountedRef","focus","tryGiveFocus","tryGiveFocusTo","activeElement","redirectTo","record","focused","useFocusMarshal","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","isMovementAllowed","count$1","DragDropContext","isEqual$1","isScroll","isAuto","isEither","overflowX","overflowY","isElementScrollable","getClosestScrollable","getScroll$1","scrollLeft","scrollTop","getEnv","closestScrollable","getIsFixed","isDropDisabled","targetRef","frameClient","scrollSize","getDroppableDimension","immediate","delayed","getListenerOptions","useRequiredContext","getClosestScrollableFromDrag","noop$2","getStyle","isAnimatingOpenOnMount","animate","getSize","boxSizing","flexShrink","flexGrow","pointerEvents","Placeholder$1","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","propertyName","innerRef","DroppableContext","_React$PureComponent","AnimateInOut","getDerivedStateFromProps","provided","PureComponent","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getStyle$1","getShouldDraggingAnimate","zIndex","secondary","shouldAnimateDisplacement","useDraggablePublisher","getDraggableRef","computedStyles","getDimension$1","publishedRef","isFirstPublishRef","useValidation$1","getRef","preventHtml5Dnd","isStrictEqual","whatIsDraggedOverFromResult","getSecondarySnapshot","combineTargetFor","isClone","dropAnimation","draggingOver","atRest","snapshot","ConnectedDraggable","memoizedOffset","getMemoizedSnapshot","getMemoizedProps","draggingSelector","_draggingOver","_combineWith","getCombineWithFromResult","secondarySelector","getFallback","getProps","ownId","draggingId","visualDisplacement","isAfterCriticalInVirtualList","_offset","getSecondarySelector","setRef","_useRequiredContext","_useRequiredContext2","dropAnimationFinishedAction","dragHandleProps","tabIndex","role","onMoveEnd","draggableProps","rubric","PrivateDraggable","isUsingCloneFor","PublicDraggable","isDragDisabled","disableInteractiveElementBlocking","isMatchingType","getDraggable","defaultProps","ignoreContainerClipping","renderClone","getContainerForClone","ConnectedDroppable","idleWithAnimation","shouldAnimatePlaceholder","isDraggingOver","draggingOverWith","draggingFromThisWith","isUsingPlaceholder","useClone","idleWithoutAnimation","getDraggableRubric","getMapProps","isDraggingOverForConsumer","isDraggingOverForImpact","_snapshot","_completed","wasCombining","isHome","updateViewportMaxScroll","droppableRef","placeholderRef","getDroppableRef","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","useDroppablePublisher","droppableProps","droppableContext","draggableProvided","draggableSnapshot","createPortal","getClone","Region","segments","regionString","full","_start","_end","combineRegions","region1","region2","fixedHighlight","decode","_highlightstart","_highlightend","highlighted","highlighs","timeStampWheelOutside","resetScrollableTimeout","setElementScrollable","timeStamp","startResetScrollableTimer","mouseX","mouseY","elementHeight","elementWidth","elementX","elementY","isWheelEventInsideElement","blockScroll","fromRight","isCommon","seenIndex","global","globalThis","support","Blob","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","items","shift","header","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","byteLength","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","arrayBuffer","isConsumed","byteOffset","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","methods","Request","upcased","credentials","signal","referrer","reParamSearch","getTime","form","bytes","decodeURIComponent","Response","bodyInit","statusText","redirectStatuses","redirect","RangeError","DOMException","aborted","xhr","XMLHttpRequest","abortXhr","rawHeaders","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","href","fixUrl","withCredentials","responseType","setRequestHeader","onreadystatechange","readyState","send","polyfill","_mappings","loadMolecule","_planHighlight","propagateHighlight","hideViewportControls","_pdbID","_pdbId","_formatHighlight","litemolDiv","messageContainer","loadLiteMol","highlightString","attrName","oldVal","newVal","selectMolecule","_plannedRender","_selectedMolecule","highlightChain","addMessage","pdbEntry","loadPDBEntry","mappings","processMapping","Plugin","Command","Bootstrap","Query","Core","Structure","Tree","CoreVis","Visualization","Transformer","Entity","Event","Components","_liteMol","viewportBackground","layoutState","hideControls","allowAnalytics","Molecule","ModelSelect","getStream","createTransform","Data","Download","ParseBinaryCif","isBinding","CreateFromMmCif","blockIndex","CreateModel","modelIndex","CreateMacromoleculeVisual","polymer","polymerRef","het","water","applyTransform","fromRgb","Theme","Default","HighlightColor","uniformThemeProvider","removeMessage","command","Toast","Show","timeoutMs","Hide","mappingData","UniProt","mapping","unp_end","unp_start","residue_number","entity","entity_id","chain_id","seqPositions","translatePositions","seqNumber","Visual","ResetTheme","RemoveNode","visual","translatedPositions","translatedPosition","queries","translatedPos","theme","getTheme","query","CreateSelectionFromQuery","UpdateBasicTheme","previousValues","unsafeHTML","previousValue","toStringTag","__esModule","hmr","insertInto","locals","btoa","unescape","encodeURIComponent","sources","sourceRoot","atob","HTMLIFrameElement","contentDocument","refs","media","sourceMap","insertAt","attrs","nc","singleton","URL","createObjectURL","revokeObjectURL","rel","convertToAbsoluteUrls","DEBUG","childNodes","protocol","pathname","forward","backward","SMALL_MOLECULE","GENERIC_COMPOUND","POLYMER","htmlname","decodeURI","structuresearch","smiles","thumbnail","formula","charge","inchikey","rheaurl","smallMolecule","showids","underlyingChebi","reactivePart","setParticipant","rheaURL","subString","rheaid","nosource","getList","onclick","chebi","imgURL","coff","MapShim","getIndex","class_1","__entries__","ctx","_a","isBrowser","global$1","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","leadingCall","trailingCall","lastCallTime","resolvePending","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","_b","getInstance","instance_","defineConfigurable","writable","getWindowOf","emptyRect","createRectInit","toFloat","getBordersSize","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","observation","Timeout","clearFn","_clearFn","scope","close","unref","enroll","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","setImmediate","clearImmediate","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","process","nextTick","runIfPresent","postMessage","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","script","attachEvent","task","run","freeExports","freeModule","Buffer","allocUnsafe","isDeep","objValue","eq","customizer","isNew","isProto","stubArray","dataView","reFlags","regexp","symbolProto","symbolValueOf","typedArray","tag","Ctor","objectCreate","nodeIsMap","isMap","nodeIsSet","isSet","cloneableTags","baseClone","bitmask","isFlat","isFull","isArr","isFunc","isBuffer","stacked","subValue","keysFunc","keysIn","addToTree","selected","addStringItem","stringItem","splitItems","traverseTree","addInteractor","interactor","interactors","existingInteractor","isoform","formatDiseaseInfo","formatedString","dbReference","diseaseId","closeTooltip","formatSubcellularLocationInfo","interactionType","intensity","getIntactLink","interactor1","interactor2","mouseover","mouseout","mouseclick","experiments","table","headerRow","nameRow","uniprotRow","chain1","chain2","chainRow","diseaseRow","diseases","subcellRow","subcellularLocations","intactRow","populateTooltip","interactions","toggleFilterVisibility","visibility","getNameAsHTMLId","filtersToAdd","allFilters","clickFilter","resetFilter","resetAllFilters","filterContainer","ul","getFilters","subcellulartreeMenu","updateFilterSelection","getNodeByAccession","filterName","filterLabel","activeFilters","visibleAccessions","interactionFilters","filterTerms","hasFilterMatch","processedData","otherInteractor","accession2","interactorToAdd","actualLocation","locationSplit","loaded","comparer","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","orders","objCriteria","criteria","othCriteria","ordersLength","iteratees","sortBy"],"mappings":"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CnB,gBAAgBC,EAASC,EAAUC,EAAUC,GAQ3C,OAPAA,EAAQA,GAAS,YACjBz7D,KAAK07D,UAAYF,EACjBx7D,KAAK27D,UAAYJ,EACjBv7D,KAAK47D,SAAWN,EAAUE,EACO,mBAAtBx7D,KAAK,IAAMy7D,KACpBA,EAAQ,aAEHz7D,KAAK,IAAMy7D,KAGpB,oBAAoBA,GAElB,MAAiB,YADjBA,EAAQA,EAAMtiD,eAIhB,aACE,MACE,QAEAnZ,KAAK47D,SAFL,MAKA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UACL,IAIJ,kBAEE,MACE,SAIC37D,KAAK47D,SAAW,IAJjB,qBAeC57D,KAAK27D,UAAY,IAflB,uBAyBC,GAAa37D,KAAK47D,UAzBnB,2BAmCC,GAAa57D,KAAK27D,WAnCnB,gBADK,MAiDT,QACE,MAAO,MAAM37D,KAAK27D,UAAY,MAAM37D,KAAK47D,YAAY57D,KAAK27D,UAAY,IAGxE,UACE,OAAuB,IAAnB37D,KAAK07D,UAEL,MACA17D,KAAK27D,UADL,QAIA37D,KAAK47D,SAJL,MAOA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IACA37D,KAAK47D,SAZA,UAmBP,MACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAThB,MAYA57D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IAIJ,eAAeE,GACb,MAAO,MAAQA,EAAU,IAAM77D,KAAK47D,SAAW,IAAMC,EAAU,IAGjE,WACE,MACM3iD,EAAIlZ,KAAK47D,SAAW,EACpBH,EACJ,IACAviD,EADA,OAICA,EAPa4iD,GAGd,MAQA5iD,EARA,QAYCA,EAfa4iD,GAGd,KAeF,OAA0B,IAAnB97D,KAAK07D,UACRD,EAAQz7D,KAAK+7D,eA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KA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UACL,IAIJ,kBAEE,MACE,SAIC37D,KAAK47D,SAAW,IAJjB,qBAeC57D,KAAK27D,UAAY,IAflB,uBAyBC,GAAa37D,KAAK47D,UAzBnB,2BAmCC,GAAa57D,KAAK27D,WAnCnB,gBADK,MAiDT,QACE,MAAO,MAAM37D,KAAK27D,UAAY,MAAM37D,KAAK47D,YAAY57D,KAAK27D,UAAY,IAGxE,UACE,OAAuB,IAAnB37D,KAAK07D,UAEL,MACA17D,KAAK27D,UADL,QAIA37D,KAAK47D,SAJL,MAOA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IACA37D,KAAK47D,SAZA,UAmBP,MACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAThB,MAYA57D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IAIJ,eAAeE,GACb,MAAO,MAAQA,EAAU,IAAM77D,KAAK47D,SAAW,IAAMC,EAAU,IAGjE,WACE,MACM3iD,EAAIlZ,KAAK47D,SAAW,EACpBH,EACJ,IACAviD,EADA,OAICA,EAPa,GAGd,MAQAA,EARA,QAYCA,EAfa,GAGd,KAeF,OAA0B,IAAnBlZ,KAAK07D,UACRD,EAAQz7D,KAAK+7D,eAnBD,EAmByB/7D,KAAK47D,UAC1CH,EAAQ,IAGd,WACE,MAAMviD,EAAIlZ,KAAK47D,SAAW,EAEpBH,EACJ,IACAviD,EADA,OAFc,EAOHA,GALX,OAFc,EAUHA,GARX,MAYAA,EAZA,SAFc,EAkBFA,GAhBZ,QAFc,EAsBFA,GACZ,KACF,OAA0B,IAAnBlZ,KAAK07D,UACRD,EACE,IACAviD,EAFFuiD,KAKEz7D,KAAK+7D,eA9BK,EA8BmB/7D,KAAK47D,UAClC,IACFH,EA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tiD,eAIhB,aACE,MACE,QAEAnZ,KAAK47D,SAFL,MAKA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UACL,IAIJ,kBAEE,MACE,SAIC37D,KAAK47D,SAAW,IAJjB,qBAeC57D,KAAK27D,UAAY,IAflB,uBAyBC,GAAa37D,KAAK47D,UAzBnB,2BAmCC,GAAa57D,KAAK27D,WAnCnB,gBADK,MAiDT,QACE,MAAO,MAAM37D,KAAK27D,UAAY,MAAM37D,KAAK47D,YAAY57D,KAAK27D,UAAY,IAGxE,UACE,OAAuB,IAAnB37D,KAAK07D,UAEL,MACA17D,KAAK27D,UADL,QAIA37D,KAAK47D,SAJL,MAOA57D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IACA37D,KAAK47D,SAZA,UAmBP,MACA57D,KAAK27D,UACL,MACA37D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SAAW,EAThB,MAYA57D,KAAK47D,SAAW,EAChB,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UAAY,EACjB,IACA37D,KAAK47D,SACL,IACA57D,KAAK27D,UACL,IAIJ,eAAeE,GACb,MAAO,MAAQA,EAAU,IAAM77D,KAAK47D,SAAW,IAAMC,EAAU,IAGjE,WACE,MACM3iD,EAAIlZ,KAAK47D,SAAW,EACpBH,EACJ,IACAviD,EADA,OAICA,EAPa4iD,GAGd,MAQA5iD,EARA,QAYCA,EAfa4iD,GAGd,KAeF,OAA0B,IAAnB97D,KAAK07D,UACRD,EAAQz7D,KAAK+7D,eAnBDD,EAmByB97D,KAAK47D,UAC1CH,EAAQ,IAGd,WACE,MAAMviD,EAAIlZ,KAAK47D,SAAW,EAEpBH,EACJ,IACAviD,EADA,OAFc4iD,EAOH5iD,GALX,OAFc4iD,EAUH5iD,GARX,MAYAA,EAZA,SAFc4iD,EAkBF5iD,GAhBZ,QAFc4iD,EAsBF5iD,GACZ,KACF,OAA0B,IAAnBlZ,KAAK07D,UACRD,EAC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","file":"default-vendors.12104e.js","sourcesContent":["export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","export var name = \"d3\";\nexport var version = \"5.16.0\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var files = [\"dist/**/*.js\",\"index.js\"];\nexport var scripts = {\"pretest\":\"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublishOnly\":\"yarn test\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v5.js && cp ../d3/dist/d3.min.js d3.v5.min.js && git add d3.v5.js d3.v5.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/dist/d3.js ../d3/dist/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m \\\"${npm_package_version}\\\" && git tag -am \\\"${npm_package_version}\\\" v${npm_package_version} && git push && git push --tags && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"rimraf\":\"2\",\"rollup\":\"1\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"3\",\"rollup-plugin-terser\":\"5\",\"tape\":\"4\"};\nexport var dependencies = {\"d3-array\":\"1\",\"d3-axis\":\"1\",\"d3-brush\":\"1\",\"d3-chord\":\"1\",\"d3-collection\":\"1\",\"d3-color\":\"1\",\"d3-contour\":\"1\",\"d3-dispatch\":\"1\",\"d3-drag\":\"1\",\"d3-dsv\":\"1\",\"d3-ease\":\"1\",\"d3-fetch\":\"1\",\"d3-force\":\"1\",\"d3-format\":\"1\",\"d3-geo\":\"1\",\"d3-hierarchy\":\"1\",\"d3-interpolate\":\"1\",\"d3-path\":\"1\",\"d3-polygon\":\"1\",\"d3-quadtree\":\"1\",\"d3-random\":\"1\",\"d3-scale\":\"2\",\"d3-scale-chromatic\":\"1\",\"d3-selection\":\"1\",\"d3-shape\":\"1\",\"d3-time\":\"1\",\"d3-time-format\":\"2\",\"d3-timer\":\"1\",\"d3-transition\":\"1\",\"d3-voronoi\":\"1\",\"d3-zoom\":\"1\"};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, touch, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function(target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      else this.emit(\"brush\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\n","export var slice = Array.prototype.slice;\n","import {range} from \"d3-array\";\nimport {max, tau} from \"./math\";\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j;\n\n    // Compute the sum.\n    k = 0, i = -1; while (++i < n) {\n      x = 0, j = -1; while (++j < n) {\n        x += matrix[i][j];\n      }\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    }\n\n    // Sort groups\n    if (sortGroups) groupIndex.sort(function(a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    });\n\n    // Sort subgroups\n    if (sortSubgroups) subgroupIndex.forEach(function(d, i) {\n      d.sort(function(a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    });\n\n    // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n    x = 0, i = -1; while (++i < n) {\n      x0 = x, j = -1; while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    }\n\n    // Generate chords for each (non-empty) subgroup-subgroup link.\n    i = -1; while (++i < n) {\n      j = i - 1; while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n        if (source.value || target.value) {\n          chords.push(source.value < target.value\n              ? {source: target, target: source}\n              : {source: source, target: target});\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": formatDecimal,\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function() {\n  return Math.random();\n}\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\n\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\n\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n * @format\n */\n\n'use strict'; // eslint-disable-line strict\n\n/**\n * Traverses properties on objects and arrays. If an intermediate property is\n * either null or undefined, it is instead returned. The purpose of this method\n * is to simplify extracting properties from a chain of maybe-typed properties.\n *\n * === EXAMPLE ===\n *\n * Consider the following type:\n *\n *   const props: {\n *     user: ?{\n *       name: string,\n *       friends: ?Array<User>,\n *     }\n *   };\n *\n * Getting to the friends of my first friend would resemble:\n *\n *   props.user &&\n *   props.user.friends &&\n *   props.user.friends[0] &&\n *   props.user.friends[0].friends\n *\n * Instead, `idx` allows us to safely write:\n *\n *   idx(props, _ => _.user.friends[0].friends)\n *\n * The second argument must be a function that returns one or more nested member\n * expressions. Any other expression has undefined behavior.\n *\n * === NOTE ===\n *\n * The code below exists for the purpose of illustrating expected behavior and\n * is not meant to be executed. The `idx` function is used in conjunction with a\n * Babel transform that replaces it with better performing code:\n *\n *   props.user == null ? props.user :\n *   props.user.friends == null ? props.user.friends :\n *   props.user.friends[0] == null ? props.user.friends[0] :\n *   props.user.friends[0].friends\n *\n * All this machinery exists due to the fact that an existential operator does\n * not currently exist in JavaScript.\n */\n\nfunction idx(input, accessor) {\n  try {\n    return accessor(input);\n  } catch (error) {\n    if (error instanceof TypeError) {\n      if (nullPattern.test(error)) {\n        return null;\n      } else if (undefinedPattern.test(error)) {\n        return undefined;\n      }\n    }\n    throw error;\n  }\n}\n\n/**\n * Some actual error messages for null:\n *\n * TypeError: Cannot read property 'bar' of null\n * TypeError: Cannot convert null value to object\n * TypeError: foo is null\n * TypeError: null has no properties\n * TypeError: null is not an object (evaluating 'foo.bar')\n * TypeError: null is not an object (evaluating '(\" undefined \", null).bar')\n */\nvar nullPattern = /^null | null$|^[^(]* null /i;\nvar undefinedPattern = /^undefined | undefined$|^[^(]* undefined /i;\n\nidx.default = idx;\nmodule.exports = idx;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","import baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nexport default union;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseIntersection;\n","import isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nexport default castArrayLikeObject;\n","import arrayMap from './_arrayMap.js';\nimport baseIntersection from './_baseIntersection.js';\nimport baseRest from './_baseRest.js';\nimport castArrayLikeObject from './_castArrayLikeObject.js';\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nexport default intersection;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","const ecoMap = [\n  {\n    name: \"ECO:0000269\",\n    description: \"Manual assertion based on experiment\",\n    shortDescription: \"Publication\",\n    acronym: \"EXP\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000303\",\n    description: \"Manual assertion based on opinion\",\n    shortDescription: \"Publication\",\n    acronym: \"NAS\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000305\",\n    description: \"Manual assertion inferred by curator\",\n    shortDescription: \"Curated\",\n    acronym: \"IC\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000250\",\n    description: \"Manual assertion inferred from sequence similarity\",\n    shortDescription: \"By similarity\",\n    acronym: \"ISS\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000255\",\n    description: \"Manual assertion according to rules\",\n    shortDescription: \"Sequence Analysis\",\n    acronym: \"ISM\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000244\",\n    description:\n      \"Manual assertion inferred from combination of experimental and computational evidence\",\n    shortDescription: \"Combined sources\",\n    acronym: \"MIXM\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000312\",\n    description: \"Manual assertion inferred from database entries\",\n    shortDescription: \"Imported\",\n    acronym: \"MI\",\n    isManual: true\n  },\n  {\n    name: \"ECO:0000256\",\n    description: \"Automatic assertion according to rules\",\n    shortDescription: \"Automatic annotation\",\n    acronym: \"AA\"\n  },\n  {\n    name: \"ECO:0000259\",\n    description: \"Automatic assertion inferred from signature match\",\n    shortDescription: \"Automatic annotation\",\n    acronym: \"AA\"\n  },\n  {\n    name: \"ECO:0000213\",\n    description:\n      \"Automatic assertion inferred from combination of experimental and computational evidence\",\n    shortDescription: \"Combined sources\",\n    acronym: \"MIXA\"\n  },\n  {\n    name: \"ECO:0000313\",\n    description: \"Automatic assertion inferred from database entries\",\n    shortDescription: \"Imported\",\n    acronym: \"AI\"\n  }\n];\n\nexport default ecoMap;\n","import ecoMap from \"./evidences\";\n\nexport const renameProperties = features => {\n  return features.map(ft => {\n    const obj = {};\n    if (ft.begin) {\n      obj.start = ft.begin;\n    }\n    return {\n      ...ft,\n      ...obj\n    };\n  });\n};\n\nconst formatSource = source => {\n  return source.name.toLowerCase() === \"PubMed\".toLowerCase()\n    ? `${source.id}&nbsp;(<a href='${source.url}' style=\"color:#FFF\" target='_blank'>${source.name}</a>&nbsp;<a href='${source.alternativeUrl}' style=\"color:#FFF\" target='_blank'>EuropePMC</a>)`\n    : `&nbsp;<a href='${source.url}' style=\"color:#FFF\" target='_blank'>${source.id}</a>&nbsp;(${source.name})`;\n};\n\nexport const getEvidenceFromCodes = evidenceList => {\n  if (!evidenceList) return ``;\n  return `\n      <ul>${evidenceList\n        .map(ev => {\n          const ecoMatch = ecoMap.find(eco => eco.name === ev.code);\n          if (!ecoMatch) return ``;\n          return `<li title='${\n            ecoMatch.description\n          }' style=\"padding: .25rem 0\">${ecoMatch.shortDescription}:&nbsp;${\n            ev.source ? formatSource(ev.source) : \"\"\n          }</li>`;\n        })\n        .join(\"\")}</ul>\n    `;\n};\n\nexport const formatXrefs = xrefs => {\n  return `<ul>${xrefs\n    .map(\n      xref =>\n        `<li style=\"padding: .25rem 0\">${xref.name} ${\n          xref.url\n            ? `<a href=\"${xref.url}\" style=\"color:#FFF\" target=\"_blank\">${xref.id}</a>`\n            : `${xref.name} ${xref.id}`\n        }</li>`\n    )\n    .join(\"\")}</ul>`;\n};\n\nexport const formatTooltip = feature => {\n  const evidenceHTML = getEvidenceFromCodes(feature.evidences);\n  return `\n      ${\n        feature.description\n          ? `<h5>Description</h5><p>${feature.description}</p>`\n          : ``\n      }\n      ${\n        feature.matchScore\n          ? `<h5>Match score</h5><p>${feature.matchScore}%</p>`\n          : ``\n      }\n      ${feature.ftId ? `<h5>Feature ID</h5><p>${feature.ftId}</p>` : ``}\n      ${\n        feature.alternativeSequence\n          ? `<h5>Alternative sequence</h5><p>${feature.alternativeSequence}</p>`\n          : ``\n      }\n      ${evidenceHTML ? `<h5>Evidence</h5>${evidenceHTML}` : ``}\n      ${\n        feature.xrefs\n          ? `<h5>Cross-references</h5>${formatXrefs(feature.xrefs)}`\n          : \"\"\n      }\n        `;\n};\n","import { v1 } from \"uuid\";\nimport { formatTooltip, renameProperties } from \"./BasicHelper\";\n\nexport const transformData = data => {\n  let transformedData = [];\n  const { features } = data;\n  if (features && features.length > 0) {\n    transformedData = features.map(feature => {\n      return {\n        ...feature,\n        tooltipContent: formatTooltip(feature),\n        protvistaFeatureId: v1()\n      };\n    });\n    transformedData = renameProperties(transformedData);\n  }\n  return transformedData;\n};\n\nclass ProtvistaFeatureAdapter extends HTMLElement {\n  constructor() {\n    super();\n    this._adaptedData = [];\n  }\n\n  connectedCallback() {\n    this.subscribers = this.getAttribute(\"subscribers\");\n    this._filters = this.getAttribute(\"filters\")\n      ? this.getAttribute(\"filters\").split(\",\")\n      : [];\n    this._addLoaderListeners();\n  }\n\n  set data(data) {\n    this._emitEvent(data);\n  }\n\n  set subscribers(subscribers) {\n    if (!subscribers) {\n      return;\n    }\n    this._subscribers = subscribers.split(\",\");\n  }\n\n  get subscribers() {\n    return this._subscribers;\n  }\n\n  parseEntry(data) {\n    this._adaptedData = transformData(data);\n  }\n\n  filterData() {\n    if (Array.isArray(this._adaptedData) && this._filters.length > 0) {\n      this._adaptedData = this._adaptedData.filter(d => {\n        return this._filters.includes(d.type);\n      });\n    }\n  }\n\n  get adaptedData() {\n    return this._adaptedData;\n  }\n\n  _setSubscriberData() {\n    this.subscribers.forEach(subscriberId => {\n      const subscriberElt = document.querySelector(subscriberId);\n      if (subscriberElt) {\n        subscriberElt.data = this._adaptedData;\n      } else {\n        console.error(`Element with id '${subscriberId}' not found`);\n      }\n    });\n  }\n\n  _emitEvent(data) {\n    this.parseEntry(data);\n    this.filterData();\n    if (this.subscribers) {\n      this._setSubscriberData();\n    }\n    this.dispatchEvent(\n      new CustomEvent(\"load\", {\n        detail: {\n          payload: this._adaptedData\n        },\n        bubbles: true,\n        cancelable: true\n      })\n    );\n  }\n\n  _addLoaderListeners() {\n    this.addEventListener(\"load\", e => {\n      if (e.target !== this) {\n        e.stopPropagation();\n        try {\n          if (e.detail.payload.errorMessage) {\n            throw e.detail.payload.errorMessage;\n          }\n          this._emitEvent(e.detail.payload);\n        } catch (error) {\n          this.dispatchEvent(\n            new CustomEvent(\"error\", {\n              detail: error,\n              bubbles: true,\n              cancelable: true\n            })\n          );\n        }\n      }\n    });\n  }\n}\n\nexport default ProtvistaFeatureAdapter;\nexport {\n  formatTooltip,\n  renameProperties,\n  formatXrefs,\n  getEvidenceFromCodes\n} from \"./BasicHelper\";\n","import {\n  scaleLinear,\n  zoom as d3zoom,\n  zoomIdentity,\n  event as d3Event\n} from \"d3\";\nimport { TrackHighlighter, ScrollFilter } from \"protvista-utils\";\n\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nclass ProtvistaZoomable extends HTMLElement {\n  constructor() {\n    super();\n    ProtvistaZoomable._polyfillElementClosest();\n    this._updateScaleDomain = this._updateScaleDomain.bind(this);\n    this._initZoom = this._initZoom.bind(this);\n    this.zoomed = this.zoomed.bind(this);\n    this._applyZoomTranslation = this.applyZoomTranslation.bind(this);\n    this._resetEventHandler = this._resetEventHandler.bind(this);\n    // this.bindEvents = this.bindEvents(this);\n    let aboutToApply = false;\n    // Postponing the zoom translation to the next frame.\n    // This helps in case several attributes are changed almost at the same time,\n    // in this way, only one refresh will be called.\n    this.applyZoomTranslation = () => {\n      if (aboutToApply) return;\n      aboutToApply = true;\n      requestAnimationFrame(() => {\n        aboutToApply = false;\n        this._applyZoomTranslation();\n      });\n    };\n    this._onResize = this._onResize.bind(this);\n    this._listenForResize = this._listenForResize.bind(this);\n    this.trackHighlighter = new TrackHighlighter({ element: this, min: 1 });\n\n    this.scrollFilter = new ScrollFilter(this);\n    this.wheelListener = event => this.scrollFilter.wheel(event);\n  }\n\n  connectedCallback() {\n    this.style.display = \"block\";\n    this.style.width = \"100%\";\n    this.width = this.offsetWidth;\n\n    if (this.closest(\"protvista-manager\")) {\n      this.manager = this.closest(\"protvista-manager\");\n      this.manager.register(this);\n    }\n\n    this._length = this.getAttribute(\"length\")\n      ? parseFloat(this.getAttribute(\"length\"))\n      : 0;\n\n    this._displaystart = this.getAttribute(\"displaystart\")\n      ? parseFloat(this.getAttribute(\"displaystart\"))\n      : 1;\n    this._displayend = this.getAttribute(\"displayend\")\n      ? parseFloat(this.getAttribute(\"displayend\"))\n      : this.length;\n\n    this._height = this.getAttribute(\"height\")\n      ? Number(this.getAttribute(\"height\"))\n      : 44;\n    this._highlightEvent = this.getAttribute(\"highlight-event\")\n      ? this.getAttribute(\"highlight-event\")\n      : \"onclick\";\n\n    this.trackHighlighter.setAttributesInElement(this);\n\n    this._updateScaleDomain();\n    // The _originXScale is a way to mantain all the future transformations over the same original scale.\n    // It only gets redefined if the size of the component, or the length of the sequence changes.\n    this._originXScale = this.xScale.copy();\n    this._initZoom();\n    this._listenForResize();\n    this.addEventListener(\"error\", e => {\n      console.error(e);\n    });\n    this.addEventListener(\"click\", this._resetEventHandler);\n    if (this.hasAttribute(\"filter-scroll\")) {\n      document.addEventListener(\"wheel\", this.wheelListener, { capture: true });\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.manager) {\n      this.manager.unregister(this);\n    }\n    if (this._ro) {\n      this._ro.unobserve(this);\n    } else {\n      window.removeEventListener(\"resize\", this._onResize);\n    }\n    this.removeEventListener(\"click\", this._resetEventHandler);\n    document.removeEventListener(\"wheel\", this.wheelListener);\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(width) {\n    this._width = width;\n  }\n\n  set height(height) {\n    this._height = height;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  set length(length) {\n    this._length = length;\n    this.trackHighlighter.max = length;\n  }\n\n  get length() {\n    return this._length;\n  }\n\n  get xScale() {\n    return this._xScale;\n  }\n\n  set xScale(xScale) {\n    this._xScale = xScale;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  set svg(svg) {\n    this._svg = svg;\n    svg.call(this._zoom);\n    this.applyZoomTranslation();\n  }\n\n  get svg() {\n    return this._svg;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  get margin() {\n    return {\n      top: 10,\n      right: 10,\n      bottom: 10,\n      left: 10\n    };\n  }\n\n  set fixedHighlight(region) {\n    this.trackHighlighter.setFixedHighlight(region);\n  }\n\n  getWidthWithMargins() {\n    return this.width ? this.width - this.margin.left - this.margin.right : 0;\n  }\n\n  _updateScaleDomain() {\n    this.xScale = scaleLinear()\n      // The max width should match the start of the n+1 base\n      .domain([1, this._length + 1])\n      .range([0, this.getWidthWithMargins()]);\n  }\n\n  _initZoom() {\n    this._zoom = d3zoom()\n      .scaleExtent([1, Infinity])\n      .translateExtent([\n        [0, 0],\n        [this.getWidthWithMargins(), 0]\n      ])\n      .extent([\n        [0, 0],\n        [this.getWidthWithMargins(), 0]\n      ])\n      .filter(() => {\n        if (!(d3Event instanceof WheelEvent)) return true;\n        if (this.hasAttribute(\"scroll-filter\")) {\n          const scrollableAttribute = this.getAttribute(\"scrollable\");\n          if (scrollableAttribute) return scrollableAttribute === \"true\";\n        }\n        return !this.hasAttribute(\"use-ctrl-to-zoom\") || d3Event.ctrlKey;\n      })\n      .on(\"zoom\", this.zoomed);\n  }\n\n  static get observedAttributes() {\n    return [\"displaystart\", \"displayend\", \"length\", \"highlight\"];\n  }\n\n  setFloatAttribute(name, strValue) {\n    const value = parseFloat(strValue);\n    this[`_${name}`] = Number.isNaN(value) ? strValue : value;\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    // eslint-disable-next-line no-param-reassign\n    if (newValue === \"null\") newValue = null;\n    if (oldValue !== newValue) {\n      if (name.startsWith(\"highlight\")) {\n        this.trackHighlighter.changedCallBack(name, newValue);\n        return;\n      }\n      this.setFloatAttribute(name, newValue);\n\n      if (name === \"length\") {\n        this._updateScaleDomain();\n        this._originXScale = this.xScale.copy();\n      }\n      // One of the observable attributes changed, so the scale needs to be redefined.\n      this.applyZoomTranslation();\n    }\n  }\n\n  zoomed() {\n    // Redefines the xScale using the original scale and transform it with the captured event data.\n    this.xScale = d3Event.transform.rescaleX(this._originXScale);\n    // If the source event is null the zoom wasn't initiated by this component, don't send event\n    if (this.dontDispatch) return;\n    const [start, end] = this.xScale.domain(); // New positions based in the updated scale\n    this.dispatchEvent(\n      // Dispatches the event so the manager can propagate this changes to other  components\n      new CustomEvent(\"change\", {\n        detail: {\n          displaystart: Math.max(1, start),\n          displayend: Math.min(\n            this.length,\n            Math.max(end - 1, start + 1) // To make sure it never zooms in deeper than showing 2 bases covering the full width\n          )\n        },\n        bubbles: true,\n        cancelable: true\n      })\n    );\n  }\n\n  applyZoomTranslation() {\n    if (!this.svg || !this._originXScale) return;\n    // Calculating the scale factor based in the current start/end coordinates and the length of the sequence.\n    const k = Math.max(\n      1,\n      // +1 because the displayend base should be included\n      this.length / (1 + this._displayend - this._displaystart)\n    );\n    // The deltaX gets calculated using the position of the first base to display in original scale\n    const dx = -this._originXScale(this._displaystart);\n    this.dontDispatch = true; // This is to avoid infinite loops\n    this.svg.call(\n      // We trigger a zoom action\n      this.zoom.transform,\n      zoomIdentity // Identity transformation\n        .scale(k) // Scaled by our scaled factor\n        .translate(dx, 0) // Translated by the delta\n    );\n    this.dontDispatch = false;\n    this.refresh();\n  }\n\n  _onResize() {\n    this.width = this.offsetWidth;\n    this._updateScaleDomain();\n    this._originXScale = this.xScale.copy();\n    if (this.svg) this.svg.attr(\"width\", this.width);\n    this._zoom.scaleExtent([1, Infinity]).translateExtent([\n      [0, 0],\n      [this.getWidthWithMargins(), 0]\n    ]);\n    this.applyZoomTranslation();\n  }\n\n  _listenForResize() {\n    // TODO add sleep to make transition appear smoother. Could experiment with CSS3\n    // transitions too\n    this._ro = new ResizeObserver(this._onResize);\n    this._ro.observe(this);\n  }\n\n  _resetEventHandler(e) {\n    if (!e.target.closest(\".feature\")) {\n      this.dispatchEvent(this.createEvent(\"reset\", null, true));\n    }\n  }\n\n  getXFromSeqPosition(position) {\n    return this.margin.left + this.xScale(position);\n  }\n\n  getSingleBaseWidth() {\n    return this.xScale(2) - this.xScale(1);\n  }\n\n  static _getClickCoords() {\n    if (!d3Event) {\n      return null;\n    }\n    // const boundingRect = this.querySelector(\"svg\").getBoundingClientRect();\n    // Note: it would be nice to also return the position of the bottom left of the feature\n    return [d3Event.pageX, d3Event.pageY];\n  }\n\n  static _polyfillElementClosest() {\n    // Polyfill for IE support, see\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    if (!Element.prototype.matches) {\n      Element.prototype.matches =\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.webkitMatchesSelector;\n    }\n\n    if (!Element.prototype.closest) {\n      Element.prototype.closest = s => {\n        let el = this;\n\n        do {\n          if (el.matches(s)) return el;\n          el = el.parentElement || el.parentNode;\n        } while (el !== null && el.nodeType === 1);\n        return null;\n      };\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  createEvent(\n    type,\n    feature = null,\n    withHighlight = false,\n    withId = false,\n    start,\n    end,\n    target\n  ) {\n    // Variation features have a different shape\n    if (feature) {\n      // eslint-disable-next-line no-param-reassign\n      feature = feature.feature ? feature.feature : feature;\n    }\n    const detail = {\n      eventtype: type,\n      coords: ProtvistaZoomable._getClickCoords(),\n      feature,\n      target\n    };\n    if (withHighlight) {\n      if (feature && feature.fragments) {\n        detail.highlight = feature.fragments\n          .map(fr => `${fr.start}:${fr.end}`)\n          .join(\",\");\n      } else if (d3Event && d3Event.shiftKey && this._highlight) {\n        // If holding shift, add to the highlights\n        detail.highlight = `${this._highlight},${start}:${end}`;\n      } else {\n        detail.highlight = start && end ? `${start}:${end}` : null;\n      }\n    }\n    if (withId) {\n      detail.selectedid = feature && feature.protvistaFeatureId;\n    }\n    return new CustomEvent(\"change\", {\n      detail,\n      bubbles: true,\n      cancelable: true\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  bindEvents(feature, element) {\n    feature\n      .on(\"mouseover\", (f, i, group) => {\n        element.dispatchEvent(\n          element.createEvent(\n            \"mouseover\",\n            f,\n            element._highlightEvent === \"onmouseover\",\n            false,\n            f.start,\n            f.end,\n            group[i]\n          )\n        );\n      })\n      .on(\"mouseout\", () => {\n        element.dispatchEvent(\n          element.createEvent(\n            \"mouseout\",\n            null,\n            element._highlightEvent === \"onmouseover\"\n          )\n        );\n      })\n      .on(\"click\", (f, i, group) => {\n        element.dispatchEvent(\n          element.createEvent(\n            \"click\",\n            f,\n            element._highlightEvent === \"onclick\",\n            true,\n            f.start,\n            f.end,\n            group[i]\n          )\n        );\n      });\n  }\n}\n\nexport default ProtvistaZoomable;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        let value = this.getHTML();\n        if (policy !== undefined) {\n            // this is secure because `this.strings` is a TemplateStringsArray.\n            // TODO: validate this when\n            // https://github.com/tc39/proposal-array-is-template-object is\n            // implemented.\n            value = policy.createHTML(value);\n        }\n        template.innerHTML = value;\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        const parts = this.parts;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '') {\n            const v = parts[0].value;\n            if (typeof v === 'symbol') {\n                return String(v);\n            }\n            if (typeof v === 'string' || !isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.3.0');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * Use this module if you want to create your own base class extending\n * [[UpdatingElement]].\n * @packageDocumentation\n */\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a PropertyDeclaration for the property with the given options.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     *\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        const descriptor = this.getPropertyDescriptor(name, key, options);\n        if (descriptor !== undefined) {\n            Object.defineProperty(this.prototype, name, descriptor);\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     *   class MyElement extends LitElement {\n     *     static getPropertyDescriptor(name, key, options) {\n     *       const defaultDescriptor =\n     *           super.getPropertyDescriptor(name, key, options);\n     *       const setter = defaultDescriptor.set;\n     *       return {\n     *         get: defaultDescriptor.get,\n     *         set(value) {\n     *           setter.call(this, value);\n     *           // custom action.\n     *         },\n     *         configurable: true,\n     *         enumerable: true\n     *       }\n     *     }\n     *   }\n     *\n     * @nocollapse\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this\n                    .requestUpdateInternal(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a PropertyDeclaration via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override `createProperty`.\n     *\n     * @nocollapse\n     * @final\n     */\n    static getPropertyOptions(name) {\n        return this._classProperties && this._classProperties.get(name) ||\n            defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._updateState = 0;\n        this._updatePromise =\n            new Promise((res) => this._enableUpdatingResolver = res);\n        this._changedProperties = new Map();\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdateInternal();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection.\n        this.enableUpdating();\n    }\n    enableUpdating() {\n        if (this._enableUpdatingResolver !== undefined) {\n            this._enableUpdatingResolver();\n            this._enableUpdatingResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        // tslint:disable-next-line:no-unnecessary-type-assertion\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor.getPropertyOptions(propName);\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This protected version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    requestUpdateInternal(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            options = options || ctor.getPropertyOptions(name);\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._updatePromise = this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this.requestUpdateInternal(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this._updatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        const result = this.performUpdate();\n        // If `performUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this._hasRequestedUpdate;\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this._hasRequestedUpdate) {\n            return;\n        }\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n            else {\n                this._markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n            throw e;\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n        this._markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst legacyCustomElement = (tagName, clazz) => {\n    window.customElements.define(tagName, clazz);\n    // Cast as any because TS doesn't recognize the return type as being a\n    // subtype of the decorated class when clazz is typed as\n    // `Constructor<HTMLElement>` for some reason.\n    // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n    // applied to elements however.\n    // tslint:disable-next-line:no-any\n    return clazz;\n};\nconst standardCustomElement = (tagName, descriptor) => {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz) {\n            window.customElements.define(tagName, clazz);\n        }\n    };\n};\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```\n * @customElement('my-element')\n * class MyElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The name of the custom element to define.\n */\nexport const customElement = (tagName) => (classOrDescriptor) => (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\nconst standardProperty = (options, element) => {\n    // When decorating an accessor, pass it through and add property metadata.\n    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n    // stomp over the user's accessor.\n    if (element.kind === 'method' && element.descriptor &&\n        !('value' in element.descriptor)) {\n        return Object.assign(Object.assign({}, element), { finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            } });\n    }\n    else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n            kind: 'field',\n            key: Symbol(),\n            placement: 'own',\n            descriptor: {},\n            // When @babel/plugin-proposal-decorators implements initializers,\n            // do this instead of the initializer below. See:\n            // https://github.com/babel/babel/issues/9260 extras: [\n            //   {\n            //     kind: 'initializer',\n            //     placement: 'own',\n            //     initializer: descriptor.initializer,\n            //   }\n            // ],\n            initializer() {\n                if (typeof element.initializer === 'function') {\n                    this[element.key] = element.initializer.call(this);\n                }\n            },\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            }\n        };\n    }\n};\nconst legacyProperty = (options, proto, name) => {\n    proto.constructor\n        .createProperty(name, options);\n};\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A [[`PropertyDeclaration`]] may optionally be\n * supplied to configure property features.\n *\n * This decorator should only be used for public fields. Private or protected\n * fields should use the [[`internalProperty`]] decorator.\n *\n * @example\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nexport function property(options) {\n    // tslint:disable-next-line:no-any decorator\n    return (protoOrDescriptor, name) => (name !== undefined) ?\n        legacyProperty(options, protoOrDescriptor, name) :\n        standardProperty(options, protoOrDescriptor);\n}\n/**\n * Declares a private or protected property that still triggers updates to the\n * element when it changes.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nexport function internalProperty(options) {\n    return property({ attribute: false, hasChanged: options === null || options === void 0 ? void 0 : options.hasChanged });\n}\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n * once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function query(selector, cache) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        if (cache) {\n            const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n            descriptor.get = function () {\n                if (this[key] === undefined) {\n                    (this[key] =\n                        this.renderRoot.querySelector(selector));\n                }\n                return this[key];\n            };\n        }\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element's renderRoot done after the element's `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAsync('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nexport function queryAsync(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            async get() {\n                await this.updateComplete;\n                return this.renderRoot.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAll('div')\n *   divs;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAll(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelectorAll(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\nconst legacyQuery = (descriptor, proto, name) => {\n    Object.defineProperty(proto, name, descriptor);\n};\nconst standardQuery = (descriptor, element) => ({\n    kind: 'method',\n    placement: 'prototype',\n    key: element.key,\n    descriptor,\n});\nconst standardEventOptions = (options, element) => {\n    return Object.assign(Object.assign({}, element), { finisher(clazz) {\n            Object.assign(clazz.prototype[element.key], options);\n        } });\n};\nconst legacyEventOptions = \n// tslint:disable-next-line:no-any legacy decorator\n(options, proto, name) => {\n    Object.assign(proto[name], options);\n};\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}`>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function eventOptions(options) {\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    return ((protoOrDescriptor, name) => (name !== undefined) ?\n        legacyEventOptions(options, protoOrDescriptor, name) :\n        standardEventOptions(options, protoOrDescriptor));\n}\n// x-browser support for matches\n// tslint:disable-next-line:no-any\nconst ElementProto = Element.prototype;\nconst legacyMatches = ElementProto.msMatchesSelector || ElementProto.webkitMatchesSelector;\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedNodes` of the given named `slot`. Note, the type of\n * this property should be annotated as `NodeListOf<HTMLElement>`.\n *\n * @param slotName A string name of the slot.\n * @param flatten A boolean which when true flattens the assigned nodes,\n * meaning any assigned nodes that are slot elements are replaced with their\n * assigned nodes.\n * @param selector A string which filters the results to elements that match\n * the given css selector.\n *\n * * @example\n * ```ts\n * class MyElement {\n *   @queryAssignedNodes('list', true, '.item')\n *   listItems;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAssignedNodes(slotName = '', flatten = false, selector = '') {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                const slotSelector = `slot${slotName ? `[name=${slotName}]` : ':not([name])'}`;\n                const slot = this.renderRoot.querySelector(slotSelector);\n                let nodes = slot && slot.assignedNodes({ flatten });\n                if (nodes && selector) {\n                    nodes = nodes.filter((node) => node.nodeType === Node.ELEMENT_NODE &&\n                        node.matches ?\n                        node.matches(selector) :\n                        legacyMatches.call(node, selector));\n                }\n                return nodes;\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n//# sourceMappingURL=decorators.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets = (window.ShadowRoot) &&\n    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `supportsAdoptingStyleSheets` is true then we assume\n            // CSSStyleSheet is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a [[`css`]] tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's [[LitElement.styles |\n * `styles`]] property to set element styles. For security reasons, only literal\n * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]\n * may be used inside a template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The main LitElement module, which defines the [[`LitElement`]] base class and\n * related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import [[`LitElement`]] and [[`html`]] from this module to create a\n * component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.\n * The `UpdatingElement` class is provided for users that want to build\n * their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets, unsafeCSS } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.4.0');\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the [[`properties`]] property or the [[`property`]] decorator.\n */\nexport class LitElement extends UpdatingElement {\n    /**\n     * Return the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * @nocollapse\n     */\n    static getStyles() {\n        return this.styles;\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Only gather styles once per class\n        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n            return;\n        }\n        // Take care not to call `this.getStyles()` multiple times since this\n        // generates new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.getStyles();\n        if (Array.isArray(userStyles)) {\n            // De-duplicate styles preserving the _last_ instance in the set.\n            // This is a performance optimization to avoid duplicated styles that can\n            // occur especially when composing via subclassing.\n            // The last item is kept to try to preserve the cascade order with the\n            // assumption that it's most important that last added styles override\n            // previous styles.\n            const addStyles = (styles, set) => styles.reduceRight((set, s) => \n            // Note: On IE set.add() does not return the set\n            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);\n            // Array.from does not work on Set in IE, otherwise return\n            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n            const set = addStyles(userStyles, new Set());\n            const styles = [];\n            set.forEach((v) => styles.unshift(v));\n            this._styles = styles;\n        }\n        else {\n            this._styles = userStyles === undefined ? [] : [userStyles];\n        }\n        // Ensure that there are no invalid CSSStyleSheet instances here. They are\n        // invalid in two conditions.\n        // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but\n        //     this is impossible to check except via .replaceSync or use\n        // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is\n        //     false)\n        this._styles = this._styles.map((s) => {\n            if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {\n                // Flatten the cssText from the passed constructible stylesheet (or\n                // undetectable non-constructible stylesheet). The user might have\n                // expected to update their stylesheets over time, but the alternative\n                // is a crash.\n                const cssText = Array.prototype.slice.call(s.cssRules)\n                    .reduce((css, rule) => css + rule.cssText, '');\n                return unsafeCSS(cssText);\n            }\n            return s;\n        });\n    }\n    /**\n     * Performs element initialization. By default this calls\n     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and\n     * captures any pre-set values for registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.constructor._getUniqueStyles();\n        this.renderRoot = this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the [[`styles`]]\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const templateResult = this.render();\n        super.update(changedProperties);\n        // If render is not implemented by the component, don't call lit-html render\n        if (templateResult !== renderNotImplemented) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `NodePart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     */\n    render() {\n        return renderNotImplemented;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Reference to the underlying library method used to render the element's\n * DOM. By default, points to the `render` method from lit-html's shady-render\n * module.\n *\n * **Most users will never need to touch this property.**\n *\n * This  property should not be confused with the `render` instance method,\n * which should be overridden to define a template for the element.\n *\n * Advanced users creating a new base class based on LitElement can override\n * this property to point to a custom render method with a signature that\n * matches [shady-render's `render`\n * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).\n *\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.2.1');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nmodule.exports = _taggedTemplateLiteral;","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nexport default baseValues;\n","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nexport default values;\n","import baseIndexOf from './_baseIndexOf.js';\nimport isArrayLike from './isArrayLike.js';\nimport isString from './isString.js';\nimport toInteger from './toInteger.js';\nimport values from './values.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nexport default includes;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","const LENGTH = \"length\";\nconst DISPLAY_START = \"displaystart\";\nconst DISPLAY_END = \"displayend\";\nconst HIGHLIGHT = \"highlight\";\n\nclass ProtVistaManager extends HTMLElement {\n  constructor() {\n    super();\n    this.protvistaElements = new Set();\n    this.attributeValues = new Map();\n    this.propertyValues = new Map();\n    this.mouseOver = false;\n  }\n\n  static get observedAttributes() {\n    return [\"attributes\", LENGTH, DISPLAY_START, DISPLAY_END, HIGHLIGHT];\n  }\n\n  set length(length) {\n    this.attributeValues.set(LENGTH, length);\n  }\n\n  get length() {\n    return this.attributeValues.get(LENGTH);\n  }\n\n  set displaystart(displaystart) {\n    this.attributeValues.set(DISPLAY_START, displaystart);\n  }\n\n  get displaystart() {\n    return this.attributeValues.get(DISPLAY_START);\n  }\n\n  set displayend(displayend) {\n    this.attributeValues.set(DISPLAY_END, displayend);\n  }\n\n  get displayend() {\n    return this.attributeValues.get(DISPLAY_END);\n  }\n\n  set highlight(highlight) {\n    this.attributeValues.set(HIGHLIGHT, highlight);\n  }\n\n  get highlight() {\n    return this.attributeValues.get(HIGHLIGHT);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      if (name === \"attributes\") {\n        this._attributes = newValue.split(\" \");\n        if (this._attributes.indexOf(\"type\") !== -1)\n          throw new Error(\"'type' can't be used as a protvista attribute\");\n        if (this._attributes.indexOf(\"value\") !== -1)\n          throw new Error(\"'value' can't be used as a protvista attribute\");\n        this.attributeValues = new Map(\n          this._attributes\n            .filter(\n              (attr) => !ProtVistaManager.observedAttributes.includes(attr)\n            )\n            .map((attr) => [attr, null])\n        );\n      } else {\n        if (name === LENGTH) {\n          this.length = newValue;\n        }\n        if (name === DISPLAY_START) {\n          this.displaystart = newValue;\n        }\n        if (name === DISPLAY_END) {\n          this.displayend = newValue;\n        }\n        if (name === HIGHLIGHT) {\n          this.highlight = newValue;\n        }\n      }\n      this.applyAttributes();\n    }\n  }\n\n  register(element) {\n    this.protvistaElements.add(element);\n    this.applyAttributes();\n  }\n\n  unregister(element) {\n    this.protvistaElements.delete(element);\n  }\n\n  _polyfillElementClosest() {\n    // Polyfill for IE support, see\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    if (!Element.prototype.matches) {\n      Element.prototype.matches =\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.webkitMatchesSelector;\n    }\n\n    if (!Element.prototype.closest) {\n      Element.prototype.closest = (s) => {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let el = this;\n\n        do {\n          if (el.matches(s)) return el;\n          el = el.parentElement || el.parentNode;\n        } while (el !== null && el.nodeType === 1);\n        return null;\n      };\n    }\n  }\n\n  applyAttributes() {\n    this.protvistaElements.forEach((element) => {\n      this.attributeValues.forEach((value, type) => {\n        if (value === false || value === null || value === undefined) {\n          element.removeAttribute(type);\n        } else {\n          element.setAttribute(type, typeof value === \"boolean\" ? \"\" : value);\n        }\n      });\n    });\n  }\n\n  applyProperties(forElementId) {\n    if (forElementId) {\n      const element = this.querySelector(`#${forElementId}`);\n      this.propertyValues.forEach((value, type) => {\n        element[type] = value;\n      });\n    } else {\n      this.protvistaElements.forEach((element) => {\n        this.propertyValues.forEach((value, type) => {\n          /* eslint-disable no-param-reassign */\n          element[type] = value;\n        });\n      });\n    }\n  }\n\n  isRegisteredAttribute(attributeName) {\n    return (\n      [...this.attributeValues.keys()].includes(attributeName) ||\n      ProtVistaManager.observedAttributes.includes(attributeName)\n    );\n  }\n\n  _changeListener(e) {\n    switch (e.detail.handler) {\n      case \"property\":\n        this.propertyValues.set(e.detail.type, e.detail.value);\n        this.applyProperties(e.detail.for);\n        break;\n      default:\n        if (this.isRegisteredAttribute(e.detail.type)) {\n          this.attributeValues.set(e.detail.type, e.detail.value);\n        }\n        Object.keys(e.detail).forEach((key) => {\n          if (this.isRegisteredAttribute(key)) {\n            this.attributeValues.set(key, e.detail[key]);\n          }\n        });\n        this.applyAttributes();\n    }\n  }\n\n  connectedCallback() {\n    this.addEventListener(\"change\", this._changeListener);\n  }\n}\n\nexport default ProtVistaManager;\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import { css } from \"lit-element\";\n\nconst styles = css`\n  :host {\n    display: block;\n  }\n  .protvista-datatable-container {\n    overflow-y: auto;\n    // Note: overflow-x was set to 'hidden' but changing\n    // to 'auto' doesn't seem to be an issue.\n    overflow-x: auto;\n  }\n\n  :host([scrollable=\"true\"]) .protvista-datatable-container {\n    overflow-y: auto;\n    will-change: scroll;\n  }\n\n  :host([scrollable=\"false\"]) .protvista-datatable-container {\n    overflow-y: hidden;\n  }\n\n  table {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    border-spacing: 0;\n  }\n\n  th {\n    position: sticky;\n    position: -webkit-sticky;\n    position: -moz-sticky;\n    position: -ms-sticky;\n    position: -o-sticky;\n    text-align: left;\n    background-color: var(--protvista-datable__header-background, #fff);\n    color: var(--protvista-datable__header-text, #393b42);\n    text-overflow: ellipsis;\n    top: 0;\n  }\n\n  td,\n  th {\n    padding: 1rem;\n    border-bottom: 1px solid #c2c4c4;\n  }\n\n  tr:hover:not(.active):not(.child-row) {\n    background-color: var(--protvista-datatable__hover, #f1f1f1);\n  }\n\n  td {\n    cursor: pointer;\n  }\n\n  .withChildren:before {\n    display: inline-block;\n    font-family: \"Courier New\", Courier, monospace;\n    width: 1rem;\n    text-align: center;\n    border-radius: 1rem;\n    line-height: 1rem;\n    font-weight: 700;\n    font-size: 1rem;\n    color: white;\n    border: 2px solid white;\n    background-color: var(--protvista-datatable__childToggle, #00639a);\n  }\n\n  .plus:before {\n    content: \"+\";\n  }\n\n  .minus:before {\n    content: \"-\";\n  }\n\n  td:nth-child(1) {\n    border-left: 0.5rem solid transparent;\n  }\n\n  .overlapped td:nth-child(1) {\n    border-left: 0.5rem solid\n      var(--protvista-datatable__overlapped, rgba(255, 0, 0, 0.8));\n  }\n\n  .active {\n    background-color: var(\n      --protvista-datatable__active,\n      rgba(255, 235, 59, 0.3)\n    ) !important;\n  }\n  .hidden {\n    opacity: 0.2;\n  }\n  .evidence-tag {\n    cursor: pointer;\n    font-size: 80%;\n    white-space: nowrap;\n    margin-left: 0.5rem;\n    border-radius: 0.5rem;\n    background-color: #f1f1f1;\n    padding: 0.25rem 0.5rem;\n    color: #3a343a;\n  }\n  .evidence-tag__label {\n    padding-left: 0.25rem;\n    text-transform: capitalize;\n  }\n  .svg-colour-reviewed {\n    fill: #c39b00;\n  }\n  .svg-colour-unreviewed {\n    fill: #c0c0c0;\n  }\n\n  .protvista-datatable__child-item {\n    display: flex;\n  }\n\n  .protvista-datatable__child-item__title {\n    font-weight: 700;\n    flex-basis: 10vw;\n    flex-grow: 0;\n    margin-right: 1rem;\n  }\n\n  .protvista-datatable__child-item__content {\n  }\n\n  .odd {\n    background-color: var(--protvista-datatable__odd, #e4e8eb);\n  }\n\n  .even {\n    background-color: var(--protvista-datatable__even, #fff);\n  }\n`;\n\nexport default styles;\n","import { LitElement, html } from \"lit-element\";\nimport { v1 } from \"uuid\";\nimport { ScrollFilter } from \"protvista-utils\";\n/* eslint-disable import/extensions, import/no-extraneous-dependencies */\nimport styles from \"./styles\";\n\nclass ProtvistaDatatable extends LitElement {\n  constructor() {\n    super();\n    this.height = 25;\n    this.visibleChildren = [];\n    this.noScrollToRow = false;\n    this.noDeselect = false;\n    this.eventHandler = this.eventHandler.bind(this);\n    this.scrollFilter = new ScrollFilter(this);\n    this.wheelListener = (event) => this.scrollFilter.wheel(event);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"load\", (e) => {\n      if (Array.from(this.children).includes(e.target)) {\n        this.data = ProtvistaDatatable.processData(e.detail.payload.features);\n      }\n    });\n    if (this.closest(\"protvista-manager\")) {\n      this.manager = this.closest(\"protvista-manager\");\n      this.manager.register(this);\n    }\n    if (!this.noDeselect) {\n      document.addEventListener(\"click\", this.eventHandler);\n    }\n    // this makes sure the protvista-zoomable event listener doesn't reset\n    this.classList.add(\"feature\");\n\n    if (this.hasAttribute(\"filter-scroll\")) {\n      document.addEventListener(\"wheel\", this.wheelListener, { capture: true });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this.manager) {\n      this.manager.unregister(this);\n    }\n    document.removeEventListener(\"click\", this.eventHandler);\n    document.removeEventListener(\"wheel\", this.wheelListener);\n  }\n\n  // Implement our own accessors as we need to transform the data\n  set data(value) {\n    const oldValue = this._data;\n    this._data = ProtvistaDatatable.processData(value);\n    this.requestUpdate(\"data\", oldValue);\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  eventHandler(e) {\n    if (\n      !e.target.closest(\"protvista-datatable\") &&\n      !e.target.closest(\".feature\")\n    ) {\n      this.selectedid = null;\n    }\n  }\n\n  static get properties() {\n    return {\n      data: { type: Object },\n      highlight: {\n        converter: (value) => {\n          if (value && value !== \"null\") {\n            return value.split(\":\").map((d) => Number(d));\n          }\n          return null;\n        },\n      },\n      height: { type: Number },\n      columns: { type: Object },\n      displayStart: { type: Number },\n      displayEnd: { type: Number },\n      visibleChildren: { type: Array },\n      selectedid: { type: String },\n      rowClickEvent: { type: Function },\n      noScrollToRow: { type: Boolean },\n      noDeselect: { type: Boolean },\n    };\n  }\n\n  static get styles() {\n    return styles;\n  }\n\n  static processData(data) {\n    return data\n      .map((d) => {\n        return {\n          ...d,\n          start: d.start ? d.start : d.begin,\n        };\n      })\n      .sort((a, b) => a.start - b.start)\n      .map((d) => ({\n        ...d,\n        protvistaFeatureId: d.protvistaFeatureId || v1(),\n      }));\n  }\n\n  static isWithinRange(rangeStart, rangeEnd, start, end) {\n    return (\n      (!start && rangeEnd === Number(end)) ||\n      (!end && rangeStart === Number(start)) ||\n      (rangeStart <= start && rangeEnd >= end)\n    );\n  }\n\n  static isOutside(rangeStart, rangeEnd, start, end) {\n    return rangeStart > end || rangeEnd < start;\n  }\n\n  handleClick(e, row) {\n    if (!e.target.parentNode) {\n      return;\n    }\n    const { start, end } = row;\n    const detail =\n      (typeof this.rowClickEvent === \"function\" && this.rowClickEvent(row)) ||\n      {};\n    this.selectedid = e.target.parentNode.dataset.id;\n    if (start && end) {\n      detail.highlight = `${start}:${end}`;\n    }\n    this.dispatchEvent(\n      new CustomEvent(\"change\", {\n        detail,\n        bubbles: true,\n        cancelable: true,\n      })\n    );\n  }\n\n  getStyleClass(id, start, end) {\n    let className = \"\";\n    if (this.selectedid && this.selectedid === id) {\n      className = `${className} active`;\n    }\n    if (\n      this.displayStart &&\n      this.displayEnd &&\n      ProtvistaDatatable.isOutside(\n        this.displayStart,\n        this.displayEnd,\n        start,\n        end\n      )\n    ) {\n      className = `${className} hidden`;\n    }\n    if (\n      this.highlight &&\n      ProtvistaDatatable.isWithinRange(\n        this.highlight[0],\n        this.highlight[1],\n        start,\n        end\n      )\n    ) {\n      className = `${className} overlapped`;\n    }\n    return className;\n  }\n\n  hasChildData(rowItems, row) {\n    return rowItems.some((column) => this.columns[column].resolver(row));\n  }\n\n  toggleVisibleChild(rowId) {\n    if (this.visibleChildren.includes(rowId)) {\n      this.visibleChildren = this.visibleChildren.filter(\n        (childId) => childId !== rowId\n      );\n    } else {\n      this.visibleChildren = [...this.visibleChildren, rowId];\n    }\n  }\n\n  scrollIntoView() {\n    if (!this.selectedid) {\n      return;\n    }\n    const element = this.shadowRoot.querySelector(\n      `[data-id=\"${this.selectedid}\"]`\n    );\n    element.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n  }\n\n  getChildRow(childRowItems, row) {\n    return html`\n      <tr class=\"child-row\">\n        <td\n          colspan=\"${Object.values(this.columns).filter(\n            (column) => !column.child\n          ).length + 1}\"\n        >\n          ${childRowItems.map((column) => {\n            const data = this.columns[column].resolver(row);\n            return data\n              ? html`\n                  <div class=\"protvista-datatable__child-item\">\n                    <div class=\"protvista-datatable__child-item__title\">\n                      ${this.columns[column].label}\n                    </div>\n                    <div class=\"protvista-datatable__child-item__content\">\n                      ${this.columns[column].resolver(row)}\n                    </div>\n                  </div>\n                `\n              : html``;\n          })}\n        </td>\n      </tr>\n    `;\n  }\n\n  render() {\n    if (!this.data || !this.columns) {\n      return html``;\n    }\n    const childRowItems = Object.keys(this.columns).filter(\n      (column) => this.columns[column].child\n    );\n    const columnsToDisplay = Object.values(this.columns).filter(\n      (column) => !column.child && column.display !== false\n    );\n    return html`\n      <div\n        class=\"protvista-datatable-container\"\n        style=\"height:${this.height}rem\"\n      >\n        <table>\n          <thead>\n            <tr>\n              ${columnsToDisplay.map(\n                (column) => html` <th>${column.label}</th> `\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            ${this.data.map((row, rowIndex) => {\n              const hasChildData = this.hasChildData(childRowItems, row);\n              return html`\n                <tr\n                  data-id=\"${row.protvistaFeatureId}\"\n                  class=\"${this.getStyleClass(\n                    row.protvistaFeatureId,\n                    row.start,\n                    row.end\n                  )} ${rowIndex % 2 === 1 ? \"even\" : \"odd\"}\"\n                  @click=\"${(e) => this.handleClick(e, row)}\"\n                >\n                  ${columnsToDisplay.map((column, index) =>\n                    hasChildData && index === 0\n                      ? html`\n                          <td\n                            title=\"View more\"\n                            @click=\"${() =>\n                              this.toggleVisibleChild(row.protvistaFeatureId)}\"\n                            class=\"${this.visibleChildren.includes(\n                              row.protvistaFeatureId\n                            )\n                              ? \"withChildren minus\"\n                              : \"withChildren plus\"}\"\n                          >\n                            ${column.resolver(row)}\n                          </td>\n                        `\n                      : html`\n                          <td>\n                            ${column.resolver(row)}\n                          </td>\n                        `\n                  )}\n                </tr>\n                ${hasChildData &&\n                this.visibleChildren.includes(row.protvistaFeatureId)\n                  ? this.getChildRow(childRowItems, row)\n                  : \"\"}\n              `;\n            })}\n          </tbody>\n        </table>\n      </div>\n    `;\n  }\n\n  updated() {\n    if (!this.noScrollToRow) {\n      this.scrollIntoView();\n    }\n  }\n}\n\nexport default ProtvistaDatatable;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","import { axisBottom, select } from \"d3\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\n\nconst NUMBER_OF_TICKS = 3;\n\nclass ProtVistaSequence extends ProtvistaZoomable {\n  connectedCallback() {\n    super.connectedCallback();\n    this.sequence = this.getAttribute(\"sequence\");\n    if (this.sequence) {\n      this._createSequence();\n    }\n    this.addEventListener(\"load\", e => {\n      this.data = e.detail.payload;\n    });\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat(\n      \"highlightstart\",\n      \"highlightend\"\n    );\n  }\n\n  get data() {\n    return this.sequence;\n  }\n\n  set data(data) {\n    if (typeof data === \"string\") this.sequence = data;\n    else if (\"sequence\" in data) this.sequence = data.sequence;\n    if (this.sequence && !super.svg) {\n      this._createSequence();\n    } else {\n      this.refresh();\n    }\n  }\n\n  _getCharSize() {\n    if (!this.seq_g) return;\n    const xratio = 0.8;\n    const yratio = 1.6;\n    const node = this.seq_g.select(\"text.base\").node();\n    if (node) {\n      this.chWidth = node.getBBox().width * xratio;\n      this.chHeight = node.getBBox().height * yratio;\n    } else {\n      // Add a dummy node to measure the width\n      const tempNode = this.seq_g\n        .append(\"text\")\n        .attr(\"class\", \"base\")\n        .text(\"T\");\n      this.chWidth = tempNode.node().getBBox().width * xratio;\n      this.chHeight = tempNode.node().getBBox().height * yratio;\n      tempNode.remove();\n    }\n  }\n\n  _createSequence() {\n    super.svg = select(this)\n      .append(\"div\")\n      .attr(\"class\", \"\")\n      .append(\"svg\")\n      .attr(\"id\", \"\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.seq_bg = super.svg.append(\"g\").attr(\"class\", \"background\");\n\n    this.axis = super.svg.append(\"g\").attr(\"class\", \"x axis\");\n\n    this.seq_g = super.svg\n      .append(\"g\")\n      .attr(\"class\", \"sequence\")\n      .attr(\"transform\", `translate(0,${0.75 * this._height})`);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n    this.refresh();\n  }\n\n  refresh() {\n    this._getCharSize();\n    if (this.axis) {\n      const ftWidth = this.getSingleBaseWidth();\n      const space = ftWidth - this.chWidth;\n      const half = ftWidth / 2;\n      const first = Math.round(Math.max(0, this._displaystart - 2));\n      const last = Math.round(\n        Math.min(this.sequence.length, this._displayend + 1)\n      );\n      const bases =\n        space < 0\n          ? []\n          : this.sequence\n              .slice(first, last)\n              .split(\"\")\n              .map((aa, i) => {\n                return { start: 1 + first + i, end: 1 + first + i, aa };\n              });\n\n      // only add axis if there is room\n      if (this.height > this.chHeight) {\n        this.xAxis = axisBottom(this.xScale)\n          .tickFormat(d => (Number.isInteger(d) ? d : \"\"))\n          .ticks(NUMBER_OF_TICKS, \"s\");\n        this.axis.call(this.xAxis);\n      }\n\n      this.axis.attr(\"transform\", `translate(${this.margin.left + half},0)`);\n      this.axis.select(\".domain\").remove();\n      this.axis.selectAll(\".tick line\").remove();\n\n      this.bases = this.seq_g.selectAll(\"text.base\").data(bases, d => d.start);\n      this.bases\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"base\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"x\", d => this.getXFromSeqPosition(d.start) + half)\n        .text(d => d.aa)\n        .style(\"pointer-events\", \"none\")\n        .style(\"font-family\", \"monospace\");\n\n      this.bases.exit().remove();\n\n      this.bases.attr(\"x\", d => this.getXFromSeqPosition(d.start) + half);\n\n      this.background = this.seq_bg\n        .selectAll(\"rect.base_bg\")\n        .data(bases, d => d.start);\n      this.background\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"base_bg feature\")\n        .attr(\"height\", this._height)\n        .merge(this.background)\n        .attr(\"width\", ftWidth)\n        .attr(\"fill\", d => {\n          return Math.round(d.start) % 2 ? \"#ccc\" : \"#eee\";\n        })\n        .attr(\"x\", d => this.getXFromSeqPosition(d.start))\n        .call(this.bindEvents, this);\n      this.background.exit().remove();\n\n      this.seq_g.style(\"opacity\", Math.min(1, space));\n      this.background.style(\"opacity\", Math.min(1, space));\n\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtVistaSequence;\n","import {\n  scaleLinear,\n  axisBottom,\n  brushX,\n  format,\n  select,\n  event as d3Event,\n} from \"d3\";\n\nconst height = 40;\n\nclass ProtVistaNavigation extends HTMLElement {\n  constructor() {\n    super();\n    this._x = null;\n    this._padding = 0;\n    this.dontDispatch = false;\n  }\n\n  _refreshWidth() {\n    this.style.display = \"block\";\n    this.style.width = \"100%\";\n    this.width = this.offsetWidth;\n    if (this.width > 0) {\n      this._padding = 10;\n    }\n  }\n\n  connectedCallback() {\n    this._refreshWidth();\n    if (this.closest(\"protvista-manager\")) {\n      this.manager = this.closest(\"protvista-manager\");\n      this.manager.register(this);\n    }\n    this._length = parseFloat(this.getAttribute(\"length\"));\n    this._displaystart = parseFloat(this.getAttribute(\"displaystart\")) || 1;\n    this._displayend =\n      parseFloat(this.getAttribute(\"displayend\")) || this._length;\n    this._highlightStart = parseFloat(this.getAttribute(\"highlightStart\"));\n    this._highlightEnd = parseFloat(this.getAttribute(\"highlightEnd\"));\n    this._rulerstart = parseFloat(this.getAttribute(\"rulerStart\")) || 1;\n\n    this._onResize = this._onResize.bind(this);\n\n    this._createNavRuler();\n  }\n\n  disconnectedCallback() {\n    if (this.manager) {\n      this.manager.unregister(this);\n    }\n    if (this._ro) {\n      this._ro.unobserve(this);\n    }\n    window.removeEventListener(\"resize\", this._onResize);\n  }\n\n  static get observedAttributes() {\n    return [\n      \"length\",\n      \"displaystart\",\n      \"displayend\",\n      \"highlightStart\",\n      \"highlightEnd\",\n      \"width\",\n      \"rulerstart\",\n    ];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this[`_${name}`] = parseFloat(newValue);\n      this._updateNavRuler();\n    }\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(width) {\n    this._width = width;\n  }\n\n  _createNavRuler() {\n    this._x = scaleLinear().range([this._padding, this.width - this._padding]);\n    this._x.domain([this._rulerstart, this._rulerstart + this._length]);\n\n    this._svg = select(this)\n      .append(\"div\")\n      .attr(\"class\", \"\")\n      .append(\"svg\")\n      .attr(\"id\", \"\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", height);\n\n    this._xAxis = axisBottom(this._x);\n\n    this._displaystartLabel = this._svg\n      .append(\"text\")\n      .attr(\"class\", \"start-label\")\n      .attr(\"x\", 0)\n      .attr(\"y\", height - this._padding);\n\n    this._displayendLabel = this._svg\n      .append(\"text\")\n      .attr(\"class\", \"end-label\")\n      .attr(\"x\", this.width)\n      .attr(\"y\", height - this._padding)\n      .attr(\"text-anchor\", \"end\");\n    this._axis = this._svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .call(this._xAxis);\n\n    this._viewport = brushX()\n      .extent([\n        [this._padding, 0],\n        [this.width - this._padding, height * 0.51],\n      ])\n      .on(\"brush\", () => {\n        if (d3Event.selection) {\n          this._displaystart = format(\"d\")(\n            this._x.invert(d3Event.selection[0])\n          );\n          this._displayend = format(\"d\")(this._x.invert(d3Event.selection[1]));\n          if (!this.dontDispatch)\n            this.dispatchEvent(\n              new CustomEvent(\"change\", {\n                detail: {\n                  displayend: this._displayend,\n                  displaystart: this._displaystart,\n                  extra: { transform: d3Event.transform },\n                },\n                bubbles: true,\n                cancelable: true,\n              })\n            );\n          this._updateLabels();\n          this._updatePolygon();\n        }\n      });\n\n    this._brushG = this._svg\n      .append(\"g\")\n      .attr(\"class\", \"brush\")\n      .call(this._viewport);\n\n    this._brushG.call(this._viewport.move, [\n      this._x(this._displaystart),\n      this._x(this._displayend),\n    ]);\n\n    this.polygon = this._svg\n      .append(\"polygon\")\n      .attr(\"class\", \"zoom-polygon\")\n      .attr(\"fill\", \"#777\")\n      .attr(\"fill-opacity\", \"0.3\");\n    this._updateNavRuler();\n\n    if (\"ResizeObserver\" in window) {\n      this._ro = new ResizeObserver(this._onResize);\n      this._ro.observe(this);\n    }\n    window.addEventListener(\"resize\", this._onResize);\n  }\n\n  _onResize() {\n    this._refreshWidth();\n    this._x = this._x.range([this._padding, this.width - this._padding]);\n    this._svg.attr(\"width\", this.width);\n    this._viewport.extent([\n      [this._padding, 0],\n      [this.width - this._padding, height * 0.51],\n    ]);\n    this._brushG.call(this._viewport);\n    this._updateNavRuler();\n  }\n\n  _updateNavRuler() {\n    if (this._x) {\n      this._x.domain([this._rulerstart, this._rulerstart + this._length]);\n      this._axis.call(this._xAxis);\n      this._updatePolygon();\n      this._updateLabels();\n      if (this._brushG) {\n        this.dontDispatch = true;\n        this._brushG.call(this._viewport.move, [\n          this._x(this._displaystart),\n          this._x(this._displayend),\n        ]);\n        this.dontDispatch = false;\n      }\n    }\n  }\n\n  _updateLabels() {\n    if (this._displaystartLabel)\n      this._displaystartLabel.text(this._displaystart);\n    if (this._displayendLabel)\n      this._displayendLabel.attr(\"x\", this.width).text(this._displayend);\n  }\n\n  _updatePolygon() {\n    if (this.polygon)\n      this.polygon.attr(\n        \"points\",\n        `${this._x(this._displaystart)},${height / 2}\n        ${this._x(this._displayend)},${height / 2}\n        ${this.width},${height}\n        0,${height}`\n      );\n  }\n}\n\nexport default ProtVistaNavigation;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import { LitElement, html, css } from \"lit-element\";\nimport groupBy from \"lodash-es/groupBy\";\n\nclass ProtvistaFilter extends LitElement {\n  static get properties() {\n    return {\n      filters: { type: Array },\n      selectedFilters: { type: Set },\n      for: { type: String }\n    };\n  }\n\n  constructor() {\n    super();\n    this.filters = [];\n    this.selectedFilters = new Set();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"filterChange\", this._onFilterChange);\n    if (this.closest(\"protvista-manager\")) {\n      this.manager = this.closest(\"protvista-manager\");\n      this.manager.register(this);\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this.manager) {\n      this.manager.unregister(this);\n    }\n    this.removeEventListener(\"filterChange\", this._onFilterChange);\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        font-size: 0.8rem;\n      }\n\n      :host[disabled] {\n        opacity: 0.5;\n      }\n\n      .protvista_checkbox {\n        position: relative;\n        cursor: pointer;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        margin-top: 10px;\n        line-height: 24px;\n        outline: none;\n      }\n\n      .protvista_checkbox_input {\n        position: absolute;\n        opacity: 0;\n        cursor: pointer;\n        height: 0;\n        width: 0;\n      }\n\n      .checkmark {\n        opacity: 0.4;\n        height: 25px;\n        width: 25px;\n        background-color: #eee;\n        border-radius: 4px;\n        box-sizing: border-box;\n        border: 1px solid #bdc3c7;\n      }\n\n      .protvista_checkbox_input:checked ~ .checkmark {\n        opacity: 1;\n      }\n\n      .protvista_checkbox_label {\n        margin-left: 0.2rem;\n        line-height: 1rem;\n      }\n    `;\n  }\n\n  render() {\n    const groupByType = groupBy(this.filters, f => {\n      return f.type.text;\n    });\n    return html`\n      ${Object.keys(groupByType).map(\n        type =>\n          html`\n            <h4>${type}</h4>\n            <div>\n              ${groupByType[type].map(\n                filterItem =>\n                  html`\n                    ${this.getCheckBox(filterItem)}\n                  `\n              )}\n            </div>\n          `\n      )}\n    `;\n  }\n\n  getCheckBox(filterItem) {\n    const { name, options } = filterItem;\n    const { labels } = options;\n\n    if (options.colors.length == null) {\n      options.colors = [options.colors];\n    }\n    const isCompound = options.colors.length > 1;\n    return html`\n      <label\n        class=\"protvista_checkbox ${isCompound ? \"compound\" : \"\"}\"\n        tabindex=\"0\"\n      >\n        <input\n          type=\"checkbox\"\n          class=\"protvista_checkbox_input\"\n          ?checked=\"true\"\n          .value=\"${name}\"\n          @change=\"${() => this.toggleFilter(name)}\"\n        />\n        <span\n          class=\"checkmark\"\n          style=${`background: ${\n            isCompound\n              ? `\n            linear-gradient(${options.colors[0]},\n            ${options.colors[1]})\n          `\n              : options.colors[0]\n          };`}\n        ></span>\n        <span class=\"protvista_checkbox_label\">\n          ${labels.join(\"/\")}\n        </span>\n      </label>\n    `;\n  }\n\n  toggleFilter(name) {\n    if (!this.selectedFilters.has(name)) {\n      this.selectedFilters.add(name);\n    } else {\n      this.selectedFilters.delete(name);\n    }\n    this.dispatchEvent(\n      new CustomEvent(\"change\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          type: \"filters\",\n          handler: \"property\",\n          for: this.for,\n          value: this.filters\n            .filter(filter => this.selectedFilters.has(filter.name))\n            .map(filter => ({\n              category: filter.type.name,\n              filterFn: filter.filterData\n            }))\n        }\n      })\n    );\n  }\n}\n\nexport default ProtvistaFilter;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","// @flow\nexport default (paramName/* : string */) => {\n  throw new Error(`Parameter '${paramName}' is required`);\n};\n","// @flow\nimport required from '../utils/required';\n\nexport default (time/* : number */ = required('time')) => new Promise(\n  resolve => setTimeout(resolve, time)\n);\n","// @flow\n\nlet env = 'node';\nif (typeof importScripts !== 'undefined') {\n  env = 'worker';\n} else if (typeof window !== 'undefined') {\n  env = 'browser';\n}\n\nexport default env;\n","// @flow\nimport env from '../utils/env';\nimport sleep from '../sleep';\n\nlet frame = () => sleep(0);\n\nif (env === 'browser' && 'requestAnimationFrame' in window) {\n  frame = () => new Promise(resolve => window.requestAnimationFrame(resolve));\n}\n\nexport default frame;\n","// @flow\nimport env from '../utils/env';\nimport sleep from '../sleep';\nimport frame from '../frame';\n\nlet schedule;\n\nif (env === 'browser' && 'requestIdleCallback' in window) {\n  schedule = (maxTimeout/* : ?number */) => new Promise(\n    resolve => window.requestIdleCallback(resolve, { timeout: maxTimeout })\n  );\n} else {\n  // IdleDeadline stub\n  const idleDeadline = Object.freeze({\n    didTimeout: true,\n    timeRemaining () { return Infinity },\n  });\n  // Does not support requestIdleCallback\n  schedule = (maxTimeout/* : ?number */) => (\n    sleep((maxTimeout || 0) / 2).then(() => idleDeadline)\n  );\n  if (env === 'browser' && 'requestAnimationFrame' in window) {\n    // But does support requestAnimationFrame\n    const _schedule = schedule;\n    schedule = () => _schedule().then(frame).then(() => idleDeadline);\n  }\n}\n\nexport default schedule;\n","// @flow\nimport _sleep from './sleep';\nimport _frame from './frame';\nimport _schedule from './schedule';\nimport _timeout from './timeout';\n\nexport const sleep = _sleep;\nexport const frame = _frame;\nexport const schedule = _schedule;\nexport const timeout = _timeout;\n","import { LitElement, html, css } from \"lit-element\";\n\n// defaults\nconst TRIANGLE_WIDTH = 16;\nconst TRIANGLE_HEIGHT = 10;\nconst TRIANGLE_MARGIN = 10;\nconst VERTICAL_DISTANCE = 5;\n\n/**\n * Utility function to extract pixel values from CSS extracted properties\n * @param {DOMString} string a string containing a property value\n * @param {number} defaultValue default value to provide if can't extract\n */\nconst getNumberFromStyleString = (string, defaultValue = 0) => {\n  const match = (string || \"\").match(/(\\d+\\.?\\d*)px/);\n  if (!match) return defaultValue;\n  return +match[1];\n};\n\nclass ProtvistaTooltip extends LitElement {\n  static get properties() {\n    return {\n      // title to be displayed\n      title: { type: String, reflect: true },\n      // x position of the target in pixels\n      x: { type: Number, reflect: true },\n      // y position of the target in pixels\n      y: { type: Number, reflect: true },\n      // flag\n      visible: { type: Boolean, reflect: true },\n      // selector pointing to the container of the tooltip (for edge detection)\n      container: { type: String, reflect: true },\n    };\n  }\n\n  constructor() {\n    super();\n\n    // defaults\n    this.title = \"\";\n    this.x = 0;\n    this.y = 0;\n    this.visible = false;\n    this.container = \"html\";\n\n    // rerender on any change in the DOM subtree (change in tooltip content) or\n    // window resize to make sure the position is still correct and orientation\n    // are still correct\n    this._changeHandler = () => this.requestUpdate();\n    this._observer = new MutationObserver(this._changeHandler);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._observer.observe(this, {\n      subtree: true,\n      characterData: true,\n      childList: true,\n    });\n    window.addEventListener(\"resize\", this._changeHandler);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this._observer.disconnect();\n    window.removeEventListener(\"resize\", this._changeHandler);\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        --z-index: 50000;\n        --title-color: black;\n        --text-color: white;\n        --body-color: #616161;\n        --triangle-width: ${TRIANGLE_WIDTH}px;\n        --triangle-height: ${TRIANGLE_HEIGHT}px;\n        --triangle-margin: ${TRIANGLE_MARGIN}px;\n        --vertical-distance: ${VERTICAL_DISTANCE}px;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        margin: 0;\n      }\n\n      h1 {\n        background-color: var(--title-color);\n        line-height: 2em;\n        padding: 0 1ch;\n      }\n\n      .tooltip {\n        font-family: Roboto, Arial, sans-serif;\n        font-size: 0.9rem;\n        top: 0;\n        left: 0;\n        display: block;\n        position: absolute;\n        min-width: 220px;\n        max-width: 50vw;\n\n        /* user overridable through custom properties */\n        z-index: var(--z-index);\n        color: var(--text-color);\n\n        /* will change those */\n        opacity: 0;\n        pointer-events: none;\n        transform: translate(0, 0);\n      }\n\n      .tooltip.visible {\n        opacity: 0.9;\n        pointer-events: auto;\n      }\n\n      .tooltip::before {\n        content: \"\";\n        position: absolute;\n        pointer-events: none;\n        border-style: solid;\n        border-color: transparent;\n        border-width: 0 calc(var(--triangle-width) / 2);\n      }\n\n      .tooltip.arrow-left::before {\n        left: var(--triangle-margin);\n      }\n\n      .tooltip.arrow-right::before {\n        right: var(--triangle-margin);\n      }\n\n      .tooltip.arrow-up::before {\n        top: calc(-1 * var(--triangle-height));\n        border-bottom-color: var(--title-color);\n        border-bottom-width: var(--triangle-height);\n      }\n\n      .tooltip.arrow-down::before {\n        bottom: calc(-1 * var(--triangle-height));\n        border-top-color: var(--body-color);\n        border-top-width: var(--triangle-height);\n      }\n\n      :host a,\n      :host a:link,\n      :host a:active,\n      :host a:hover {\n        color: #fff;\n      }\n\n      .tooltip-body {\n        padding: 1em;\n        background: var(--body-color);\n        font-weight: normal;\n        overflow-y: auto;\n        max-height: 40vh;\n      }\n\n      ::slotted(h4) {\n        font-size: 1.2rem !important;\n        margin: 0 0 0.5rem 0 !important;\n        font-weight: 600 !important;\n        color: #fff !important;\n      }\n\n      ::slotted(h5) {\n        font-size: 1rem !important;\n        margin: 0 !important;\n        font-weight: 500 !important;\n        color: #fff !important;\n      }\n\n      ::slotted(h6) {\n        font-size: 1rem !important;\n        margin: 0 !important;\n        font-weight: 300 !important;\n        color: #fff !important;\n      }\n\n      ::slotted(p) {\n        margin: 0.25rem 0 1rem 0 !important;\n      }\n\n      ::slotted(ul) {\n        list-style: none !important;\n        margin: 0.25rem 0 1rem 0 !important;\n        padding: 0 !important;\n      }\n    `;\n  }\n\n  _getPosition() {\n    if (!this.shadowRoot.firstElementChild) return {};\n\n    // retrieve all necessary measurements\n    const container = document.querySelector(this.container || \"html\");\n    const containerRect = container.getBoundingClientRect();\n    const tooltipRect = this.shadowRoot.firstElementChild.getBoundingClientRect();\n    const style = getComputedStyle(this);\n    const triangleWidth = getNumberFromStyleString(\n      style.getPropertyValue(\"--triangle-width\"),\n      TRIANGLE_WIDTH\n    );\n    const triangleHeight = getNumberFromStyleString(\n      style.getPropertyValue(\"--triangle-height\"),\n      TRIANGLE_HEIGHT\n    );\n    const triangleMargin = getNumberFromStyleString(\n      style.getPropertyValue(\"--triangle-margin\"),\n      TRIANGLE_MARGIN\n    );\n    const verticalDistance = getNumberFromStyleString(\n      style.getPropertyValue(\"--vertical-distance\"),\n      VERTICAL_DISTANCE\n    );\n\n    // horizontal\n    // default\n    let x = this.x - triangleWidth / 2 - triangleMargin;\n    let horizontal = \"left\";\n    // does it fit?\n    const fitsHorizontally = x + tooltipRect.width <= containerRect.right;\n    if (!fitsHorizontally) {\n      // alternative\n      horizontal = \"right\";\n      x = this.x - tooltipRect.width + triangleWidth / 2 + triangleMargin;\n    }\n\n    // horizontal\n    // default\n    let y = this.y + triangleHeight + verticalDistance;\n    let vertical = \"up\";\n    // does it fit?\n    const fitsVertically = y + tooltipRect.height <= containerRect.height;\n    if (!fitsVertically) {\n      // alternative\n      vertical = \"down\";\n      y = this.y - tooltipRect.height - triangleHeight - verticalDistance;\n    }\n\n    return { x, y, horizontal, vertical };\n  }\n\n  firstUpdated() {\n    // on the first render, the element were not in the DOM yet, so need to\n    // rerender to get correct DOM size calculations\n    this.requestUpdate();\n  }\n\n  render() {\n    let visible = this.title && this.visible;\n    // only compute that if tooltip is visible\n    const position = visible ? this._getPosition() : {};\n    // if no position calculated, shouldn't be visible yet\n    visible = position.x && visible;\n    // position on screen with css translate\n    const style =\n      visible && `transform: translate(${position.x}px, ${position.y}px);`;\n\n    return html`\n        <section\n          class=\"tooltip arrow-${position.horizontal || \"left\"} arrow-${\n      position.vertical || \"up\"\n    } ${visible ? \"visible\" : \"\"}\"\n          style=\"${style}\"\n        >\n          <h1>${this.title}</h1>\n          <div class=\"tooltip-body\"><slot></slot></div>\n        </sectionclass=\"tooltip>\n      `;\n  }\n}\n\nexport default ProtvistaTooltip;\n","/* eslint-disable prefer-template, no-param-reassign  */\n/* jslint node: true */\nconst symbolSize = 10;\n\nexport default class FeatureShape {\n  getFeatureShape(aaWidth, ftHeight, ftLength, shape) {\n    shape = shape || \"rectangle\";\n    this._ftLength = ftLength;\n    this._ftHeight = ftHeight;\n    this._ftWidth = aaWidth * ftLength;\n    if (typeof this[\"_\" + shape] !== \"function\") {\n      shape = \"rectangle\";\n    }\n    return this[\"_\" + shape]();\n  }\n\n  static isContinuous(shape) {\n    shape = shape.toLowerCase();\n    return shape !== \"bridge\";\n  }\n\n  _rectangle() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _roundRectangle() {\n    const radius = 6;\n    return (\n      \"M\" +\n      radius +\n      \",0\" +\n      \"h\" +\n      (this._ftWidth - 2 * radius) +\n      \",0\" +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      radius +\n      \"v\" +\n      (this._ftHeight - 2 * radius) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      radius +\n      \"h\" +\n      (2 * radius - this._ftWidth) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      -radius +\n      \"v\" +\n      (2 * radius - this._ftHeight) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      -radius +\n      \"Z\"\n    );\n  }\n\n  _line() {\n    return `M0,${this._ftHeight / 2} L${this._ftWidth},${this._ftHeight / 2}`;\n  }\n\n  _bridge() {\n    if (this._ftLength !== 1) {\n      return (\n        \"M0,\" +\n        this._ftHeight +\n        \"L0,0\" +\n        \"L\" +\n        this._ftWidth +\n        \",0\" +\n        \"L\" +\n        this._ftWidth +\n        \",\" +\n        this._ftHeight +\n        \"L\" +\n        this._ftWidth +\n        \",2\" +\n        \"L0,2\" +\n        \"Z\"\n      );\n    }\n    return (\n      \"M0,\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",0\" +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _getMiddleLine(centerx) {\n    return \"M0,\" + centerx + \"L\" + this._ftWidth + \",\" + centerx + \"Z\";\n  }\n\n  _diamond() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (m + centerx) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (m - centerx) +\n      \",\" +\n      centerx;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(centerx, this._ftWidth)\n      : shape + \"Z\";\n  }\n\n  _chevron() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",\" +\n      centerx +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      (-centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",\" +\n          centerx +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _catFace() {\n    const centerx = symbolSize / 2;\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-centerx + m) +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"M\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _triangle() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _wave() {\n    const rx = symbolSize / 4;\n    const ry = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-symbolSize / 2 + m) +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,0 \" +\n      (symbolSize / 2 + m) +\n      \",\" +\n      ry;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(ry, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getPolygon(sidesNumber) {\n    const r = symbolSize / 2;\n    let polygon = \"M \";\n    const m = this._ftWidth / 2;\n    for (let i = 0; i < sidesNumber; i++) {\n      polygon +=\n        r * Math.cos((2 * Math.PI * i) / sidesNumber) +\n        m +\n        \",\" +\n        (r * Math.sin((2 * Math.PI * i) / sidesNumber) + r) +\n        \" \";\n    }\n    return this._ftLength !== 1\n      ? polygon +\n          \" \" +\n          (r * Math.cos(0) + m) +\n          \",\" +\n          (r * Math.sin(0) + r) +\n          \" \" +\n          this._getMiddleLine(r, this._ftWidth) +\n          \"Z\"\n      : polygon + \"Z\";\n  }\n\n  _hexagon() {\n    return this._getPolygon(6);\n  }\n\n  _pentagon() {\n    return this._getPolygon(5);\n  }\n\n  _circle() {\n    const m = this._ftWidth / 2;\n    const r = Math.sqrt(symbolSize / Math.PI);\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      symbolSize +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(symbolSize / 2, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _arrow() {\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-step + m) +\n      \",0\" +\n      \"L\" +\n      (-5 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-step + m) +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      m +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      (4 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _doubleBar() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getBrokenEnd() {\n    const qh = this._ftHeight / 4.0;\n    return (\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      3 * qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight\n    );\n  }\n\n  _getBrokenStart() {\n    const qh = this._ftHeight / 4.0;\n    return \"L\" + qh + \",\" + 3 * qh + \"L0,\" + 2 * qh + \"L\" + qh + \",\" + qh;\n  }\n\n  _discontinuosStart() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuos() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuosEnd() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _helix() {\n    const x = symbolSize / 2; // Fitting two loops in a symbol\n    const y = symbolSize / 4;\n    let center = x / 2;\n    const nw = Math.round(this._ftWidth / x);\n\n    let loop = \"\";\n    for (let i = 0; i < nw; i++) {\n      const shape =\n        \"M\" +\n        (-(x / 2) + center) +\n        \",\" +\n        this._ftHeight +\n        \" C\" +\n        (center + y) +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \", 0\" +\n        \" C\" +\n        (center - y) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        this._ftHeight;\n      loop += shape;\n      center += x;\n    }\n    return loop;\n  }\n\n  _strand() {\n    let rl = 0;\n    if (this._ftWidth > symbolSize / 2) {\n      rl = this._ftWidth - symbolSize / 2;\n    }\n    const qh = this._ftHeight / 4;\n    const rect =\n      \"M0,\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      3 * qh +\n      \"L0,\" +\n      3 * qh +\n      \"L0,\" +\n      qh;\n    const triangle =\n      \"M\" +\n      rl +\n      \",\" +\n      0 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      rl +\n      \",\" +\n      this._ftHeight +\n      \"Z\";\n    return rect + triangle;\n  }\n}\n","export default class DefaultLayout {\n  constructor({ layoutHeight, padding = 1, minHeight = 17 }) {\n    this._padding = padding;\n    this._minHeight = minHeight;\n    this._layoutHeight = layoutHeight;\n  }\n\n  init(features) {\n    this._features = features;\n  }\n\n  getFeatureYPos() {\n    // Position right in the middle\n    const featureHeight = this.getFeatureHeight();\n    return this._layoutHeight / 2 - featureHeight / 2;\n  }\n\n  getFeatureHeight() {\n    return Math.min(this._layoutHeight, this._minHeight) - this._padding;\n  }\n}\n","import DefaultLayout from \"./DefaultLayout\";\n\nconst featuresOverlap = (feature1, feature2) => {\n  return !(\n    Number(feature2.start) > Number(feature1.end) ||\n    Number(feature2.end) < Number(feature1.start)\n  );\n};\n\nconst featureOvelapsInRow = (feature, row) => {\n  return row.some(rowFeature => featuresOverlap(feature, rowFeature));\n};\n\nexport default class NonOverlappingLayout extends DefaultLayout {\n  constructor(options) {\n    super(options);\n    this.featuresMap = new Map();\n    this._rowHeight = 0;\n    this._rows = [];\n    this._minHeight = 15;\n  }\n\n  init(features) {\n    features.forEach(feature => {\n      const rowIndex = this._rows.findIndex(\n        row => !featureOvelapsInRow(feature, row)\n      );\n      if (rowIndex >= 0) {\n        this._rows[rowIndex].push(feature);\n        this.featuresMap.set(feature, rowIndex);\n      } else {\n        this._rows.push([feature]);\n        this.featuresMap.set(feature, this._rows.length - 1);\n      }\n    });\n    this._rowHeight = Math.min(\n      this._layoutHeight / this._rows.length,\n      this._minHeight\n    );\n  }\n\n  getOffset() {\n    // this offset is required for centering if the number of rows doesn't\n    // fill the layout\n    if (this._rows.length * this._rowHeight < this._layoutHeight) {\n      return this._layoutHeight / 2 - (this._rows.length * this._rowHeight) / 2;\n    }\n    return 0;\n  }\n\n  getFeatureYPos(feature) {\n    const rowNumber = this.featuresMap.get(feature);\n    return this.getOffset() + this._rowHeight * rowNumber + 2 * this._padding;\n  }\n\n  getFeatureHeight() {\n    return this._rowHeight - 2 * this._padding;\n  }\n}\n","// eslint-disable-next-line\nexport const config = {\n  CHAIN: {\n    name: \"chain\",\n    label: \"Chain\",\n    tooltip:\n      \"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing\",\n    shape: \"rectangle\",\n    color: \"#CC9933\"\n  },\n  TRANSIT: {\n    name: \"transit peptide\",\n    label: \"Transit peptide\",\n    tooltip: \"This describes the extent of a transit peptide\",\n    shape: \"rectangle\",\n    color: \"#009966\"\n  },\n  INIT_MET: {\n    name: \"initiator methionine\",\n    label: \"Initiator methionine\",\n    tooltip:\n      \"This indicates that the initiator methionine is cleaved from the mature protein\",\n    shape: \"arrow\",\n    color: \"#996633\"\n  },\n  PROPEP: {\n    name: \"propeptide\",\n    label: \"Propeptide\",\n    tooltip:\n      \"Part of a protein that is cleaved during maturation or activation\",\n    shape: \"rectangle\",\n    color: \"#99CCCC\"\n  },\n  PEPTIDE: {\n    name: \"peptide\",\n    label: \"Peptide\",\n    tooltip:\n      \"The position and length of an active peptide in the mature protein\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  SIGNAL: {\n    name: \"signal peptide\",\n    label: \"Signal peptide\",\n    tooltip: \"N-terminal signal peptide\",\n    shape: \"rectangle\",\n    color: \"#CC0033\"\n  },\n  HELIX: {\n    name: \"helix\",\n    label: \"Helix\",\n    tooltip: \"The positions of experimentally determined helical regions\",\n    shape: \"rectangle\",\n    color: \"#FF0066\"\n  },\n  STRAND: {\n    name: \"strand\",\n    label: \"Beta strand\",\n    tooltip: \"The positions of experimentally determined beta strands\",\n    shape: \"rectangle\",\n    color: \"#FFCC00\"\n  },\n  TURN: {\n    name: \"turn\",\n    label: \"Turn\",\n    tooltip: \"The positions of experimentally determined hydrogen-bonded turns\",\n    shape: \"rectangle\",\n    color: \"#0571AF\"\n  },\n  DISULFID: {\n    name: \"disulfide bond\",\n    label: \"Disulfide bond\",\n    tooltip:\n      \"The positions of cysteine residues participating in disulphide bonds\",\n    shape: \"bridge\",\n    color: \"#23B14D\"\n  },\n  CROSSLNK: {\n    name: \"cross-link\",\n    label: \"Cross-link\",\n    tooltip:\n      \"Covalent linkages of various types formed between two proteins or between two parts of the same protein\",\n    shape: \"bridge\",\n    color: \"#FF6600\"\n  },\n  REGION: {\n    name: \"region of interest\",\n    label: \"Region of interest\",\n    tooltip:\n      \"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation\",\n    shape: \"rectangle\",\n    color: \"#B33E00\"\n  },\n  COILED: {\n    name: \"coiled-coil region\",\n    label: \"Coiled-coil region\",\n    tooltip:\n      \"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  MOTIF: {\n    name: \"short sequence motif\",\n    label: \"Short sequence motif\",\n    tooltip: \"Short conserved sequence motif of biological significance\",\n    shape: \"rectangle\",\n    color: \"#402060\"\n  },\n  REPEAT: {\n    name: \"repeat\",\n    label: \"Repeat\",\n    tooltip: \"Repeated sequence motifs or repeated domains within the protein\",\n    shape: \"rectangle\",\n    color: \"#9900FF\"\n  },\n  CA_BIND: {\n    name: \"calcium-binding region\",\n    label: \"Calcium-binding region\",\n    tooltip: \"Calcium-binding regions, such as the EF-hand motif\",\n    shape: \"rectangle\",\n    color: \"#FF3399\"\n  },\n  DNA_BIND: {\n    name: \"DNA-binding region\",\n    label: \"DNA binding\",\n    tooltip:\n      \"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain\",\n    shape: \"rectangle\",\n    color: \"#009933\"\n  },\n  DOMAIN: {\n    name: \"other domain of interest\",\n    label: \"Other domain of interest\",\n    tooltip:\n      \"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold\",\n    shape: \"rectangle\",\n    color: \"#9999FF\"\n  },\n  ZN_FING: {\n    name: \"zinc finger region\",\n    label: \"Zinc finger\",\n    tooltip:\n      \"Small, functional, independently folded domain that coordinates one or more zinc ions\",\n    shape: \"rectangle\",\n    color: \"#990066\"\n  },\n  NP_BIND: {\n    name: \"nucleotide-binding region\",\n    label: \"Nucleotide-binding region\",\n    tooltip:\n      \"(aka flavin-binding). Region in the protein which binds nucleotide phosphates\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  METAL: {\n    name: \"metal ion-binding site\",\n    label: \"Metal ion-binding site\",\n    tooltip: \"Binding site for a metal ion\",\n    shape: \"diamond\",\n    color: \"#009900\"\n  },\n  SITE: {\n    name: \"other site of interest\",\n    label: \"Other site of interest\",\n    tooltip: \"Any interesting single amino acid site on the sequence\",\n    shape: \"chevron\",\n    color: \"#660033\"\n  },\n  BINDING: {\n    name: \"other binding site\",\n    label: \"Other binding site\",\n    tooltip:\n      \"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)\",\n    shape: \"rectangle\",\n    color: \"#catFace\"\n  },\n  ACT_SITE: {\n    name: \"active site\",\n    label: \"Active site\",\n    tooltip: \"Amino acid(s) directly involved in the activity of an enzyme\",\n    shape: \"circle\",\n    color: \"#FF6666\"\n  },\n  MOD_RES: {\n    name: \"Post-translationally modified residue\",\n    label: \"Modified residue\",\n    tooltip:\n      \"Modified residues such as phosphorylation, acetylation, acylation, methylation\",\n    shape: \"triangle\",\n    color: \"#000066\"\n  },\n  LIPID: {\n    name: \"lipid moiety-binding region\",\n    label: \"Lipidation\",\n    tooltip: \"Covalently attached lipid group(s)\",\n    shape: \"wave\",\n    color: \"#99CC33\"\n  },\n  CARBOHYD: {\n    name: \"glycosylation site\",\n    label: \"Glycosylation\",\n    tooltip: \"Covalently attached glycan group(s)\",\n    shape: \"hexagon\",\n    color: \"#CC3366\"\n  },\n  COMPBIAS: {\n    name: \"compositionally biased region\",\n    label: \"Compositionally biased region\",\n    tooltip:\n      \"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions\",\n    shape: \"rectangle\",\n    color: \"#FF3366\"\n  },\n  CONFLICT: {\n    name: \"sequence conflict\",\n    label: \"Sequence conflict\",\n    tooltip: \"Sequence discrepancies of unknown origin\",\n    shape: \"rectangle\",\n    color: \"#6633CC\"\n  },\n  NON_CONS: {\n    name: \"non-consecutive residues\",\n    label: \"Non-adjacent residues\",\n    tooltip:\n      \"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them\",\n    shape: \"doubleBar\",\n    color: \"#FF0033\"\n  },\n  NON_TER: {\n    name: \"non-terminal residue\",\n    label: \"Non-terminal residue\",\n    tooltip:\n      \"The sequence is incomplete. The residue is not the terminal residue of the complete protein\",\n    shape: \"doubleBar\",\n    color: \"#339933\"\n  },\n  UNSURE: {\n    name: \"unsure residue\",\n    label: \"Sequence uncertainty\",\n    tooltip:\n      \"Regions of a sequence for which the authors are unsure about the sequence assignment\",\n    shape: \"rectangle\",\n    color: \"#33FF00\"\n  },\n  NON_STD: {\n    name: \"non-standard amino acid\",\n    label: \"Non-standard residue\",\n    tooltip: \"Non-standard amino acids (selenocysteine and pyrrolysine)\",\n    shape: \"pentagon\",\n    color: \"#330066\"\n  },\n  MUTAGEN: {\n    name: \"mutagenesis site\",\n    label: \"Mutagenesis\",\n    tooltip: \"Site which has been experimentally altered by mutagenesis\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  TOPO_DOM: {\n    name: \"topological domain\",\n    label: \"Topological domain\",\n    tooltip: \"Location of non-membrane regions of membrane-spanning proteins\",\n    shape: \"rectangle\",\n    color: \"#CC0000\"\n  },\n  TRANSMEM: {\n    name: \"transmembrane region\",\n    label: \"Transmembrane\",\n    tooltip: \"Extent of a membrane-spanning region\",\n    shape: \"rectangle\",\n    color: \"#CC00CC\"\n  },\n  INTRAMEM: {\n    name: \"intramembrane region\",\n    label: \"Intramembrane\",\n    tooltip: \"Extent of a region located in a membrane without crossing it\",\n    shape: \"rectangle\",\n    color: \"#0000CC\"\n  },\n  VAR_SEQ: {\n    name: \"splice variant\",\n    label: \"Splice variant\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#CC11CC\"\n  },\n  VARIANT: {\n    name: \"sequence variant\",\n    label: \"Natural variant\",\n    tooltip:\n      \"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events\",\n    shape: \"circle\",\n    color: \"black\"\n  },\n  UNIQUE: {\n    name: \"unique\",\n    label: \"Unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#fc3133\"\n  },\n  NON_UNIQUE: {\n    name: \"non-unique\",\n    label: \"Non-unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#8585fc\"\n  },\n  ANTIGEN: {\n    name: \"antigen\",\n    label: \"Antibody binding sequences\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#996699\"\n  },\n  PDBE_COVER: {\n    name: \"pdbe coverage\",\n    label: \"PDBe 3D structure coverage\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#669966\"\n  }\n};\n","import { config } from \"./config\";\n\nexport const getShapeByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].shape;\n  }\n  const info = Object.values(config).find(\n    typeInfo => typeInfo.name.toUpperCase() === type.toUpperCase()\n  );\n  if (info) {\n    return info.shape;\n  }\n  return \"rectangle\";\n};\n\nexport const getColorByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].color;\n  }\n  const info = Object.values(config).find(typeInfo => {\n    return typeInfo.name.toUpperCase() === type.toUpperCase();\n  });\n  if (!info) {\n    console.log(type);\n  }\n  if (info) {\n    return info.color;\n  }\n  return \"black\";\n};\n","import { select } from \"d3\";\nimport _includes from \"lodash-es/includes\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\nimport FeatureShape from \"./FeatureShape\";\nimport NonOverlappingLayout from \"./NonOverlappingLayout\";\nimport DefaultLayout from \"./DefaultLayout\";\nimport { getShapeByType, getColorByType } from \"./ConfigHelper\";\n\nclass ProtvistaTrack extends ProtvistaZoomable {\n  getLayout() {\n    if (String(this.getAttribute(\"layout\")).toLowerCase() === \"non-overlapping\")\n      return new NonOverlappingLayout({\n        layoutHeight: this._height,\n      });\n    return new DefaultLayout({\n      layoutHeight: this._height,\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._color = this.getAttribute(\"color\");\n    this._shape = this.getAttribute(\"shape\");\n    this._featureShape = new FeatureShape();\n    this._layoutObj = this.getLayout();\n\n    if (this._data) this._createTrack();\n\n    this.addEventListener(\"load\", (e) => {\n      if (_includes(this.children, e.target)) {\n        this.data = e.detail.payload;\n      }\n    });\n  }\n\n  static normalizeLocations(data) {\n    return data.map((obj) => {\n      const { locations, start, end } = obj;\n      return locations\n        ? obj\n        : Object.assign(obj, {\n            locations: [\n              {\n                fragments: [\n                  {\n                    start,\n                    end,\n                  },\n                ],\n              },\n            ],\n          });\n    });\n  }\n\n  processData(data) {\n    this._originalData = ProtvistaTrack.normalizeLocations(data);\n  }\n\n  set data(data) {\n    this.processData(data);\n    this._applyFilters();\n    this._layoutObj = this.getLayout();\n    this._createTrack();\n  }\n\n  set filters(filters) {\n    this._filters = filters;\n    this._applyFilters();\n    this._createTrack();\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat([\n      \"highlight\",\n      \"color\",\n      \"shape\",\n      \"filters\",\n    ]);\n  }\n\n  _getFeatureColor(f) {\n    if (f.color) {\n      return f.color;\n    }\n    if (f.feature && f.feature.color) {\n      return f.feature.color;\n    }\n    if (this._color) {\n      return this._color;\n    }\n    if (f.type) {\n      return getColorByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getColorByType(f.feature.type);\n    }\n    return \"black\";\n  }\n\n  _getFeatureFillColor(f) {\n    if (f.fill) {\n      return f.fill;\n    }\n    if (f.feature && f.feature.fill) {\n      return f.feature.fill;\n    }\n    return this._getFeatureColor(f);\n  }\n\n  _getShape(f) {\n    if (f.shape) {\n      return f.shape;\n    }\n    if (f.feature && f.feature.shape) {\n      return f.feature.shape;\n    }\n    if (this._shape) {\n      return this._shape;\n    }\n    if (f.type) {\n      return getShapeByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getShapeByType(f.feature.type);\n    }\n    return \"rectangle\";\n  }\n\n  _createTrack() {\n    this._layoutObj.init(this._data);\n\n    select(this).selectAll(\"div\").remove();\n\n    this.svg = select(this)\n      .append(\"div\")\n      .style(\"line-height\", 0)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n\n    this.seq_g = this.svg.append(\"g\").attr(\"class\", \"sequence-features\");\n\n    this._createFeatures();\n  }\n\n  _createFeatures() {\n    this.featuresG = this.seq_g.selectAll(\"g.feature-group\").data(this._data);\n\n    this.locations = this.featuresG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", (d) => `g_${d.accession}`)\n      .selectAll(\"g.location-group\")\n      .data((d) =>\n        d.locations.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    const fragmentGroup = this.locations\n      .selectAll(\"g.fragment-group\")\n      .data((d) =>\n        d.fragments.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d.feature,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"fragment-group\");\n\n    fragmentGroup\n      .append(\"path\")\n      .attr(\"class\", (f) => `${this._getShape(f)} feature`)\n      .attr(\"d\", (f) =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f),\n          f.end ? f.end - f.start + 1 : 1,\n          this._getShape(f)\n        )\n      )\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", (f) => this._getFeatureFillColor(f))\n      .attr(\"stroke\", (f) => this._getFeatureColor(f))\n      .style(\"fill-opacity\", ({ feature }) =>\n        feature.opacity ? feature.opacity : 0.9\n      )\n      .style(\"stroke-opacity\", ({ feature }) => {\n        return feature.opacity ? feature.opacity : 0.9;\n      });\n\n    fragmentGroup\n      .append(\"rect\")\n      .attr(\"class\", \"outer-rectangle feature\")\n      .attr(\n        \"width\",\n        (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n      )\n      .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", \"transparent\")\n      .attr(\"stroke\", \"transparent\")\n      .call(this.bindEvents, this);\n  }\n\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    // Filters are OR-ed within a category and AND-ed between categories\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map((filterGroup) => {\n      const filteredData = filterGroup.map((filterItem) =>\n        filterItem.filterFn(this._originalData)\n      );\n      return _union(...filteredData);\n    });\n    const intersection = _intersection(...filteredGroups);\n    this._data = intersection;\n  }\n\n  refresh() {\n    if (this.xScale && this.seq_g) {\n      const fragmentG = this.seq_g.selectAll(\"g.fragment-group\").data(\n        this._data.reduce(\n          (acc, f) =>\n            acc.concat(\n              f.locations.reduce(\n                (acc2, e) =>\n                  acc2.concat(\n                    e.fragments.map((loc) =>\n                      Object.assign({}, loc, {\n                        feature: f,\n                      })\n                    )\n                  ),\n                []\n              )\n            ),\n          []\n        )\n      );\n\n      fragmentG\n        .selectAll(\"path.feature\")\n        .attr(\"d\", (f) =>\n          this._featureShape.getFeatureShape(\n            this.getSingleBaseWidth(),\n            this._layoutObj.getFeatureHeight(f),\n            f.end ? f.end - f.start + 1 : 1,\n            this._getShape(f)\n          )\n        )\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      fragmentG\n        .selectAll(\"rect.outer-rectangle\")\n        .attr(\n          \"width\",\n          (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n        )\n        .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtvistaTrack;\nexport { DefaultLayout };\n","/* eslint-disable prefer-template, no-param-reassign  */\n/* jslint node: true */\nconst symbolSize = 10;\n\nexport default class FeatureShape {\n  getFeatureShape(aaWidth, ftHeight, ftLength, shape) {\n    shape = shape || \"rectangle\";\n    this._ftLength = ftLength;\n    this._ftHeight = ftHeight;\n    this._ftWidth = aaWidth * ftLength;\n    if (typeof this[\"_\" + shape] !== \"function\") {\n      shape = \"rectangle\";\n    }\n    return this[\"_\" + shape]();\n  }\n\n  static isContinuous(shape) {\n    shape = shape.toLowerCase();\n    return shape !== \"bridge\";\n  }\n\n  _rectangle() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _roundRectangle() {\n    const radius = 6;\n    return (\n      \"M\" +\n      radius +\n      \",0\" +\n      \"h\" +\n      (this._ftWidth - 2 * radius) +\n      \",0\" +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      radius +\n      \"v\" +\n      (this._ftHeight - 2 * radius) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      radius +\n      \"h\" +\n      (2 * radius - this._ftWidth) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      -radius +\n      \"v\" +\n      (2 * radius - this._ftHeight) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      -radius +\n      \"Z\"\n    );\n  }\n\n  _line() {\n    return `M0,${this._ftHeight / 2} L${this._ftWidth},${this._ftHeight / 2}`;\n  }\n\n  _bridge() {\n    if (this._ftLength !== 1) {\n      return (\n        \"M0,\" +\n        this._ftHeight +\n        \"L0,0\" +\n        \"L\" +\n        this._ftWidth +\n        \",0\" +\n        \"L\" +\n        this._ftWidth +\n        \",\" +\n        this._ftHeight +\n        \"L\" +\n        this._ftWidth +\n        \",2\" +\n        \"L0,2\" +\n        \"Z\"\n      );\n    }\n    return (\n      \"M0,\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",0\" +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _getMiddleLine(centerx) {\n    return \"M0,\" + centerx + \"L\" + this._ftWidth + \",\" + centerx + \"Z\";\n  }\n\n  _diamond() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (m + centerx) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (m - centerx) +\n      \",\" +\n      centerx;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(centerx, this._ftWidth)\n      : shape + \"Z\";\n  }\n\n  _chevron() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",\" +\n      centerx +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      (-centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",\" +\n          centerx +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _catFace() {\n    const centerx = symbolSize / 2;\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-centerx + m) +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"M\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _triangle() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _wave() {\n    const rx = symbolSize / 4;\n    const ry = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-symbolSize / 2 + m) +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,0 \" +\n      (symbolSize / 2 + m) +\n      \",\" +\n      ry;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(ry, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getPolygon(sidesNumber) {\n    const r = symbolSize / 2;\n    let polygon = \"M \";\n    const m = this._ftWidth / 2;\n    for (let i = 0; i < sidesNumber; i++) {\n      polygon +=\n        r * Math.cos((2 * Math.PI * i) / sidesNumber) +\n        m +\n        \",\" +\n        (r * Math.sin((2 * Math.PI * i) / sidesNumber) + r) +\n        \" \";\n    }\n    return this._ftLength !== 1\n      ? polygon +\n          \" \" +\n          (r * Math.cos(0) + m) +\n          \",\" +\n          (r * Math.sin(0) + r) +\n          \" \" +\n          this._getMiddleLine(r, this._ftWidth) +\n          \"Z\"\n      : polygon + \"Z\";\n  }\n\n  _hexagon() {\n    return this._getPolygon(6);\n  }\n\n  _pentagon() {\n    return this._getPolygon(5);\n  }\n\n  _circle() {\n    const m = this._ftWidth / 2;\n    const r = Math.sqrt(symbolSize / Math.PI);\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      symbolSize +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(symbolSize / 2, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _arrow() {\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-step + m) +\n      \",0\" +\n      \"L\" +\n      (-5 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-step + m) +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      m +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      (4 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _doubleBar() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getBrokenEnd() {\n    const qh = this._ftHeight / 4.0;\n    return (\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      3 * qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight\n    );\n  }\n\n  _getBrokenStart() {\n    const qh = this._ftHeight / 4.0;\n    return \"L\" + qh + \",\" + 3 * qh + \"L0,\" + 2 * qh + \"L\" + qh + \",\" + qh;\n  }\n\n  _discontinuosStart() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuos() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuosEnd() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _helix() {\n    const x = symbolSize / 2; // Fitting two loops in a symbol\n    const y = symbolSize / 4;\n    let center = x / 2;\n    const nw = Math.round(this._ftWidth / x);\n\n    let loop = \"\";\n    for (let i = 0; i < nw; i++) {\n      const shape =\n        \"M\" +\n        (-(x / 2) + center) +\n        \",\" +\n        this._ftHeight +\n        \" C\" +\n        (center + y) +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \", 0\" +\n        \" C\" +\n        (center - y) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        this._ftHeight;\n      loop += shape;\n      center += x;\n    }\n    return loop;\n  }\n\n  _strand() {\n    let rl = 0;\n    if (this._ftWidth > symbolSize / 2) {\n      rl = this._ftWidth - symbolSize / 2;\n    }\n    const qh = this._ftHeight / 4;\n    const rect =\n      \"M0,\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      3 * qh +\n      \"L0,\" +\n      3 * qh +\n      \"L0,\" +\n      qh;\n    const triangle =\n      \"M\" +\n      rl +\n      \",\" +\n      0 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      rl +\n      \",\" +\n      this._ftHeight +\n      \"Z\";\n    return rect + triangle;\n  }\n}\n","export default class DefaultLayout {\n  constructor({ layoutHeight, padding = 1, minHeight = 17 }) {\n    this._padding = padding;\n    this._minHeight = minHeight;\n    this._layoutHeight = layoutHeight;\n  }\n\n  init(features) {\n    this._features = features;\n  }\n\n  getFeatureYPos() {\n    // Position right in the middle\n    const featureHeight = this.getFeatureHeight();\n    return this._layoutHeight / 2 - featureHeight / 2;\n  }\n\n  getFeatureHeight() {\n    return Math.min(this._layoutHeight, this._minHeight) - this._padding;\n  }\n}\n","import DefaultLayout from \"./DefaultLayout\";\n\nconst featuresOverlap = (feature1, feature2) => {\n  return !(\n    Number(feature2.start) > Number(feature1.end) ||\n    Number(feature2.end) < Number(feature1.start)\n  );\n};\n\nconst featureOvelapsInRow = (feature, row) => {\n  return row.some(rowFeature => featuresOverlap(feature, rowFeature));\n};\n\nexport default class NonOverlappingLayout extends DefaultLayout {\n  constructor(options) {\n    super(options);\n    this.featuresMap = new Map();\n    this._rowHeight = 0;\n    this._rows = [];\n    this._minHeight = 15;\n  }\n\n  init(features) {\n    features.forEach(feature => {\n      const rowIndex = this._rows.findIndex(\n        row => !featureOvelapsInRow(feature, row)\n      );\n      if (rowIndex >= 0) {\n        this._rows[rowIndex].push(feature);\n        this.featuresMap.set(feature, rowIndex);\n      } else {\n        this._rows.push([feature]);\n        this.featuresMap.set(feature, this._rows.length - 1);\n      }\n    });\n    this._rowHeight = Math.min(\n      this._layoutHeight / this._rows.length,\n      this._minHeight\n    );\n  }\n\n  getOffset() {\n    // this offset is required for centering if the number of rows doesn't\n    // fill the layout\n    if (this._rows.length * this._rowHeight < this._layoutHeight) {\n      return this._layoutHeight / 2 - (this._rows.length * this._rowHeight) / 2;\n    }\n    return 0;\n  }\n\n  getFeatureYPos(feature) {\n    const rowNumber = this.featuresMap.get(feature);\n    return this.getOffset() + this._rowHeight * rowNumber + 2 * this._padding;\n  }\n\n  getFeatureHeight() {\n    return this._rowHeight - 2 * this._padding;\n  }\n}\n","// eslint-disable-next-line\nexport const config = {\n  CHAIN: {\n    name: \"chain\",\n    label: \"Chain\",\n    tooltip:\n      \"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing\",\n    shape: \"rectangle\",\n    color: \"#CC9933\"\n  },\n  TRANSIT: {\n    name: \"transit peptide\",\n    label: \"Transit peptide\",\n    tooltip: \"This describes the extent of a transit peptide\",\n    shape: \"rectangle\",\n    color: \"#009966\"\n  },\n  INIT_MET: {\n    name: \"initiator methionine\",\n    label: \"Initiator methionine\",\n    tooltip:\n      \"This indicates that the initiator methionine is cleaved from the mature protein\",\n    shape: \"arrow\",\n    color: \"#996633\"\n  },\n  PROPEP: {\n    name: \"propeptide\",\n    label: \"Propeptide\",\n    tooltip:\n      \"Part of a protein that is cleaved during maturation or activation\",\n    shape: \"rectangle\",\n    color: \"#99CCCC\"\n  },\n  PEPTIDE: {\n    name: \"peptide\",\n    label: \"Peptide\",\n    tooltip:\n      \"The position and length of an active peptide in the mature protein\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  SIGNAL: {\n    name: \"signal peptide\",\n    label: \"Signal peptide\",\n    tooltip: \"N-terminal signal peptide\",\n    shape: \"rectangle\",\n    color: \"#CC0033\"\n  },\n  HELIX: {\n    name: \"helix\",\n    label: \"Helix\",\n    tooltip: \"The positions of experimentally determined helical regions\",\n    shape: \"rectangle\",\n    color: \"#FF0066\"\n  },\n  STRAND: {\n    name: \"strand\",\n    label: \"Beta strand\",\n    tooltip: \"The positions of experimentally determined beta strands\",\n    shape: \"rectangle\",\n    color: \"#FFCC00\"\n  },\n  TURN: {\n    name: \"turn\",\n    label: \"Turn\",\n    tooltip: \"The positions of experimentally determined hydrogen-bonded turns\",\n    shape: \"rectangle\",\n    color: \"#0571AF\"\n  },\n  DISULFID: {\n    name: \"disulfide bond\",\n    label: \"Disulfide bond\",\n    tooltip:\n      \"The positions of cysteine residues participating in disulphide bonds\",\n    shape: \"bridge\",\n    color: \"#23B14D\"\n  },\n  CROSSLNK: {\n    name: \"cross-link\",\n    label: \"Cross-link\",\n    tooltip:\n      \"Covalent linkages of various types formed between two proteins or between two parts of the same protein\",\n    shape: \"bridge\",\n    color: \"#FF6600\"\n  },\n  REGION: {\n    name: \"region of interest\",\n    label: \"Region of interest\",\n    tooltip:\n      \"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation\",\n    shape: \"rectangle\",\n    color: \"#B33E00\"\n  },\n  COILED: {\n    name: \"coiled-coil region\",\n    label: \"Coiled-coil region\",\n    tooltip:\n      \"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  MOTIF: {\n    name: \"short sequence motif\",\n    label: \"Short sequence motif\",\n    tooltip: \"Short conserved sequence motif of biological significance\",\n    shape: \"rectangle\",\n    color: \"#402060\"\n  },\n  REPEAT: {\n    name: \"repeat\",\n    label: \"Repeat\",\n    tooltip: \"Repeated sequence motifs or repeated domains within the protein\",\n    shape: \"rectangle\",\n    color: \"#9900FF\"\n  },\n  CA_BIND: {\n    name: \"calcium-binding region\",\n    label: \"Calcium-binding region\",\n    tooltip: \"Calcium-binding regions, such as the EF-hand motif\",\n    shape: \"rectangle\",\n    color: \"#FF3399\"\n  },\n  DNA_BIND: {\n    name: \"DNA-binding region\",\n    label: \"DNA binding\",\n    tooltip:\n      \"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain\",\n    shape: \"rectangle\",\n    color: \"#009933\"\n  },\n  DOMAIN: {\n    name: \"other domain of interest\",\n    label: \"Other domain of interest\",\n    tooltip:\n      \"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold\",\n    shape: \"rectangle\",\n    color: \"#9999FF\"\n  },\n  ZN_FING: {\n    name: \"zinc finger region\",\n    label: \"Zinc finger\",\n    tooltip:\n      \"Small, functional, independently folded domain that coordinates one or more zinc ions\",\n    shape: \"rectangle\",\n    color: \"#990066\"\n  },\n  NP_BIND: {\n    name: \"nucleotide-binding region\",\n    label: \"Nucleotide-binding region\",\n    tooltip:\n      \"(aka flavin-binding). Region in the protein which binds nucleotide phosphates\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  METAL: {\n    name: \"metal ion-binding site\",\n    label: \"Metal ion-binding site\",\n    tooltip: \"Binding site for a metal ion\",\n    shape: \"diamond\",\n    color: \"#009900\"\n  },\n  SITE: {\n    name: \"other site of interest\",\n    label: \"Other site of interest\",\n    tooltip: \"Any interesting single amino acid site on the sequence\",\n    shape: \"chevron\",\n    color: \"#660033\"\n  },\n  BINDING: {\n    name: \"other binding site\",\n    label: \"Other binding site\",\n    tooltip:\n      \"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)\",\n    shape: \"rectangle\",\n    color: \"#catFace\"\n  },\n  ACT_SITE: {\n    name: \"active site\",\n    label: \"Active site\",\n    tooltip: \"Amino acid(s) directly involved in the activity of an enzyme\",\n    shape: \"circle\",\n    color: \"#FF6666\"\n  },\n  MOD_RES: {\n    name: \"Post-translationally modified residue\",\n    label: \"Modified residue\",\n    tooltip:\n      \"Modified residues such as phosphorylation, acetylation, acylation, methylation\",\n    shape: \"triangle\",\n    color: \"#000066\"\n  },\n  LIPID: {\n    name: \"lipid moiety-binding region\",\n    label: \"Lipidation\",\n    tooltip: \"Covalently attached lipid group(s)\",\n    shape: \"wave\",\n    color: \"#99CC33\"\n  },\n  CARBOHYD: {\n    name: \"glycosylation site\",\n    label: \"Glycosylation\",\n    tooltip: \"Covalently attached glycan group(s)\",\n    shape: \"hexagon\",\n    color: \"#CC3366\"\n  },\n  COMPBIAS: {\n    name: \"compositionally biased region\",\n    label: \"Compositionally biased region\",\n    tooltip:\n      \"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions\",\n    shape: \"rectangle\",\n    color: \"#FF3366\"\n  },\n  CONFLICT: {\n    name: \"sequence conflict\",\n    label: \"Sequence conflict\",\n    tooltip: \"Sequence discrepancies of unknown origin\",\n    shape: \"rectangle\",\n    color: \"#6633CC\"\n  },\n  NON_CONS: {\n    name: \"non-consecutive residues\",\n    label: \"Non-adjacent residues\",\n    tooltip:\n      \"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them\",\n    shape: \"doubleBar\",\n    color: \"#FF0033\"\n  },\n  NON_TER: {\n    name: \"non-terminal residue\",\n    label: \"Non-terminal residue\",\n    tooltip:\n      \"The sequence is incomplete. The residue is not the terminal residue of the complete protein\",\n    shape: \"doubleBar\",\n    color: \"#339933\"\n  },\n  UNSURE: {\n    name: \"unsure residue\",\n    label: \"Sequence uncertainty\",\n    tooltip:\n      \"Regions of a sequence for which the authors are unsure about the sequence assignment\",\n    shape: \"rectangle\",\n    color: \"#33FF00\"\n  },\n  NON_STD: {\n    name: \"non-standard amino acid\",\n    label: \"Non-standard residue\",\n    tooltip: \"Non-standard amino acids (selenocysteine and pyrrolysine)\",\n    shape: \"pentagon\",\n    color: \"#330066\"\n  },\n  MUTAGEN: {\n    name: \"mutagenesis site\",\n    label: \"Mutagenesis\",\n    tooltip: \"Site which has been experimentally altered by mutagenesis\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  TOPO_DOM: {\n    name: \"topological domain\",\n    label: \"Topological domain\",\n    tooltip: \"Location of non-membrane regions of membrane-spanning proteins\",\n    shape: \"rectangle\",\n    color: \"#CC0000\"\n  },\n  TRANSMEM: {\n    name: \"transmembrane region\",\n    label: \"Transmembrane\",\n    tooltip: \"Extent of a membrane-spanning region\",\n    shape: \"rectangle\",\n    color: \"#CC00CC\"\n  },\n  INTRAMEM: {\n    name: \"intramembrane region\",\n    label: \"Intramembrane\",\n    tooltip: \"Extent of a region located in a membrane without crossing it\",\n    shape: \"rectangle\",\n    color: \"#0000CC\"\n  },\n  VAR_SEQ: {\n    name: \"splice variant\",\n    label: \"Splice variant\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#CC11CC\"\n  },\n  VARIANT: {\n    name: \"sequence variant\",\n    label: \"Natural variant\",\n    tooltip:\n      \"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events\",\n    shape: \"circle\",\n    color: \"black\"\n  },\n  UNIQUE: {\n    name: \"unique\",\n    label: \"Unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#fc3133\"\n  },\n  NON_UNIQUE: {\n    name: \"non-unique\",\n    label: \"Non-unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#8585fc\"\n  },\n  ANTIGEN: {\n    name: \"antigen\",\n    label: \"Antibody binding sequences\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#996699\"\n  },\n  PDBE_COVER: {\n    name: \"pdbe coverage\",\n    label: \"PDBe 3D structure coverage\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#669966\"\n  }\n};\n","import { config } from \"./config\";\n\nexport const getShapeByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].shape;\n  }\n  const info = Object.values(config).find(\n    typeInfo => typeInfo.name.toUpperCase() === type.toUpperCase()\n  );\n  if (info) {\n    return info.shape;\n  }\n  return \"rectangle\";\n};\n\nexport const getColorByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].color;\n  }\n  const info = Object.values(config).find(typeInfo => {\n    return typeInfo.name.toUpperCase() === type.toUpperCase();\n  });\n  if (!info) {\n    console.log(type);\n  }\n  if (info) {\n    return info.color;\n  }\n  return \"black\";\n};\n","import { select } from \"d3\";\nimport _includes from \"lodash-es/includes\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\nimport FeatureShape from \"./FeatureShape\";\nimport NonOverlappingLayout from \"./NonOverlappingLayout\";\nimport DefaultLayout from \"./DefaultLayout\";\nimport { getShapeByType, getColorByType } from \"./ConfigHelper\";\n\nclass ProtvistaTrack extends ProtvistaZoomable {\n  getLayout() {\n    if (String(this.getAttribute(\"layout\")).toLowerCase() === \"non-overlapping\")\n      return new NonOverlappingLayout({\n        layoutHeight: this._height,\n      });\n    return new DefaultLayout({\n      layoutHeight: this._height,\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._color = this.getAttribute(\"color\");\n    this._shape = this.getAttribute(\"shape\");\n    this._featureShape = new FeatureShape();\n    this._layoutObj = this.getLayout();\n\n    if (this._data) this._createTrack();\n\n    this.addEventListener(\"load\", (e) => {\n      if (_includes(this.children, e.target)) {\n        this.data = e.detail.payload;\n      }\n    });\n  }\n\n  static normalizeLocations(data) {\n    return data.map((obj) => {\n      const { locations, start, end } = obj;\n      return locations\n        ? obj\n        : Object.assign(obj, {\n            locations: [\n              {\n                fragments: [\n                  {\n                    start,\n                    end,\n                  },\n                ],\n              },\n            ],\n          });\n    });\n  }\n\n  processData(data) {\n    this._originalData = ProtvistaTrack.normalizeLocations(data);\n  }\n\n  set data(data) {\n    this.processData(data);\n    this._applyFilters();\n    this._layoutObj = this.getLayout();\n    this._createTrack();\n  }\n\n  set filters(filters) {\n    this._filters = filters;\n    this._applyFilters();\n    this._createTrack();\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat([\n      \"highlight\",\n      \"color\",\n      \"shape\",\n      \"filters\",\n    ]);\n  }\n\n  _getFeatureColor(f) {\n    if (f.color) {\n      return f.color;\n    }\n    if (f.feature && f.feature.color) {\n      return f.feature.color;\n    }\n    if (this._color) {\n      return this._color;\n    }\n    if (f.type) {\n      return getColorByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getColorByType(f.feature.type);\n    }\n    return \"black\";\n  }\n\n  _getFeatureFillColor(f) {\n    if (f.fill) {\n      return f.fill;\n    }\n    if (f.feature && f.feature.fill) {\n      return f.feature.fill;\n    }\n    return this._getFeatureColor(f);\n  }\n\n  _getShape(f) {\n    if (f.shape) {\n      return f.shape;\n    }\n    if (f.feature && f.feature.shape) {\n      return f.feature.shape;\n    }\n    if (this._shape) {\n      return this._shape;\n    }\n    if (f.type) {\n      return getShapeByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getShapeByType(f.feature.type);\n    }\n    return \"rectangle\";\n  }\n\n  _createTrack() {\n    this._layoutObj.init(this._data);\n\n    select(this).selectAll(\"div\").remove();\n\n    this.svg = select(this)\n      .append(\"div\")\n      .style(\"line-height\", 0)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n\n    this.seq_g = this.svg.append(\"g\").attr(\"class\", \"sequence-features\");\n\n    this._createFeatures();\n  }\n\n  _createFeatures() {\n    this.featuresG = this.seq_g.selectAll(\"g.feature-group\").data(this._data);\n\n    this.locations = this.featuresG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", (d) => `g_${d.accession}`)\n      .selectAll(\"g.location-group\")\n      .data((d) =>\n        d.locations.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    const fragmentGroup = this.locations\n      .selectAll(\"g.fragment-group\")\n      .data((d) =>\n        d.fragments.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d.feature,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"fragment-group\");\n\n    fragmentGroup\n      .append(\"path\")\n      .attr(\"class\", (f) => `${this._getShape(f)} feature`)\n      .attr(\"d\", (f) =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f),\n          f.end ? f.end - f.start + 1 : 1,\n          this._getShape(f)\n        )\n      )\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", (f) => this._getFeatureFillColor(f))\n      .attr(\"stroke\", (f) => this._getFeatureColor(f))\n      .style(\"fill-opacity\", ({ feature }) =>\n        feature.opacity ? feature.opacity : 0.9\n      )\n      .style(\"stroke-opacity\", ({ feature }) => {\n        return feature.opacity ? feature.opacity : 0.9;\n      });\n\n    fragmentGroup\n      .append(\"rect\")\n      .attr(\"class\", \"outer-rectangle feature\")\n      .attr(\n        \"width\",\n        (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n      )\n      .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", \"transparent\")\n      .attr(\"stroke\", \"transparent\")\n      .call(this.bindEvents, this);\n  }\n\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    // Filters are OR-ed within a category and AND-ed between categories\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map((filterGroup) => {\n      const filteredData = filterGroup.map((filterItem) =>\n        filterItem.filterFn(this._originalData)\n      );\n      return _union(...filteredData);\n    });\n    const intersection = _intersection(...filteredGroups);\n    this._data = intersection;\n  }\n\n  refresh() {\n    if (this.xScale && this.seq_g) {\n      const fragmentG = this.seq_g.selectAll(\"g.fragment-group\").data(\n        this._data.reduce(\n          (acc, f) =>\n            acc.concat(\n              f.locations.reduce(\n                (acc2, e) =>\n                  acc2.concat(\n                    e.fragments.map((loc) =>\n                      Object.assign({}, loc, {\n                        feature: f,\n                      })\n                    )\n                  ),\n                []\n              )\n            ),\n          []\n        )\n      );\n\n      fragmentG\n        .selectAll(\"path.feature\")\n        .attr(\"d\", (f) =>\n          this._featureShape.getFeatureShape(\n            this.getSingleBaseWidth(),\n            this._layoutObj.getFeatureHeight(f),\n            f.end ? f.end - f.start + 1 : 1,\n            this._getShape(f)\n          )\n        )\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      fragmentG\n        .selectAll(\"rect.outer-rectangle\")\n        .attr(\n          \"width\",\n          (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n        )\n        .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtvistaTrack;\nexport { DefaultLayout };\n","/* eslint-disable no-param-reassign */\nimport { DefaultLayout } from \"protvista-track\";\n\nexport const COLLAPSED_HEIGHT = 16;\nexport const EXPANDED_HEIGHT = 14;\nexport const CHILD_HEIGHT = 10;\n\nexport default class InterproEntryLayout extends DefaultLayout {\n  init(features, children) {\n    let yPos = 0;\n    this.height = {};\n    this.yPos = {};\n    this.maxYPos = 0;\n    if (!features) return;\n    this.innerPadding = (COLLAPSED_HEIGHT - CHILD_HEIGHT) / 2;\n    const residuesPos = {};\n    for (let k = 0; k < features.length; k++) {\n      const feature = features[k];\n      this.height[feature.accession] = this.expanded\n        ? EXPANDED_HEIGHT\n        : COLLAPSED_HEIGHT;\n      this.yPos[feature.accession] = this._padding;\n      yPos = this.height[feature.accession] + 2 * this._padding;\n      this.maxYPos = Math.max(this.maxYPos, yPos);\n      if (!(feature.accession in residuesPos))\n        residuesPos[feature.accession] = {};\n      if (feature.residues)\n        yPos = this._initResidues(\n          feature.residues,\n          feature.accession,\n          feature.locations,\n          this.expanded ? yPos : this.yPos[feature.accession],\n          k,\n          residuesPos,\n          this.expanded\n        );\n    }\n    if (children)\n      for (let k = 0; k < children.length; k++) {\n        const child = children[k];\n        if (!(child.accession in this.height)) {\n          this.height[child.accession] = CHILD_HEIGHT;\n          this.yPos[child.accession] =\n            (this.expanded ? this.maxYPos : this.innerPadding) + this._padding;\n          yPos +=\n            2 * this._padding +\n            (this.expanded ? this.height[child.accession] : 0);\n          this.maxYPos = Math.max(this.maxYPos, yPos);\n        }\n        if (!(child.accession in residuesPos))\n          residuesPos[child.accession] = {};\n        if (child.residues) {\n          yPos = this._initResidues(\n            child.residues,\n            child.accession,\n            child.locations,\n            child.expanded ? yPos : this.yPos[child.accession],\n            k,\n            residuesPos,\n            child.expanded\n          );\n        }\n      }\n    this.maxYPos += this._padding;\n  }\n\n  _initResidues(\n    residues,\n    featureAcc,\n    locs,\n    yPos,\n    k,\n    residuesPos = {},\n    expanded = true\n  ) {\n    for (let i = 0; i < residues.length; i++) {\n      const resGroup = residues[i];\n      InterproEntryLayout._filterOutResidueFragmentsOutOfLocation(\n        resGroup,\n        locs\n      );\n      if (!(resGroup.accession in residuesPos[featureAcc]))\n        residuesPos[featureAcc][resGroup.accession] = {};\n      for (let j = 0; j < resGroup.locations.length; j++) {\n        const desc = resGroup.locations[j].description;\n        if (!(desc in residuesPos[featureAcc][resGroup.accession])) {\n          residuesPos[featureAcc][resGroup.accession][desc] = {\n            height: expanded\n              ? CHILD_HEIGHT\n              : this.height[featureAcc] - 2 * this.innerPadding,\n            yPos: expanded\n              ? this.maxYPos + this._padding\n              : yPos + this.innerPadding\n          };\n          yPos = expanded\n            ? this.maxYPos + 2 * this._padding + CHILD_HEIGHT\n            : yPos;\n        }\n        this.height[`${resGroup.accession}_${k}_${i}_${j}`] =\n          residuesPos[featureAcc][resGroup.accession][desc].height;\n        this.yPos[`${resGroup.accession}_${k}_${i}_${j}`] =\n          residuesPos[featureAcc][resGroup.accession][desc].yPos;\n        this.maxYPos = Math.max(this.maxYPos, yPos);\n      }\n    }\n    return expanded ? yPos : this.maxYPos + 2 * this._padding;\n  }\n\n  static _filterOutResidueFragmentsOutOfLocation(residue, featureLocations) {\n    residue.locations.forEach(\n      locRes =>\n        (locRes.fragments = locRes.fragments.filter(fragRes =>\n          featureLocations.some(loc =>\n            loc.fragments.some(\n              frag => fragRes.start >= frag.start && fragRes.end <= frag.end\n            )\n          )\n        ))\n    );\n    residue.locations = residue.locations.filter(\n      locRes => locRes.fragments.length\n    );\n  }\n\n  static _getAccFromFeature(feature) {\n    let acc = \"\";\n    if (typeof feature === \"string\") {\n      acc = feature;\n    } else if (feature.accession) {\n      acc = feature.accession;\n    }\n    return acc;\n  }\n\n  getFeatureYPos(feature) {\n    const acc = InterproEntryLayout._getAccFromFeature(feature);\n    return acc in this.yPos ? this.yPos[acc] : 0;\n  }\n\n  getFeatureHeight(feature) {\n    const acc = InterproEntryLayout._getAccFromFeature(feature);\n    return acc in this.height ? this.height[acc] : 0;\n  }\n}\n","export const addContributor = (contributor, coverage) => {\n  let toContribute = { value: 1, ...contributor };\n  const newCoverage = [];\n  for (const segment of coverage) {\n    if (!toContribute) {\n      newCoverage.push(segment);\n      // Segment to contribute is before the current segment\n      // __|--TC--|__||--S--||__\n    } else if (toContribute.end < segment.start) {\n      newCoverage.push(toContribute);\n      toContribute = null;\n      newCoverage.push(segment);\n      // Segment to contribute contains the segment\n      // __|--TC-||==S==||-|__\n    } else if (\n      toContribute.start < segment.start &&\n      toContribute.end >= segment.end\n    ) {\n      newCoverage.push({\n        start: toContribute.start,\n        end: segment.start - 1,\n        value: toContribute.value\n      });\n      newCoverage.push({\n        start: segment.start,\n        end: segment.end,\n        value: segment.value + toContribute.value\n      });\n      toContribute =\n        segment.end === toContribute.end\n          ? null\n          : {\n              start: segment.end + 1,\n              end: toContribute.end,\n              value: toContribute.value\n            };\n      // Segment to contribute is contained by the segment\n      // __||--S-|==TC==|-||__\n    } else if (\n      segment.start < toContribute.start &&\n      segment.end > toContribute.end\n    ) {\n      newCoverage.push({\n        start: segment.start,\n        end: toContribute.start - 1,\n        value: segment.value\n      });\n      newCoverage.push({\n        start: toContribute.start,\n        end: toContribute.end,\n        value: segment.value + toContribute.value\n      });\n      newCoverage.push({\n        start: toContribute.end + 1,\n        end: segment.end,\n        value: segment.value\n      });\n      toContribute = null;\n      // Segment to contribute overlaps at the end of the segment\n      // __||--S--|==||--TC--|__\n    } else if (\n      segment.end >= toContribute.start &&\n      segment.end <= toContribute.end\n    ) {\n      if (segment.start < toContribute.start)\n        newCoverage.push({\n          start: segment.start,\n          end: toContribute.start - 1,\n          value: segment.value\n        });\n      newCoverage.push({\n        start: toContribute.start,\n        end: segment.end,\n        value: segment.value + toContribute.value\n      });\n      toContribute =\n        segment.end < toContribute.end\n          ? {\n              start: segment.end + 1,\n              end: toContribute.end,\n              value: toContribute.value\n            }\n          : null;\n      // Segment to contribute overlaps at the beggining of the segment\n      // __|--TC--||==|--S--||__\n    } else if (\n      toContribute.end >= segment.start &&\n      toContribute.end < segment.end\n    ) {\n      newCoverage.push({\n        start: toContribute.start,\n        end: segment.start - 1,\n        value: toContribute.value\n      });\n      newCoverage.push({\n        start: segment.start,\n        end: toContribute.end,\n        value: segment.value + toContribute.value\n      });\n      newCoverage.push({\n        start: toContribute.end + 1,\n        end: segment.end,\n        value: segment.value\n      });\n      toContribute = null;\n    } else {\n      newCoverage.push(segment);\n    }\n\n    // position++;\n  }\n  if (toContribute) newCoverage.push(toContribute);\n  return newCoverage;\n};\n\nexport const getCoverage = (\n  contributors,\n  length = 100,\n  createEmptyFragments = true\n) => {\n  let coverage = [];\n  if (createEmptyFragments) {\n    coverage = addContributor({ start: 1, end: length, value: 0 }, coverage);\n  }\n  contributors.forEach(f =>\n    f.locations.forEach(loc =>\n      loc.fragments.forEach(fr => {\n        coverage = addContributor(fr, coverage);\n      })\n    )\n  );\n  return coverage;\n};\n","import ProtvistaTrack from \"protvista-track\";\nimport InterproEntryLayout from \"./InterproEntryLayout\";\nimport { getCoverage } from \"./coverage\";\n\nconst padding = {\n  top: 2,\n  right: 10,\n  bottom: 2,\n  left: 10\n};\n\nconst MAX_OPACITY_WHILE_COLAPSED = 0.8;\nconst MIN_OPACITY_WHILE_COLAPSED = 0.3;\n\nconst cheapScale = x =>\n  (x + MIN_OPACITY_WHILE_COLAPSED) / (1 + MIN_OPACITY_WHILE_COLAPSED);\n\nclass ProtvistaInterproTrack extends ProtvistaTrack {\n  _createTrack() {\n    this._layoutObj.expanded = this._expanded;\n    super._createTrack();\n    this.children_g = null;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._expanded = this.hasAttribute(\"expanded\");\n    this._haveCreatedFeatures = false;\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === \"expanded\" && oldValue !== newValue && this._contributors) {\n      for (const c of this._contributors) {\n        c.expanded = !oldValue;\n      }\n    }\n    super.attributeChangedCallback(name, oldValue, newValue);\n  }\n\n  set contributors(contributors) {\n    this._contributors = ProtvistaInterproTrack.normalizeLocations(\n      contributors\n    );\n    this._coverage = getCoverage(this._contributors, this._length);\n    if (this._data) this._createTrack();\n  }\n\n  getLayout() {\n    return new InterproEntryLayout({\n      layoutHeight: this._height,\n      expanded: this._expanded,\n      padding: 2\n    });\n  }\n\n  static get observedAttributes() {\n    return ProtvistaTrack.observedAttributes.concat([\"expanded\", \"color\"]);\n  }\n\n  set color(value) {\n    if (this._color !== value) {\n      this._color = value;\n      this.refresh();\n    }\n  }\n\n  static _createResidueGroup(baseG) {\n    return baseG\n      .selectAll(\"g.residues-group\")\n      .data(d =>\n        d.residues ? d.residues.map((r, i) => ({ ...r, feature: d, i })) : []\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"residues-group\")\n      .selectAll(\"g.residues-locations\")\n      .data(d =>\n        d.locations.map((loc, j) => ({\n          ...loc,\n          accession: d.accession,\n          feature: d.feature,\n          location: loc,\n          i: d.i,\n          j\n          // expended: true\n        }))\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"residues-locations\");\n  }\n\n  _createResiduePaths(baseG) {\n    return baseG\n      .selectAll(\"g.residue\")\n      .data(d =>\n        d.fragments.map(loc => ({\n          ...loc,\n          accession: d.accession,\n          feature: {\n            ...d.feature,\n            currentResidue: { ...loc, description: d.location.description }\n          },\n          location: d.location,\n          k: d.feature.k,\n          i: d.i,\n          j: d.j\n        }))\n      )\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", \"feature rectangle residue\")\n      .attr(\"d\", f =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(\n            `${f.accession}_${f.k}_${f.i}_${f.j}`\n          ),\n          f.end ? f.end - f.start + 1 : 1,\n          \"rectangle\"\n        )\n      )\n      .attr(\n        \"transform\",\n        f =>\n          `translate(${this.getXFromSeqPosition(f.start)},${padding.top +\n            this._layoutObj.getFeatureYPos(\n              `${f.accession}_${f.k}_${f.i}_${f.j}`\n            )})`\n      )\n      .attr(\"fill\", f => this._getFeatureColor(f))\n      .attr(\"stroke\", \"transparent\")\n      .call(this.bindEvents, this);\n  }\n\n  _refreshResiduePaths(baseG, expanded) {\n    const numberOfSibillings = new Set(\n      baseG.data().map(f => `${f.feature.accession}-${f.location.description}`)\n    ).size;\n    baseG\n      .attr(\"d\", f =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(\n            `${f.accession}_${f.k}_${f.i}_${f.j}`\n          ),\n          f.end ? f.end - f.start + 1 : 1,\n          \"rectangle\"\n        )\n      )\n      .attr(\n        \"transform\",\n        f =>\n          `translate(${this.getXFromSeqPosition(f.start)},${padding.top +\n            this._layoutObj.getFeatureYPos(\n              `${f.accession}_${f.k}_${f.i}_${f.j}`\n            )})`\n      )\n      .style(\"pointer-events\", f =>\n        expanded || (f.feature && f.feature.expanded) ? \"auto\" : \"none\"\n      )\n      .style(\"stroke\", () => (expanded ? null : \"none\"))\n      .style(\"opacity\", () =>\n        expanded ? null : MAX_OPACITY_WHILE_COLAPSED / numberOfSibillings\n      )\n      .attr(\"fill\", f =>\n        expanded || (f.feature && f.feature.expanded)\n          ? this._getFeatureColor(f)\n          : \"white\"\n      );\n  }\n\n  static get margin() {\n    return {\n      top: 0,\n      right: 10,\n      bottom: 0,\n      left: 10\n    };\n  }\n\n  _createFeatures() {\n    this._layoutObj.init(this._data, this._contributors);\n    // eslint-disable-next-line\n    this._data.forEach((d, i) => (d.k = i));\n    this.featuresG = this.seq_g\n      .selectAll(\"g.feature-group\")\n      .data(this._data)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", d => `g_${d.accession}`);\n\n    this.locations = this.featuresG\n      .selectAll(\"g.location-group\")\n      .data(d => d.locations.map(loc => ({ ...loc, feature: d })))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    this.coverLines = this.locations\n      .selectAll(\"line.cover\")\n      .data(d => [\n        d.fragments.reduce(\n          (agg, v) => ({\n            start: Math.min(agg.start, v.start),\n            end: Math.max(agg.end, v.end),\n            feature: d.feature\n          }),\n          { start: Infinity, end: -Infinity }\n        )\n      ])\n      .enter()\n      .append(\"line\")\n      .attr(\"class\", \"cover\");\n\n    this.features = this.locations\n      .selectAll(\"path.feature\")\n      .data(d =>\n        d.fragments.map(loc => ({\n          ...loc,\n          feature: d.feature,\n          fragments: d.fragments\n        }))\n      )\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", f => `${this._getShape(f)} feature`)\n      .on(\"click.expanded\", () => {\n        if (this._expanded) this.removeAttribute(\"expanded\");\n        else this.setAttribute(\"expanded\", \"expanded\");\n      })\n      .call(this.bindEvents, this);\n\n    this.residues_g = ProtvistaInterproTrack._createResidueGroup(\n      this.featuresG\n    );\n    this.residues_loc = this._createResiduePaths(this.residues_g);\n\n    if (this._contributors) {\n      // eslint-disable-next-line\n      this._contributors.forEach((d, i) => (d.k = i));\n      if (!this.children_g)\n        this.children_g = this.svg\n          .append(\"g\")\n          .attr(\"class\", \"children-features\");\n\n      this.childrenGroup = this.children_g\n        .append(\"g\")\n        .attr(\"class\", \"children-group\");\n      this.childGroup = this.childrenGroup\n        .selectAll(\"g.child-group\")\n        .data(this._contributors)\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"child-group\");\n      const locationChildrenG = this.childGroup\n        .selectAll(\"g.child-location-group\")\n        .data(d => {\n          // eslint-disable-next-line\n          d.expanded = this._expanded;\n          return d.locations.map(loc => ({ ...loc, feature: d }));\n        })\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", (_, i) => `child-location-group clg-${i}`);\n\n      this.coverLinesChildren = locationChildrenG\n        .selectAll(\"line.cover\")\n        .data(d => [\n          d.fragments.reduce(\n            (agg, v) => ({\n              start: Math.min(agg.start, v.start),\n              end: Math.max(agg.end, v.end),\n              feature: d.feature\n            }),\n            { start: Infinity, end: -Infinity }\n          )\n        ])\n        .enter()\n        .append(\"line\")\n        .attr(\"class\", \"cover\");\n\n      this.featureChildren = locationChildrenG\n        .selectAll(\"path.child-fragment\")\n        .data(d =>\n          d.fragments.map(fragment => ({\n            ...fragment,\n            feature: d.feature,\n            fragments: d.fragments\n          }))\n        )\n        .enter()\n        .append(\"path\")\n        .attr(\"class\", f => `${this._getShape(f)} child-fragment feature`)\n        .call(this.bindEvents, this)\n        .on(\"click.expanded\", f => {\n          // eslint-disable-next-line\n          f.feature.expanded = !f.feature.expanded;\n          this.refresh();\n        });\n\n      this.child_residues_g = ProtvistaInterproTrack._createResidueGroup(\n        this.childGroup\n      );\n      this.child_residues_loc = this._createResiduePaths(this.child_residues_g);\n      if (this._coverage && this._coverage.length) this._createCoverage();\n    }\n    this.svg.attr(\"height\", this._layoutObj.maxYPos);\n    this._haveCreatedFeatures = true;\n  }\n\n  _createCoverage() {\n    this._accession =\n      (this._data && this._data[0] && this._data[0].accession) || \"_\";\n\n    this.coverage_mask = this.svg\n      .append(\"defs\")\n      .append(\"mask\")\n      .attr(\"id\", `mask-${this._accession}`);\n\n    this.coverageMaskFragment = this.coverage_mask\n      .selectAll(\"rect\")\n      .data(this._coverage)\n      .enter()\n      .append(\"rect\")\n      .attr(\"y\", 0)\n      .attr(\"height\", this._height);\n\n    // this.coverage_g = this.svg.append(\"g\").attr(\"class\", \"coverage-features\");\n\n    // this.coverageFragment = this.coverage_g\n    //   .selectAll(\"rect.coverage-fragment\")\n    //   .data(this._coverage)\n    //   .enter()\n    //   .append(\"rect\")\n    //   .attr(\"class\", \"coverage-fragment\")\n    //   .attr(\"y\", padding.top*2)\n    //   .attr(\"height\", COLLAPSED_HEIGHT);\n  }\n\n  _refreshCoverage() {\n    // this.coverage_mask.attr(\"visibility\", this._expanded ? \"hidden\" : \"visible\");\n    this.featuresG.attr(\n      \"mask\",\n      this._expanded ? null : `url(#mask-${this._accession})`\n    );\n    this.coverageMaskFragment\n      .attr(\"x\", f => this.getXFromSeqPosition(f.start))\n      .attr(\"width\", f => this.getSingleBaseWidth() * (f.end - f.start + 1))\n      .attr(\"fill\", \"white\")\n      // .attr(\"pointer-events\", \"none\")\n      .attr(\"opacity\", f => cheapScale(f.value / this._contributors.length));\n\n    // this.coverage_g.attr(\"visibility\", this._expanded ? \"hidden\" : \"visible\");\n    // this.coverageFragment\n    //   .attr(\"x\", f => this.getXFromSeqPosition(f.start))\n    //   .attr(\"width\", f => this.getSingleBaseWidth()*(f.end-f.start+1))\n    //   .attr(\"fill\", \"white\")\n    //   .attr(\"pointer-events\", \"none\")\n    //   .attr(\"opacity\", f=> 1 - f.value/this._contributors.length);\n  }\n\n  _refreshFeatures(base, expanded = true) {\n    const numberOfSibillings = new Set(\n      base.data().map(f => f.feature.accession)\n    ).size;\n    base\n      .attr(\"d\", f =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f.feature),\n          f.end ? f.end - f.start + 1 : 1,\n          expanded ? this._getShape(f.shape ? f : f.feature) : \"rectangle\"\n        )\n      )\n      .attr(\"fill\", f =>\n        expanded ? this._getFeatureColor(f.feature) : \"white\"\n      )\n      .attr(\n        \"opacity\",\n        expanded ? 1 : MAX_OPACITY_WHILE_COLAPSED / numberOfSibillings\n      )\n      .style(\"stroke\", f =>\n        expanded ? this._getFeatureColor(f.feature) : \"none\"\n      )\n      .attr(\n        \"transform\",\n        f =>\n          `translate(${this.getXFromSeqPosition(f.start)},${padding.top +\n            this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .style(\"pointer-events\", expanded ? \"auto\" : \"none\");\n  }\n\n  _refreshCoverLine(base, expanded = true) {\n    base\n      .attr(\"x1\", f => this.getXFromSeqPosition(f.start))\n      .attr(\"x2\", f => this.getXFromSeqPosition(f.end + 1))\n      .attr(\n        \"y1\",\n        f =>\n          padding.top +\n          this._layoutObj.getFeatureYPos(f.feature) +\n          this._layoutObj.getFeatureHeight(f.feature) / 2\n      )\n      .attr(\n        \"y2\",\n        f =>\n          padding.top +\n          this._layoutObj.getFeatureYPos(f.feature) +\n          this._layoutObj.getFeatureHeight(f.feature) / 2\n      )\n      .attr(\"stroke\", f => this._getFeatureColor(f.feature))\n      .attr(\"visibility\", expanded ? \"visible\" : \"hidden\");\n  }\n\n  refresh() {\n    if (this._haveCreatedFeatures) {\n      this._layoutObj.expanded = this._expanded;\n      this._layoutObj.init(this._data, this._contributors);\n      this.height = this._layoutObj.maxYPos;\n\n      this._refreshCoverLine(this.coverLines);\n      this._refreshFeatures(this.features);\n\n      // this.residues_g.attr(\"visibility\", this._expanded ? \"visible\" : \"hidden\");\n      this._refreshResiduePaths(this.residues_loc, this._expanded);\n\n      if (this._contributors) {\n        this.childrenGroup.attr(\n          \"visibility\",\n          this._expanded ? \"visible\" : \"hidden\"\n        );\n        this._refreshCoverLine(this.coverLinesChildren, this._expanded);\n        this._refreshFeatures(this.featureChildren, this._expanded);\n        this.child_residues_g.attr(\"visibility\", () =>\n          this._expanded ? \"visible\" : \"hidden\"\n        );\n        this._refreshResiduePaths(this.child_residues_loc);\n        if (this._coverage && this._coverage.length) this._refreshCoverage();\n      }\n      this._updateHighlight();\n      this.svg.attr(\"height\", this._layoutObj.maxYPos);\n    }\n  }\n}\nexport default ProtvistaInterproTrack;\n","function processVariants(data) {\n  const { variants, sequence } = data;\n\n  if (!sequence || !variants) return null;\n\n  // const mutationArray = [];\n\n  const seq = sequence.split(\"\");\n\n  const mutationArray = seq.map((aa, i) => {\n    return {\n      type: \"VARIANT\",\n      normal: aa,\n      pos: i + 1,\n      variants: []\n    };\n  });\n\n  variants.forEach(variant => {\n    if (mutationArray[variant.start - 1]) {\n      // Currently not dealing with variants outside of sequence\n      mutationArray[variant.start - 1].variants.push(variant);\n    }\n  });\n  return mutationArray;\n}\n\nexport default processVariants;\n","import { select, scalePow } from \"d3\";\n\nclass VariationPlot {\n  constructor() {\n    this._frequency = scalePow().exponent(0.001).domain([0, 1]).range([5, 10]);\n    // Data bind otherwise babel removes it\n    this.drawVariationPlot = this.drawVariationPlot.bind(this);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  drawVariationPlot(selection, element) {\n    const ftWidth = element.getSingleBaseWidth();\n    const half = ftWidth / 2;\n    // Iterate over data\n    selection.each((data, i, nodes) => {\n      // Generate chart\n      const series = select(nodes[i]);\n\n      // Only draw positions where there is data\n      const withVariants = data.filter((elem) => elem.variants.length !== 0);\n\n      // bind data\n      const bars = series.selectAll(\"g\").data(withVariants, (d) => d.pos);\n\n      bars.exit().remove();\n\n      // On enter append for each data point\n      const circle = bars\n        .enter()\n        .append(\"g\")\n        .merge(bars)\n        .selectAll(\"circle\")\n        .data((d) => d.variants);\n\n      circle.exit().remove();\n\n      circle\n        .enter()\n        .append(\"circle\")\n        .merge(circle)\n        .attr(\"class\", \"feature\")\n        .attr(\"title\", (d) => d.start)\n        .attr(\"r\", (d) => (d.size ? d.size : 5))\n        .attr(\"cx\", (d) => {\n          return element.getXFromSeqPosition(d.start) + half;\n        })\n        .attr(\"cy\", (d) => {\n          return element._yScale(d.variant.charAt(0));\n        })\n        .attr(\"name\", (d) => {\n          const mutation =\n            d.alternativeSequence === \"*\" ? \"STOP\" : d.alternativeSequence;\n          // eslint-disable-next-line no-param-reassign\n          d.internalId = `var_${d.wildType}${d.start}${mutation}`;\n          return d.internalId;\n        })\n        .attr(\"fill\", (d) =>\n          element._colorConfig ? element._colorConfig(d) : d.color\n        )\n        .call(element.bindEvents, element);\n    });\n  }\n}\n\nexport default VariationPlot;\n","import ProtvistaTrack from \"protvista-track\";\nimport { scaleLinear, scalePoint, axisLeft, axisRight } from \"d3\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport processVariants from \"./processVariants\";\nimport VariationPlot from \"./variationPlot\";\n\nconst aaList = [\n  \"G\",\n  \"A\",\n  \"V\",\n  \"L\",\n  \"I\",\n  \"S\",\n  \"T\",\n  \"C\",\n  \"M\",\n  \"D\",\n  \"N\",\n  \"E\",\n  \"Q\",\n  \"R\",\n  \"K\",\n  \"H\",\n  \"F\",\n  \"Y\",\n  \"W\",\n  \"P\",\n  \"d\",\n  \"*\"\n];\n\nconst deepArrayOperation = (arrays, operation) => {\n  if (!arrays || arrays.length <= 0) {\n    return null;\n  }\n  const firstArray = arrays[0];\n  // Iterate over positions\n  firstArray.forEach((position, i) => {\n    const filteredVariants = arrays.map(array => array[i].variants);\n    /* eslint-disable no-param-reassign */\n    position.variants = operation(...filteredVariants);\n  });\n  return firstArray;\n};\n\nclass ProtvistaVariation extends ProtvistaTrack {\n  connectedCallback() {\n    super.connectedCallback();\n    const styleElt = document.createElement(\"style\");\n    styleElt.innerHTML = ProtvistaVariation.css;\n    this.appendChild(styleElt);\n    this._height = Number(this.getAttribute(\"height\"))\n      ? Number(this.getAttribute(\"height\"))\n      : 430;\n    this._width = this._width ? this._width : 0;\n    this._yScale = scaleLinear();\n    // scale for Amino Acids\n    this._yScale = scalePoint()\n      .domain(aaList)\n      .range([0, this._height - this.margin.top - this.margin.bottom]);\n  }\n\n  processData(data) {\n    this._originalData = processVariants(data);\n  }\n\n  static get css() {\n    return `\n    <style>\n    protvista-variation {\n      display: flex;\n      width: 100%;\n    }\n    \n    protvista-variation svg {\n      background-color: #fff;\n    }\n    \n    protvista-variation circle {\n      opacity: 0.6;\n    }\n    protvista-variation circle:hover {\n      opacity: 0.9;\n    }\n    protvista-variation .tick line,\n    protvista-variation .axis path {\n      opacity: 0.1;\n    }\n    \n    .protvista-highlight {\n      fill: #ffe999;\n    }\n    \n    protvista-variation .variation-y-right line,\n    protvista-variation .axis path {\n      fill: none;\n      stroke: none;\n    }\n    \n    </style>\n    `;\n  }\n\n  _createFeatures() {\n    this._variationPlot = new VariationPlot();\n    // Group for the main chart\n    const mainChart = super.svg.select(\"g.sequence-features\");\n\n    // clip path prevents drawing outside of it\n    const chartArea = mainChart\n      .attr(\"transform\", `translate(0, ${this.margin.top})`)\n      .append(\"g\")\n      .attr(\"clip-path\", \"url(#plotAreaClip)\");\n\n    this._clipPath = mainChart\n      .append(\"clipPath\")\n      .attr(\"id\", \"plotAreaClip\")\n      .append(\"rect\")\n      .attr(\"width\", this.getWidthWithMargins())\n      .attr(\"height\", this._height)\n      .attr(\"transform\", `translate(0, -${this.margin.top})`);\n\n    // This is calling the data series render code for each of the items in the data\n    this._series = chartArea.datum(this._data);\n\n    this._axisLeft = mainChart.append(\"g\");\n\n    this._axisRight = mainChart.append(\"g\");\n\n    this.updateScale();\n  }\n\n  // Overwrite filters setters as we use updateData instead of refresh\n  set filters(filters) {\n    super.filters = filters;\n    this.updateData(this._data);\n    this.refresh();\n  }\n\n  /*\n   * We have to overwrite this function as variants are in arrays\n   * of arrays so the regular union/intersection won't work\n   */\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map(filterGroup => {\n      const filteredData = filterGroup.map(filterItem =>\n        filterItem.filterFn(this._originalData)\n      );\n      return deepArrayOperation(filteredData, _union);\n    });\n\n    this._data = deepArrayOperation(filteredGroups, _intersection);\n  }\n\n  set colorConfig(colorConfig) {\n    this._colorConfig = colorConfig;\n  }\n\n  get colorConfig() {\n    return this._colorConfig;\n  }\n\n  // Calling render again\n  refresh() {\n    if (this._series) {\n      this._clipPath.attr(\"width\", this.getWidthWithMargins());\n      this.updateScale();\n      this._series.call(this._variationPlot.drawVariationPlot, this);\n      this._updateHighlight();\n    }\n  }\n\n  updateScale() {\n    this._yAxisLScale = axisLeft()\n      .scale(this._yScale)\n      .tickSize(-this.getWidthWithMargins());\n\n    this._yAxisRScale = axisRight().scale(this._yScale);\n\n    this._axisLeft\n      .attr(\"class\", \"variation-y-left axis\")\n      .attr(\"transform\", `translate(${this.margin.left},0)`)\n      .call(this._yAxisLScale);\n\n    this._axisRight\n      .attr(\n        \"transform\",\n        `translate(${this.getWidthWithMargins() - this.margin.right + 2}, 0)`\n      )\n      .attr(\"class\", \"variation-y-right axis\")\n      .call(this._yAxisRScale);\n  }\n\n  updateData(data) {\n    if (this._series) {\n      this._series.datum(data);\n    }\n  }\n}\n\nexport default ProtvistaVariation;\n","/* eslint-disable prefer-template, no-param-reassign  */\n/* jslint node: true */\nconst symbolSize = 10;\n\nexport default class FeatureShape {\n  getFeatureShape(aaWidth, ftHeight, ftLength, shape) {\n    shape = shape || \"rectangle\";\n    this._ftLength = ftLength;\n    this._ftHeight = ftHeight;\n    this._ftWidth = aaWidth * ftLength;\n    if (typeof this[\"_\" + shape] !== \"function\") {\n      shape = \"rectangle\";\n    }\n    return this[\"_\" + shape]();\n  }\n\n  static isContinuous(shape) {\n    shape = shape.toLowerCase();\n    return shape !== \"bridge\";\n  }\n\n  _rectangle() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _roundRectangle() {\n    const radius = 6;\n    return (\n      \"M\" +\n      radius +\n      \",0\" +\n      \"h\" +\n      (this._ftWidth - 2 * radius) +\n      \",0\" +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      radius +\n      \"v\" +\n      (this._ftHeight - 2 * radius) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      radius +\n      \"h\" +\n      (2 * radius - this._ftWidth) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      -radius +\n      \"v\" +\n      (2 * radius - this._ftHeight) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      -radius +\n      \"Z\"\n    );\n  }\n\n  _line() {\n    return `M0,${this._ftHeight / 2} L${this._ftWidth},${this._ftHeight / 2}`;\n  }\n\n  _bridge() {\n    if (this._ftLength !== 1) {\n      return (\n        \"M0,\" +\n        this._ftHeight +\n        \"L0,0\" +\n        \"L\" +\n        this._ftWidth +\n        \",0\" +\n        \"L\" +\n        this._ftWidth +\n        \",\" +\n        this._ftHeight +\n        \"L\" +\n        this._ftWidth +\n        \",2\" +\n        \"L0,2\" +\n        \"Z\"\n      );\n    }\n    return (\n      \"M0,\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",0\" +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _getMiddleLine(centerx) {\n    return \"M0,\" + centerx + \"L\" + this._ftWidth + \",\" + centerx + \"Z\";\n  }\n\n  _diamond() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (m + centerx) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (m - centerx) +\n      \",\" +\n      centerx;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(centerx, this._ftWidth)\n      : shape + \"Z\";\n  }\n\n  _chevron() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",\" +\n      centerx +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      (-centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",\" +\n          centerx +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _catFace() {\n    const centerx = symbolSize / 2;\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-centerx + m) +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"M\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _triangle() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _wave() {\n    const rx = symbolSize / 4;\n    const ry = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-symbolSize / 2 + m) +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,0 \" +\n      (symbolSize / 2 + m) +\n      \",\" +\n      ry;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(ry, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getPolygon(sidesNumber) {\n    const r = symbolSize / 2;\n    let polygon = \"M \";\n    const m = this._ftWidth / 2;\n    for (let i = 0; i < sidesNumber; i++) {\n      polygon +=\n        r * Math.cos((2 * Math.PI * i) / sidesNumber) +\n        m +\n        \",\" +\n        (r * Math.sin((2 * Math.PI * i) / sidesNumber) + r) +\n        \" \";\n    }\n    return this._ftLength !== 1\n      ? polygon +\n          \" \" +\n          (r * Math.cos(0) + m) +\n          \",\" +\n          (r * Math.sin(0) + r) +\n          \" \" +\n          this._getMiddleLine(r, this._ftWidth) +\n          \"Z\"\n      : polygon + \"Z\";\n  }\n\n  _hexagon() {\n    return this._getPolygon(6);\n  }\n\n  _pentagon() {\n    return this._getPolygon(5);\n  }\n\n  _circle() {\n    const m = this._ftWidth / 2;\n    const r = Math.sqrt(symbolSize / Math.PI);\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      symbolSize +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(symbolSize / 2, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _arrow() {\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-step + m) +\n      \",0\" +\n      \"L\" +\n      (-5 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-step + m) +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      m +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      (4 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _doubleBar() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getBrokenEnd() {\n    const qh = this._ftHeight / 4.0;\n    return (\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      3 * qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight\n    );\n  }\n\n  _getBrokenStart() {\n    const qh = this._ftHeight / 4.0;\n    return \"L\" + qh + \",\" + 3 * qh + \"L0,\" + 2 * qh + \"L\" + qh + \",\" + qh;\n  }\n\n  _discontinuosStart() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuos() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuosEnd() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _helix() {\n    const x = symbolSize / 2; // Fitting two loops in a symbol\n    const y = symbolSize / 4;\n    let center = x / 2;\n    const nw = Math.round(this._ftWidth / x);\n\n    let loop = \"\";\n    for (let i = 0; i < nw; i++) {\n      const shape =\n        \"M\" +\n        (-(x / 2) + center) +\n        \",\" +\n        this._ftHeight +\n        \" C\" +\n        (center + y) +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \", 0\" +\n        \" C\" +\n        (center - y) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        this._ftHeight;\n      loop += shape;\n      center += x;\n    }\n    return loop;\n  }\n\n  _strand() {\n    let rl = 0;\n    if (this._ftWidth > symbolSize / 2) {\n      rl = this._ftWidth - symbolSize / 2;\n    }\n    const qh = this._ftHeight / 4;\n    const rect =\n      \"M0,\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      3 * qh +\n      \"L0,\" +\n      3 * qh +\n      \"L0,\" +\n      qh;\n    const triangle =\n      \"M\" +\n      rl +\n      \",\" +\n      0 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      rl +\n      \",\" +\n      this._ftHeight +\n      \"Z\";\n    return rect + triangle;\n  }\n}\n","export default class DefaultLayout {\n  constructor({ layoutHeight, padding = 1, minHeight = 17 }) {\n    this._padding = padding;\n    this._minHeight = minHeight;\n    this._layoutHeight = layoutHeight;\n  }\n\n  init(features) {\n    this._features = features;\n  }\n\n  getFeatureYPos() {\n    // Position right in the middle\n    const featureHeight = this.getFeatureHeight();\n    return this._layoutHeight / 2 - featureHeight / 2;\n  }\n\n  getFeatureHeight() {\n    return Math.min(this._layoutHeight, this._minHeight) - this._padding;\n  }\n}\n","import DefaultLayout from \"./DefaultLayout\";\n\nconst featuresOverlap = (feature1, feature2) => {\n  return !(\n    Number(feature2.start) > Number(feature1.end) ||\n    Number(feature2.end) < Number(feature1.start)\n  );\n};\n\nconst featureOvelapsInRow = (feature, row) => {\n  return row.some(rowFeature => featuresOverlap(feature, rowFeature));\n};\n\nexport default class NonOverlappingLayout extends DefaultLayout {\n  constructor(options) {\n    super(options);\n    this.featuresMap = new Map();\n    this._rowHeight = 0;\n    this._rows = [];\n    this._minHeight = 15;\n  }\n\n  init(features) {\n    features.forEach(feature => {\n      const rowIndex = this._rows.findIndex(\n        row => !featureOvelapsInRow(feature, row)\n      );\n      if (rowIndex >= 0) {\n        this._rows[rowIndex].push(feature);\n        this.featuresMap.set(feature, rowIndex);\n      } else {\n        this._rows.push([feature]);\n        this.featuresMap.set(feature, this._rows.length - 1);\n      }\n    });\n    this._rowHeight = Math.min(\n      this._layoutHeight / this._rows.length,\n      this._minHeight\n    );\n  }\n\n  getOffset() {\n    // this offset is required for centering if the number of rows doesn't\n    // fill the layout\n    if (this._rows.length * this._rowHeight < this._layoutHeight) {\n      return this._layoutHeight / 2 - (this._rows.length * this._rowHeight) / 2;\n    }\n    return 0;\n  }\n\n  getFeatureYPos(feature) {\n    const rowNumber = this.featuresMap.get(feature);\n    return this.getOffset() + this._rowHeight * rowNumber + 2 * this._padding;\n  }\n\n  getFeatureHeight() {\n    return this._rowHeight - 2 * this._padding;\n  }\n}\n","// eslint-disable-next-line\nexport const config = {\n  CHAIN: {\n    name: \"chain\",\n    label: \"Chain\",\n    tooltip:\n      \"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing\",\n    shape: \"rectangle\",\n    color: \"#CC9933\"\n  },\n  TRANSIT: {\n    name: \"transit peptide\",\n    label: \"Transit peptide\",\n    tooltip: \"This describes the extent of a transit peptide\",\n    shape: \"rectangle\",\n    color: \"#009966\"\n  },\n  INIT_MET: {\n    name: \"initiator methionine\",\n    label: \"Initiator methionine\",\n    tooltip:\n      \"This indicates that the initiator methionine is cleaved from the mature protein\",\n    shape: \"arrow\",\n    color: \"#996633\"\n  },\n  PROPEP: {\n    name: \"propeptide\",\n    label: \"Propeptide\",\n    tooltip:\n      \"Part of a protein that is cleaved during maturation or activation\",\n    shape: \"rectangle\",\n    color: \"#99CCCC\"\n  },\n  PEPTIDE: {\n    name: \"peptide\",\n    label: \"Peptide\",\n    tooltip:\n      \"The position and length of an active peptide in the mature protein\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  SIGNAL: {\n    name: \"signal peptide\",\n    label: \"Signal peptide\",\n    tooltip: \"N-terminal signal peptide\",\n    shape: \"rectangle\",\n    color: \"#CC0033\"\n  },\n  HELIX: {\n    name: \"helix\",\n    label: \"Helix\",\n    tooltip: \"The positions of experimentally determined helical regions\",\n    shape: \"rectangle\",\n    color: \"#FF0066\"\n  },\n  STRAND: {\n    name: \"strand\",\n    label: \"Beta strand\",\n    tooltip: \"The positions of experimentally determined beta strands\",\n    shape: \"rectangle\",\n    color: \"#FFCC00\"\n  },\n  TURN: {\n    name: \"turn\",\n    label: \"Turn\",\n    tooltip: \"The positions of experimentally determined hydrogen-bonded turns\",\n    shape: \"rectangle\",\n    color: \"#0571AF\"\n  },\n  DISULFID: {\n    name: \"disulfide bond\",\n    label: \"Disulfide bond\",\n    tooltip:\n      \"The positions of cysteine residues participating in disulphide bonds\",\n    shape: \"bridge\",\n    color: \"#23B14D\"\n  },\n  CROSSLNK: {\n    name: \"cross-link\",\n    label: \"Cross-link\",\n    tooltip:\n      \"Covalent linkages of various types formed between two proteins or between two parts of the same protein\",\n    shape: \"bridge\",\n    color: \"#FF6600\"\n  },\n  REGION: {\n    name: \"region of interest\",\n    label: \"Region of interest\",\n    tooltip:\n      \"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation\",\n    shape: \"rectangle\",\n    color: \"#B33E00\"\n  },\n  COILED: {\n    name: \"coiled-coil region\",\n    label: \"Coiled-coil region\",\n    tooltip:\n      \"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  MOTIF: {\n    name: \"short sequence motif\",\n    label: \"Short sequence motif\",\n    tooltip: \"Short conserved sequence motif of biological significance\",\n    shape: \"rectangle\",\n    color: \"#402060\"\n  },\n  REPEAT: {\n    name: \"repeat\",\n    label: \"Repeat\",\n    tooltip: \"Repeated sequence motifs or repeated domains within the protein\",\n    shape: \"rectangle\",\n    color: \"#9900FF\"\n  },\n  CA_BIND: {\n    name: \"calcium-binding region\",\n    label: \"Calcium-binding region\",\n    tooltip: \"Calcium-binding regions, such as the EF-hand motif\",\n    shape: \"rectangle\",\n    color: \"#FF3399\"\n  },\n  DNA_BIND: {\n    name: \"DNA-binding region\",\n    label: \"DNA binding\",\n    tooltip:\n      \"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain\",\n    shape: \"rectangle\",\n    color: \"#009933\"\n  },\n  DOMAIN: {\n    name: \"other domain of interest\",\n    label: \"Other domain of interest\",\n    tooltip:\n      \"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold\",\n    shape: \"rectangle\",\n    color: \"#9999FF\"\n  },\n  ZN_FING: {\n    name: \"zinc finger region\",\n    label: \"Zinc finger\",\n    tooltip:\n      \"Small, functional, independently folded domain that coordinates one or more zinc ions\",\n    shape: \"rectangle\",\n    color: \"#990066\"\n  },\n  NP_BIND: {\n    name: \"nucleotide-binding region\",\n    label: \"Nucleotide-binding region\",\n    tooltip:\n      \"(aka flavin-binding). Region in the protein which binds nucleotide phosphates\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  METAL: {\n    name: \"metal ion-binding site\",\n    label: \"Metal ion-binding site\",\n    tooltip: \"Binding site for a metal ion\",\n    shape: \"diamond\",\n    color: \"#009900\"\n  },\n  SITE: {\n    name: \"other site of interest\",\n    label: \"Other site of interest\",\n    tooltip: \"Any interesting single amino acid site on the sequence\",\n    shape: \"chevron\",\n    color: \"#660033\"\n  },\n  BINDING: {\n    name: \"other binding site\",\n    label: \"Other binding site\",\n    tooltip:\n      \"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)\",\n    shape: \"rectangle\",\n    color: \"#catFace\"\n  },\n  ACT_SITE: {\n    name: \"active site\",\n    label: \"Active site\",\n    tooltip: \"Amino acid(s) directly involved in the activity of an enzyme\",\n    shape: \"circle\",\n    color: \"#FF6666\"\n  },\n  MOD_RES: {\n    name: \"Post-translationally modified residue\",\n    label: \"Modified residue\",\n    tooltip:\n      \"Modified residues such as phosphorylation, acetylation, acylation, methylation\",\n    shape: \"triangle\",\n    color: \"#000066\"\n  },\n  LIPID: {\n    name: \"lipid moiety-binding region\",\n    label: \"Lipidation\",\n    tooltip: \"Covalently attached lipid group(s)\",\n    shape: \"wave\",\n    color: \"#99CC33\"\n  },\n  CARBOHYD: {\n    name: \"glycosylation site\",\n    label: \"Glycosylation\",\n    tooltip: \"Covalently attached glycan group(s)\",\n    shape: \"hexagon\",\n    color: \"#CC3366\"\n  },\n  COMPBIAS: {\n    name: \"compositionally biased region\",\n    label: \"Compositionally biased region\",\n    tooltip:\n      \"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions\",\n    shape: \"rectangle\",\n    color: \"#FF3366\"\n  },\n  CONFLICT: {\n    name: \"sequence conflict\",\n    label: \"Sequence conflict\",\n    tooltip: \"Sequence discrepancies of unknown origin\",\n    shape: \"rectangle\",\n    color: \"#6633CC\"\n  },\n  NON_CONS: {\n    name: \"non-consecutive residues\",\n    label: \"Non-adjacent residues\",\n    tooltip:\n      \"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them\",\n    shape: \"doubleBar\",\n    color: \"#FF0033\"\n  },\n  NON_TER: {\n    name: \"non-terminal residue\",\n    label: \"Non-terminal residue\",\n    tooltip:\n      \"The sequence is incomplete. The residue is not the terminal residue of the complete protein\",\n    shape: \"doubleBar\",\n    color: \"#339933\"\n  },\n  UNSURE: {\n    name: \"unsure residue\",\n    label: \"Sequence uncertainty\",\n    tooltip:\n      \"Regions of a sequence for which the authors are unsure about the sequence assignment\",\n    shape: \"rectangle\",\n    color: \"#33FF00\"\n  },\n  NON_STD: {\n    name: \"non-standard amino acid\",\n    label: \"Non-standard residue\",\n    tooltip: \"Non-standard amino acids (selenocysteine and pyrrolysine)\",\n    shape: \"pentagon\",\n    color: \"#330066\"\n  },\n  MUTAGEN: {\n    name: \"mutagenesis site\",\n    label: \"Mutagenesis\",\n    tooltip: \"Site which has been experimentally altered by mutagenesis\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  TOPO_DOM: {\n    name: \"topological domain\",\n    label: \"Topological domain\",\n    tooltip: \"Location of non-membrane regions of membrane-spanning proteins\",\n    shape: \"rectangle\",\n    color: \"#CC0000\"\n  },\n  TRANSMEM: {\n    name: \"transmembrane region\",\n    label: \"Transmembrane\",\n    tooltip: \"Extent of a membrane-spanning region\",\n    shape: \"rectangle\",\n    color: \"#CC00CC\"\n  },\n  INTRAMEM: {\n    name: \"intramembrane region\",\n    label: \"Intramembrane\",\n    tooltip: \"Extent of a region located in a membrane without crossing it\",\n    shape: \"rectangle\",\n    color: \"#0000CC\"\n  },\n  VAR_SEQ: {\n    name: \"splice variant\",\n    label: \"Splice variant\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#CC11CC\"\n  },\n  VARIANT: {\n    name: \"sequence variant\",\n    label: \"Natural variant\",\n    tooltip:\n      \"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events\",\n    shape: \"circle\",\n    color: \"black\"\n  },\n  UNIQUE: {\n    name: \"unique\",\n    label: \"Unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#fc3133\"\n  },\n  NON_UNIQUE: {\n    name: \"non-unique\",\n    label: \"Non-unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#8585fc\"\n  },\n  ANTIGEN: {\n    name: \"antigen\",\n    label: \"Antibody binding sequences\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#996699\"\n  },\n  PDBE_COVER: {\n    name: \"pdbe coverage\",\n    label: \"PDBe 3D structure coverage\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#669966\"\n  }\n};\n","import { config } from \"./config\";\n\nexport const getShapeByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].shape;\n  }\n  const info = Object.values(config).find(\n    typeInfo => typeInfo.name.toUpperCase() === type.toUpperCase()\n  );\n  if (info) {\n    return info.shape;\n  }\n  return \"rectangle\";\n};\n\nexport const getColorByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].color;\n  }\n  const info = Object.values(config).find(typeInfo => {\n    return typeInfo.name.toUpperCase() === type.toUpperCase();\n  });\n  if (!info) {\n    console.log(type);\n  }\n  if (info) {\n    return info.color;\n  }\n  return \"black\";\n};\n","import { select } from \"d3\";\nimport _includes from \"lodash-es/includes\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\nimport FeatureShape from \"./FeatureShape\";\nimport NonOverlappingLayout from \"./NonOverlappingLayout\";\nimport DefaultLayout from \"./DefaultLayout\";\nimport { getShapeByType, getColorByType } from \"./ConfigHelper\";\n\nclass ProtvistaTrack extends ProtvistaZoomable {\n  getLayout() {\n    if (String(this.getAttribute(\"layout\")).toLowerCase() === \"non-overlapping\")\n      return new NonOverlappingLayout({\n        layoutHeight: this._height,\n      });\n    return new DefaultLayout({\n      layoutHeight: this._height,\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._color = this.getAttribute(\"color\");\n    this._shape = this.getAttribute(\"shape\");\n    this._featureShape = new FeatureShape();\n    this._layoutObj = this.getLayout();\n\n    if (this._data) this._createTrack();\n\n    this.addEventListener(\"load\", (e) => {\n      if (_includes(this.children, e.target)) {\n        this.data = e.detail.payload;\n      }\n    });\n  }\n\n  static normalizeLocations(data) {\n    return data.map((obj) => {\n      const { locations, start, end } = obj;\n      return locations\n        ? obj\n        : Object.assign(obj, {\n            locations: [\n              {\n                fragments: [\n                  {\n                    start,\n                    end,\n                  },\n                ],\n              },\n            ],\n          });\n    });\n  }\n\n  processData(data) {\n    this._originalData = ProtvistaTrack.normalizeLocations(data);\n  }\n\n  set data(data) {\n    this.processData(data);\n    this._applyFilters();\n    this._layoutObj = this.getLayout();\n    this._createTrack();\n  }\n\n  set filters(filters) {\n    this._filters = filters;\n    this._applyFilters();\n    this._createTrack();\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat([\n      \"highlight\",\n      \"color\",\n      \"shape\",\n      \"filters\",\n    ]);\n  }\n\n  _getFeatureColor(f) {\n    if (f.color) {\n      return f.color;\n    }\n    if (f.feature && f.feature.color) {\n      return f.feature.color;\n    }\n    if (this._color) {\n      return this._color;\n    }\n    if (f.type) {\n      return getColorByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getColorByType(f.feature.type);\n    }\n    return \"black\";\n  }\n\n  _getFeatureFillColor(f) {\n    if (f.fill) {\n      return f.fill;\n    }\n    if (f.feature && f.feature.fill) {\n      return f.feature.fill;\n    }\n    return this._getFeatureColor(f);\n  }\n\n  _getShape(f) {\n    if (f.shape) {\n      return f.shape;\n    }\n    if (f.feature && f.feature.shape) {\n      return f.feature.shape;\n    }\n    if (this._shape) {\n      return this._shape;\n    }\n    if (f.type) {\n      return getShapeByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getShapeByType(f.feature.type);\n    }\n    return \"rectangle\";\n  }\n\n  _createTrack() {\n    this._layoutObj.init(this._data);\n\n    select(this).selectAll(\"div\").remove();\n\n    this.svg = select(this)\n      .append(\"div\")\n      .style(\"line-height\", 0)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n\n    this.seq_g = this.svg.append(\"g\").attr(\"class\", \"sequence-features\");\n\n    this._createFeatures();\n  }\n\n  _createFeatures() {\n    this.featuresG = this.seq_g.selectAll(\"g.feature-group\").data(this._data);\n\n    this.locations = this.featuresG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", (d) => `g_${d.accession}`)\n      .selectAll(\"g.location-group\")\n      .data((d) =>\n        d.locations.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    const fragmentGroup = this.locations\n      .selectAll(\"g.fragment-group\")\n      .data((d) =>\n        d.fragments.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d.feature,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"fragment-group\");\n\n    fragmentGroup\n      .append(\"path\")\n      .attr(\"class\", (f) => `${this._getShape(f)} feature`)\n      .attr(\"d\", (f) =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f),\n          f.end ? f.end - f.start + 1 : 1,\n          this._getShape(f)\n        )\n      )\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", (f) => this._getFeatureFillColor(f))\n      .attr(\"stroke\", (f) => this._getFeatureColor(f))\n      .style(\"fill-opacity\", ({ feature }) =>\n        feature.opacity ? feature.opacity : 0.9\n      )\n      .style(\"stroke-opacity\", ({ feature }) => {\n        return feature.opacity ? feature.opacity : 0.9;\n      });\n\n    fragmentGroup\n      .append(\"rect\")\n      .attr(\"class\", \"outer-rectangle feature\")\n      .attr(\n        \"width\",\n        (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n      )\n      .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", \"transparent\")\n      .attr(\"stroke\", \"transparent\")\n      .call(this.bindEvents, this);\n  }\n\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    // Filters are OR-ed within a category and AND-ed between categories\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map((filterGroup) => {\n      const filteredData = filterGroup.map((filterItem) =>\n        filterItem.filterFn(this._originalData)\n      );\n      return _union(...filteredData);\n    });\n    const intersection = _intersection(...filteredGroups);\n    this._data = intersection;\n  }\n\n  refresh() {\n    if (this.xScale && this.seq_g) {\n      const fragmentG = this.seq_g.selectAll(\"g.fragment-group\").data(\n        this._data.reduce(\n          (acc, f) =>\n            acc.concat(\n              f.locations.reduce(\n                (acc2, e) =>\n                  acc2.concat(\n                    e.fragments.map((loc) =>\n                      Object.assign({}, loc, {\n                        feature: f,\n                      })\n                    )\n                  ),\n                []\n              )\n            ),\n          []\n        )\n      );\n\n      fragmentG\n        .selectAll(\"path.feature\")\n        .attr(\"d\", (f) =>\n          this._featureShape.getFeatureShape(\n            this.getSingleBaseWidth(),\n            this._layoutObj.getFeatureHeight(f),\n            f.end ? f.end - f.start + 1 : 1,\n            this._getShape(f)\n          )\n        )\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      fragmentG\n        .selectAll(\"rect.outer-rectangle\")\n        .attr(\n          \"width\",\n          (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n        )\n        .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtvistaTrack;\nexport { DefaultLayout };\n","import ProtvistaTrack from \"protvista-track\";\nimport { scaleLinear, select, line, max } from \"d3\";\n\nclass ProtvistaVariationGraph extends ProtvistaTrack {\n  constructor() {\n    super();\n    this._line = line()\n      .x(\n        (_, i) =>\n          this.getXFromSeqPosition(i + 1) - this.getSingleBaseWidth() / 2\n      )\n      .y(d => this._yScale(d));\n  }\n\n  init() {\n    this._totalsArray = { total: null, diseaseTotal: null };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._data = undefined;\n\n    this._height = Number(this.getAttribute(\"height\")) || 40;\n    this._yScale = scaleLinear();\n    this.init();\n  }\n\n  set data(data) {\n    this.init();\n    if (!data.sequence || data.variants.length <= 0) {\n      return;\n    }\n\n    this._totalsArray.total = new Uint8ClampedArray(data.sequence.length);\n    this._totalsArray.diseaseTotal = new Uint8ClampedArray(\n      data.sequence.length\n    );\n\n    for (const { start, association } of data.variants) {\n      const index = +start;\n      // skip if the variant is outside of bounds\n      // eslint-disable-next-line no-continue\n      if (index < 1 || index > data.sequence.length) continue;\n\n      // eslint-disable-next-line no-plusplus\n      this._totalsArray.total[index]++;\n\n      // eslint-disable-next-line no-continue\n      if (!association) continue;\n      const hasDisease = association.find(\n        association => association.disease === true\n      );\n      // eslint-disable-next-line no-plusplus\n      if (hasDisease) this._totalsArray.diseaseTotal[index]++;\n    }\n\n    this._createTrack();\n  }\n\n  _createTrack() {\n    select(this)\n      .selectAll(\"svg\")\n      .remove();\n    this.svg = select(this)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n    this.trackHighlighter.appendHighlightTo(this.svg);\n    // Create the visualisation here\n    this._initYScale();\n    this.refresh();\n  }\n\n  _initYScale() {\n    this._yScale\n      .domain([\n        0,\n        Math.max(\n          max(this._totalsArray.total),\n          max(this._totalsArray.diseaseTotal)\n        )\n      ])\n      .range([this._height, 0]);\n  }\n\n  refresh() {\n    if (!this.svg) return;\n    this.svg.selectAll(\"path\").remove();\n    this.svg\n      .append(\"path\")\n      .attr(\"d\", this._line(this._totalsArray.diseaseTotal))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"red\")\n      .attr(\"transform\", \"translate(0,0)\");\n    this.svg\n      .append(\"path\")\n      .attr(\"d\", this._line(this._totalsArray.total))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"darkgrey\")\n      .attr(\"transform\", \"translate(0,0)\");\n    this._updateHighlight();\n  }\n}\n\nexport default ProtvistaVariationGraph;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable max-classes-per-file */\nimport lodashGet from \"lodash-es/get\";\n// TODO: move that at a common place in the nightingale repo to be reused\n// Watch out for the generated file structure when that is moved up in the repo\nexport class NightingaleElement {\n}\nconst store = new Map();\nexport const load = (url, headers = new Headers({ accept: \"application/json\" })) => {\n    const cached = store.get(url);\n    if (cached)\n        return cached;\n    const promise = (() => __awaiter(void 0, void 0, void 0, function* () {\n        const response = yield window.fetch(url, { headers });\n        if (!response.ok) {\n            throw new Error(`Request Failed: Status = ${response.status}; URI = ${url}; Time = ${new Date()}`);\n        }\n        if (response.status === 204) {\n            // no data\n            return { payload: null, headers: response.headers };\n        }\n        const payload = yield response.json();\n        return { payload, headers: response.headers };\n    }))();\n    store.set(url, promise);\n    promise.catch(() => store.delete(url));\n    return promise;\n};\nconst getSourceData = (children) => Array.from(children).filter(child => child.matches('source[src], script[type=\"application/json\"]'));\nclass DataLoader extends HTMLElement {\n    // Custom element reactions\n    constructor() {\n        super();\n        this._data = null;\n        this.selector =\n            (this.getAttribute(\"selector\") || \"\").trim() || ((d) => d);\n    }\n    static get is() {\n        return \"data-loader\";\n    }\n    fetch() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // get all the potentials sources elements\n            const sources = getSourceData(this.children);\n            // if nothing there, bails\n            if (!sources.length)\n                return;\n            const errors = [];\n            let detail;\n            // go over all the potential sources to try to load data from it\n            /* eslint-disable no-restricted-syntax */\n            for (const source of sources) {\n                try {\n                    if (source instanceof HTMLSourceElement) {\n                        detail = Object.assign(Object.assign({}, (yield load(source.src))), { srcElement: source, src: source.src });\n                    }\n                    else {\n                        detail = {\n                            payload: JSON.parse(source.textContent)\n                        };\n                    }\n                    // if we're here, we have data, go out of the loop\n                    break;\n                }\n                catch (error) {\n                    errors.push(error);\n                }\n            }\n            if (!detail) {\n                this._errors = errors;\n                try {\n                    this.dispatchEvent(new CustomEvent(\"error\", {\n                        detail: errors,\n                        bubbles: true,\n                        cancelable: true\n                    }));\n                }\n                catch (e) {\n                    console.error(e);\n                }\n                return;\n            }\n            // apply selector to retrieved data\n            if (typeof this.selector === \"string\") {\n                this._data = lodashGet(detail.payload, this.selector);\n            }\n            else {\n                this._data = this.selector(detail.payload);\n            }\n            detail.payload = this.data;\n            this.dispatchEvent(new CustomEvent(\"load\", { detail, bubbles: true, cancelable: true }));\n        });\n    }\n    // Getters/Setters\n    // data\n    get data() {\n        return this._data;\n    }\n    // loaded\n    get loaded() {\n        return !!this.data;\n    }\n    // errors\n    get errors() {\n        return this._errors;\n    }\n    // loaded\n    get selector() {\n        return this._selector;\n    }\n    set selector(value) {\n        this._selector = value;\n    }\n    connectedCallback() {\n        this.fetch();\n    }\n}\nexport default DataLoader;\n//# sourceMappingURL=data-loader.js.map","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import ProtvistaFeatureAdapter, {\n  renameProperties,\n  formatTooltip\n} from \"protvista-feature-adapter\";\nimport { v1 } from \"uuid\";\n\nexport const transformData = data => {\n  let adaptedData = [];\n  if (data && data.length !== 0) {\n    adaptedData = data.features.map(feature => {\n      return Object.assign(feature, {\n        category: \"PROTEOMICS\",\n        type: feature.unique ? \"unique\" : \"non_unique\",\n        tooltipContent: formatTooltip(feature),\n        protvistaFeatureId: v1()\n      });\n    });\n    adaptedData = renameProperties(adaptedData);\n  }\n  return adaptedData;\n};\n\nclass ProtvistaProteomicsAdapter extends ProtvistaFeatureAdapter {\n  parseEntry(data) {\n    this._adaptedData = transformData(data);\n    return this._adaptedData;\n  }\n}\n\nexport default ProtvistaProteomicsAdapter;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","const featureType = \"PDBE_COVER\";\nconst featureCategory = \"STRUCTURE_COVERAGE\";\n\nconst capitalizeFirstLetter = word => {\n  return word.charAt(0).toUpperCase() + word.slice(1);\n};\n\nconst getDescription = properties => {\n  return Object.keys(properties).reduce(\n    (accumulator, propertyKey) =>\n      `${accumulator}${capitalizeFirstLetter(propertyKey)}: ${\n        properties[propertyKey]\n      }. `,\n    \"\"\n  );\n};\n\nconst parseChainString = value => {\n  const posEqual = value.indexOf(\"=\");\n  const posDash = value.indexOf(\"-\");\n  if (posEqual === -1 || posDash === -1) {\n    return { start: 0, end: 0 };\n  }\n  return {\n    start: +value.slice(posEqual + 1, posDash),\n    end: +value.slice(posDash + 1)\n  };\n};\n\n// Iterate over references and extract chain start and end\nexport const getAllFeatureStructures = data => {\n  return data.dbReferences\n    .filter(reference => {\n      return reference.type === \"PDB\";\n    })\n    .map(structureReference => {\n      const parsedChain = structureReference.properties.chains\n        ? parseChainString(structureReference.properties.chains)\n        : { start: 0, end: 0 };\n      return {\n        type: featureType,\n        category: featureCategory,\n        structures: [\n          {\n            description: getDescription(structureReference.properties),\n            start: parsedChain.start,\n            end: parsedChain.end,\n            source: {\n              id: structureReference.id,\n              url: `http://www.ebi.ac.uk/pdbe-srv/view/entry/${structureReference.id}`\n            }\n          }\n        ],\n        start: parsedChain.start,\n        end: parsedChain.end\n      };\n    });\n};\n\nexport const mergeOverlappingIntervals = structures => {\n  if (!structures || structures.length <= 0) {\n    return [];\n  }\n  // Sort by start position\n  const sortedStructures = structures.sort((a, b) => a.start - b.start);\n  const mergedIntervals = [];\n  sortedStructures.forEach(structure => {\n    const lastItem = mergedIntervals[mergedIntervals.length - 1];\n    if (\n      !lastItem ||\n      // If item doesn't overlap, push it\n      lastItem.end < structure.start\n    ) {\n      mergedIntervals.push(structure);\n    }\n    // If the end is bigger update the last one\n    else if (lastItem.end < structure.end) {\n      lastItem.end = structure.end;\n      lastItem.structures.push(structure.structures[0]);\n    }\n    // Otherwise just add to last item\n    else {\n      lastItem.structures.push(structure.structures[0]);\n    }\n  });\n  return mergedIntervals;\n};\n\nexport const getStructuresHTML = structureList => {\n  return `<ul>\n            ${structureList\n              .map(\n                structure => `<li style=\"margin: 0.25rem 0\"><a style=\"color:#FFF\" href='${structure.source.url}' target='_blank'>\n            ${structure.source.id}\n        </a> (${structure.start}-${structure.end})</li>`\n              )\n              .join(\"\")}\n        </ul>`;\n};\n\nexport const formatTooltip = feature => {\n  const structuresHTML = getStructuresHTML(feature.structures);\n  return `${structuresHTML ? `<h5>Structures</h5>${structuresHTML}` : ``}`;\n};\n","import ProtvistaFeatureAdapter from \"protvista-feature-adapter\";\nimport { v1 } from \"uuid\";\nimport {\n  getAllFeatureStructures,\n  mergeOverlappingIntervals,\n  formatTooltip\n} from \"./StructureDataParser\";\n\nexport const transformData = data => {\n  let transformedData = [];\n  if (data && data.length !== 0) {\n    const allFeatureStructures = getAllFeatureStructures(data);\n    transformedData = mergeOverlappingIntervals(allFeatureStructures);\n\n    transformedData.forEach(feature => {\n      /* eslint-disable no-param-reassign */\n      feature.tooltipContent = formatTooltip(feature);\n      feature.protvistaFeatureId = v1();\n    });\n  }\n  return transformedData;\n};\n\nexport default class ProtVistaStructureAdapter extends ProtvistaFeatureAdapter {\n  parseEntry(data) {\n    this._adaptedData = transformData(data);\n    return this._adaptedData;\n  }\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import { formatXrefs, getEvidenceFromCodes } from \"protvista-feature-adapter\";\nimport groupBy from \"lodash-es/groupBy\";\nexport const getDiseaseAssociations = (associations) => associations === null || associations === void 0 ? void 0 : associations.map((association) => `\n              <h4>Disease association</h4><p>${association.name}</p>\n              ${association.description\n    ? `<>${association.description}</p>`\n    : \"\"}\n              ${association.dbReferences\n    ? `<h5>Cross-references</h5>${formatXrefs(association.dbReferences)}`\n    : \"\"}\n              ${getEvidenceFromCodes(association.evidences)}\n          `).join(\"\");\nexport const getDescriptions = (descriptions) => `<hr/><h5>Description</h5>${descriptions\n    .map((description) => `<p>${description.value}</p>`)\n    .join(\"\")}\n  `;\nexport const getPopulationFrequencies = (popFrequencies) => `<hr/><h5>Population frequencies</h5>${popFrequencies\n    .map((freq) => `<p>${freq.frequency} - ${freq.populationName} (${freq.source})</p>`)\n    .join(\"\")}`;\nexport const getPredictions = (predictions) => {\n    const groupedPredictions = groupBy(predictions, \"predAlgorithmNameType\");\n    const counts = Object.keys(groupedPredictions).map((key) => {\n        const valueGroups = groupBy(groupedPredictions[key], \"predictionValType\");\n        return {\n            algorithm: key,\n            values: Object.keys(valueGroups).map((valKey) => ({\n                name: valKey,\n                count: valueGroups[valKey].length,\n            })),\n        };\n    });\n    return counts\n        .map((countItem) => `<h6>${countItem.algorithm}</h6><ul class=\"no-bullet\">${countItem.values\n        .map((countValue) => `<li>${countValue.name}</li>`)\n        .join(\"\")}</ul>`)\n        .join(\"\");\n};\nexport const formatTooltip = (variant) => `\n                <h5>Variant</h5><p>${variant.wildType} > ${variant.alternativeSequence}</p>\n                ${variant.populationFrequencies\n    ? getPopulationFrequencies(variant.populationFrequencies)\n    : \"\"}\n                ${variant.consequenceType\n    ? `<h5>Consequence</h5><p>${variant.consequenceType}</p>`\n    : ``}\n                ${variant.somaticStatus\n    ? `<h5>Somatic</h5><p>${variant.somaticStatus === 0 ? \"No\" : \"Yes\"}</p>`\n    : ``}\n                ${variant.genomicLocation\n    ? `<h5>Location</h5><p>${variant.genomicLocation}</p>`\n    : ``}\n                ${variant.ftId\n    ? `<h5>Feature ID</h5><p>${variant.ftId}</p>`\n    : ``}\n                ${variant.descriptions\n    ? getDescriptions(variant.descriptions)\n    : \"\"}\n                ${variant.association\n    ? getDiseaseAssociations(variant.association)\n    : \"\"}\n                ${variant.predictions ? getPredictions(variant.predictions) : \"\"}\n\n                \n        `;\nexport default formatTooltip;\n//# sourceMappingURL=tooltipGenerators.js.map","export var AminoAcid;\n(function (AminoAcid) {\n    AminoAcid[\"A\"] = \"A\";\n    AminoAcid[\"C\"] = \"C\";\n    AminoAcid[\"D\"] = \"D\";\n    AminoAcid[\"E\"] = \"E\";\n    AminoAcid[\"Empty\"] = \"*\";\n    AminoAcid[\"F\"] = \"F\";\n    AminoAcid[\"G\"] = \"G\";\n    AminoAcid[\"H\"] = \"H\";\n    AminoAcid[\"I\"] = \"I\";\n    AminoAcid[\"K\"] = \"K\";\n    AminoAcid[\"L\"] = \"L\";\n    AminoAcid[\"M\"] = \"M\";\n    AminoAcid[\"N\"] = \"N\";\n    AminoAcid[\"Nl\"] = \"NL\";\n    AminoAcid[\"P\"] = \"P\";\n    AminoAcid[\"Q\"] = \"Q\";\n    AminoAcid[\"R\"] = \"R\";\n    AminoAcid[\"S\"] = \"S\";\n    AminoAcid[\"T\"] = \"T\";\n    AminoAcid[\"V\"] = \"V\";\n    AminoAcid[\"W\"] = \"W\";\n    AminoAcid[\"Y\"] = \"Y\";\n})(AminoAcid || (AminoAcid = {}));\n/*\n * This has been imported from the backend enums but\n * might be best kept as a string...\n */\nexport var Source;\n(function (Source) {\n    Source[\"CLINVAR\"] = \"ClinVar\";\n    Source[\"ESP\"] = \"ESP\";\n    Source[\"EXAC\"] = \"ExAC\";\n    Source[\"GENOMES1K\"] = \"1000Genomes\";\n    Source[\"BOVINE_SNP50\"] = \"BovineSNP50\";\n    Source[\"BOVINE_LD\"] = \"BovineLD\";\n    Source[\"BOVINE_HD\"] = \"BovineHD\";\n    Source[\"EQUINE_SNP50\"] = \"EquineSNP50\";\n    Source[\"CHICKEN_600K\"] = \"Chicken600K\";\n    Source[\"KG_HQ\"] = \"1kg_hq\";\n    Source[\"COSMIC\"] = \"cosmic curated\";\n    Source[\"REVIEWED\"] = \"reviewed\";\n    Source[\"UNIPROT\"] = \"UniProt\";\n    Source[\"DBSNP\"] = \"dbSNP\";\n    Source[\"ENSEMBL\"] = \"Ensembl\";\n    Source[\"ENSEMBL_PLANTS\"] = \"EnsemblPlants\";\n    Source[\"VECTORBASE\"] = \"VectorBase\";\n    Source[\"REFSEQ\"] = \"RefSeq\";\n    Source[\"DBGAP\"] = \"dbGaP\";\n    Source[\"DDD\"] = \"DDD\";\n    Source[\"PHARMCOGKB\"] = \"PharmGKB\";\n    Source[\"ENSEMBL_FUNGI\"] = \"EnsemblFungi\";\n    Source[\"ENSEMBL_METAZOA\"] = \"EnsemblMetazoa\";\n    Source[\"GNOMAD_V2\"] = \"gnomAD_v2.0\";\n    Source[\"GNOMAD_V3\"] = \"gnomAD_v3.0\";\n    Source[\"TCGA\"] = \"NCI-TCGA\";\n    Source[\"TCGA_COSMIC\"] = \"NCI-TCGA Cosmic\";\n    Source[\"DECIPHER\"] = \"ddG2P\";\n    Source[\"TOPMED\"] = \"TOPMed\";\n    Source[\"GNOMAD\"] = \"gnomAD\";\n    Source[\"PHARMGKB\"] = \"pharmgkb\";\n    Source[\"SGRP\"] = \"SGRP\";\n    Source[\"SGD\"] = \"SGD\";\n    Source[\"JEFFARES_SNPS\"] = \"Jeffares_SNPs\";\n    Source[\"JEFFARES_INDELS\"] = \"Jeffares_Indels\";\n})(Source || (Source = {}));\nexport var ClinicalSignificanceType;\n(function (ClinicalSignificanceType) {\n    ClinicalSignificanceType[\"Benign\"] = \"Benign\";\n    ClinicalSignificanceType[\"Disease\"] = \"Disease\";\n    ClinicalSignificanceType[\"LikelyBenign\"] = \"Likely benign\";\n    ClinicalSignificanceType[\"LikelyPathogenic\"] = \"Likely pathogenic\";\n    ClinicalSignificanceType[\"Pathogenic\"] = \"Pathogenic\";\n    ClinicalSignificanceType[\"Protective\"] = \"Protective\";\n    ClinicalSignificanceType[\"VariantOfUncertainSignificance\"] = \"Variant of uncertain significance\";\n})(ClinicalSignificanceType || (ClinicalSignificanceType = {}));\nexport var ConsequenceType;\n(function (ConsequenceType) {\n    ConsequenceType[\"Empty\"] = \"-\";\n    ConsequenceType[\"Frameshift\"] = \"frameshift\";\n    ConsequenceType[\"InframeDeletion\"] = \"inframe deletion\";\n    ConsequenceType[\"Insertion\"] = \"insertion\";\n    ConsequenceType[\"Missense\"] = \"missense\";\n    ConsequenceType[\"StopGained\"] = \"stop gained\";\n})(ConsequenceType || (ConsequenceType = {}));\nexport var PredAlgorithmNameType;\n(function (PredAlgorithmNameType) {\n    PredAlgorithmNameType[\"PolyPhen\"] = \"PolyPhen\";\n    PredAlgorithmNameType[\"Sift\"] = \"SIFT\";\n})(PredAlgorithmNameType || (PredAlgorithmNameType = {}));\nexport var PredictionValType;\n(function (PredictionValType) {\n    PredictionValType[\"Benign\"] = \"benign\";\n    PredictionValType[\"Deleterious\"] = \"deleterious\";\n    PredictionValType[\"DeleteriousLowConfidence\"] = \"deleterious - low confidence\";\n    PredictionValType[\"PossiblyDamaging\"] = \"possibly damaging\";\n    PredictionValType[\"ProbablyDamaging\"] = \"probably damaging\";\n    PredictionValType[\"Tolerated\"] = \"tolerated\";\n    PredictionValType[\"ToleratedLowConfidence\"] = \"tolerated - low confidence\";\n    PredictionValType[\"Unknown\"] = \"unknown\";\n})(PredictionValType || (PredictionValType = {}));\nexport var SourceType;\n(function (SourceType) {\n    SourceType[\"LargeScaleStudy\"] = \"large_scale_study\";\n    SourceType[\"Mixed\"] = \"mixed\";\n    SourceType[\"UniProt\"] = \"uniprot\";\n})(SourceType || (SourceType = {}));\nexport var FeatureType;\n(function (FeatureType) {\n    FeatureType[\"Variant\"] = \"VARIANT\";\n})(FeatureType || (FeatureType = {}));\n//# sourceMappingURL=variants.js.map","import ProtvistaFeatureAdapter from \"protvista-feature-adapter\";\nimport { v1 } from \"uuid\";\nimport formatTooltip from \"./tooltipGenerators\";\nimport { FeatureType, } from \"./variants\";\nconst getSourceType = (xrefs, sourceType) => {\n    const xrefNames = xrefs ? xrefs.map((ref) => ref.name) : [];\n    if (sourceType === \"uniprot\" || sourceType === \"mixed\") {\n        xrefNames.push(\"uniprot\");\n    }\n    return xrefNames;\n};\nexport const transformData = (data) => {\n    const { sequence, features } = data;\n    const variants = features.map((variant) => ({\n        type: FeatureType.Variant,\n        accession: variant.genomicLocation,\n        variant: variant.alternativeSequence ? variant.alternativeSequence : \"-\",\n        start: variant.begin,\n        end: variant.end,\n        tooltipContent: formatTooltip(variant),\n        association: variant.association,\n        sourceType: variant.sourceType,\n        xrefNames: getSourceType(variant.xrefs, variant.sourceType),\n        clinicalSignificances: variant.clinicalSignificances,\n        hasPredictions: variant.predictions && variant.predictions.length > 0,\n        protvistaFeatureId: v1(),\n    }));\n    if (!variants)\n        return null;\n    return { sequence, variants };\n};\nclass ProtvistaVariationAdapter extends ProtvistaFeatureAdapter {\n    static get is() {\n        return \"protvista-variation-adapter\";\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.closest(\"protvista-manager\")) {\n            this.manager = this.closest(\"protvista-manager\");\n            this.manager.register(this);\n        }\n    }\n    disconnectedCallback() {\n        if (this.manager) {\n            this.manager.unregister(this);\n        }\n    }\n    parseEntry(data) {\n        this._adaptedData = transformData(data);\n    }\n    _fireEvent(name, detail) {\n        this.dispatchEvent(new CustomEvent(name, {\n            detail,\n            bubbles: true,\n            cancelable: true,\n        }));\n    }\n}\nexport default ProtvistaVariationAdapter;\n//# sourceMappingURL=protvista-variation-adapter.js.map","export const transformData = data => {\n  try {\n    return data.results.map(({ metadata, proteins }) => ({\n      ...metadata,\n      locations: proteins[0].entry_protein_locations,\n      start: Math.min(\n        ...proteins[0].entry_protein_locations.map(location =>\n          Math.min(...location.fragments.map(fragment => fragment.start))\n        )\n      ),\n      end: Math.max(\n        ...proteins[0].entry_protein_locations.map(location =>\n          Math.max(...location.fragments.map(fragment => fragment.end))\n        )\n      ),\n      tooltipContent: `\n        <h5>Accession</h5>\n        <a\n          target=\"_blank\"\n          rel=\"noopener\"\n          href=\"https://www.ebi.ac.uk/interpro/entry/InterPro/${metadata.accession}/\"\n        >\n        ${metadata.accession}\n        </a>\n        <h5>Name</h5>\n        <p>${metadata.name}</p>\n      `,\n      length: proteins[0].protein_length\n    }));\n  } catch (error) {\n    throw new Error(\"Failed transforming the data\");\n  }\n};\n\nclass ProtvistaInterproAdapter extends HTMLElement {\n  set data(data) {\n    this._data = transformData(data);\n    this._emitEvent(data);\n  }\n\n  _emitEvent() {\n    this.dispatchEvent(\n      new CustomEvent(\"load\", {\n        detail: {\n          payload: this._data\n        },\n        bubbles: true,\n        cancelable: true\n      })\n    );\n  }\n\n  connectedCallback() {\n    this.addEventListener(\"load\", e => {\n      if (e.target !== this) {\n        e.stopPropagation();\n        try {\n          if (e.detail.payload.errorMessage) {\n            throw e.detail.payload.errorMessage;\n          }\n          this.data = e.detail.payload;\n        } catch (error) {\n          this.dispatchEvent(\n            new CustomEvent(\"error\", {\n              detail: error,\n              bubbles: true,\n              cancelable: true\n            })\n          );\n        }\n      }\n    });\n  }\n}\n\nexport default ProtvistaInterproAdapter;\n","const loadComponent = function(name, className) {\n  if (!customElements.get(name)) {\n    customElements.define(name, className);\n  }\n};\n\nexport { loadComponent };\n","import { LitElement, html } from \"lit-element\";\nimport { load } from \"data-loader\";\nimport ProtvistaStructure from \"protvista-structure\";\nimport ProtvistaDatatable from \"protvista-datatable\";\nimport { loadComponent } from \"./loadComponents\";\n\nconst PDBLinks = [\n  { name: \"PDB\", link: \"https://www.ebi.ac.uk/pdbe-srv/view/entry/\" },\n  { name: \"RCSB-PDB\", link: \"https://www.rcsb.org/structure/\" },\n  { name: \"PDBj\", link: \"https://pdbj.org/mine/summary/\" },\n  { name: \"PDBsum\", link: \"https://www.ebi.ac.uk/pdbsum/\" },\n];\n\nconst processData = (data) =>\n  data.dbReferences\n    .filter((xref) => xref.type === \"PDB\")\n    .sort((refA, refB) => refA.id.localeCompare(refB.id))\n    .map(({ id, properties }) => {\n      if (!properties) {\n        return null;\n      }\n      const { chains, resolution, method } = properties;\n\n      let chain;\n      let positions;\n      if (chains) {\n        const tokens = chains.split(\"=\");\n        if (tokens.length === 2) {\n          [chain, positions] = tokens;\n        }\n      }\n      return {\n        id,\n        method,\n        resolution: !resolution || resolution === \"-\" ? null : resolution,\n        chain,\n        positions,\n        protvistaFeatureId: id,\n      };\n    });\n\nconst getColumnConfig = () => ({\n  type: {\n    label: \"PDB Entry\",\n    resolver: ({ id }) => id,\n  },\n  method: {\n    label: \"Method\",\n    resolver: ({ method }) => method,\n  },\n  resolution: {\n    label: \"Resolution\",\n    resolver: ({ resolution }) => resolution && resolution.replace(\"A\", \"\"),\n  },\n  chain: {\n    label: \"Chain\",\n    resolver: ({ chain }) => chain,\n  },\n  positions: {\n    label: \"Positions\",\n    resolver: ({ positions }) => positions,\n  },\n  links: {\n    label: \"Links\",\n    resolver: ({ id }) =>\n      html`\n        ${PDBLinks.map((pdbLink) => {\n          return html` <a href=\"${pdbLink.link}${id}\">${pdbLink.name}</a> `;\n        }).reduce((prev, curr) => html` ${prev}  ${curr} `)}\n      `,\n  },\n});\n\nclass ProtvistaUniprotStructure extends LitElement {\n  constructor() {\n    super();\n    loadComponent(\"protvista-structure\", ProtvistaStructure);\n    loadComponent(\"protvista-datatable\", ProtvistaDatatable);\n    this.onTableRowClick = this.onTableRowClick.bind(this);\n  }\n\n  static get properties() {\n    return {\n      accession: { type: String },\n      pdbId: { type: String },\n      data: { type: Object },\n    };\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    if (!this.accession) return;\n    const url = `https://www.ebi.ac.uk/proteins/api/proteins/${this.accession}`;\n    const { payload } = await load(url);\n    if (!payload) return;\n    const data = processData(payload);\n    if (!data || !data.length) return;\n    this.data = data;\n    const protvistaDatatableElt = this.querySelector(\"protvista-datatable\");\n    // Select the first element in the table\n    this.pdbId = this.data[0].id;\n    protvistaDatatableElt.columns = getColumnConfig();\n    protvistaDatatableElt.data = this.data;\n    protvistaDatatableElt.rowClickEvent = this.onTableRowClick;\n    protvistaDatatableElt.selectedid = this.pdbId;\n  }\n\n  onTableRowClick({ id }) {\n    this.pdbId = id;\n  }\n\n  /**\n   * LiteMol doesn't work well with the Shadow DOM, therefore\n   * we need to use the light DOM.\n   * */\n  createRenderRoot() {\n    return this;\n  }\n\n  render() {\n    return html`\n      <div>\n        ${this.pdbId\n          ? html`<protvista-structure\n              pdb-id=${this.pdbId}\n              accession=${this.accession}\n            ></protvista-structure>`\n          : html``}\n        <protvista-datatable noScrollToRow noDeselect></protvista-datatable>\n      </div>\n    `;\n  }\n}\n\nexport default ProtvistaUniprotStructure;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import { scaleLinear } from \"d3-scale\";\n\nconst scaleColors = {\n  UPDiseaseColor: \"#990000\",\n  UPNonDiseaseColor: \"#99cc00\",\n  deleteriousColor: \"#002594\",\n  benignColor: \"#8FE3FF\",\n  othersColor: \"#009e73\"\n};\n\nconst consequences = {\n  likelyDisease: [/disease/i, /pathogenic\\b/i, /risk factor/i],\n  likelyBenign: [/benign/i],\n  uncertain: [/uncertain/i, /conflicting/i, /unclassified/i]\n};\n\nconst significanceMatches = (clinicalSignificance, values) =>\n  values.some(rx => rx.test(clinicalSignificance));\n\nconst getFilteredVariants = (variants, callbackFilter) =>\n  variants.map(variant => {\n    const matchingVariants = variant.variants.filter(variantPos =>\n      callbackFilter(variantPos)\n    );\n    return {\n      ...variant,\n      variants: [...matchingVariants]\n    };\n  });\n\nconst filterConfig = [\n  {\n    name: \"disease\",\n    type: {\n      name: \"consequence\",\n      text: \"Filter Consequence\"\n    },\n    options: {\n      labels: [\"Likely disease\"],\n      colors: [scaleColors.UPDiseaseColor]\n    },\n    filterData: variants =>\n      getFilteredVariants(variants, variantPos =>\n        significanceMatches(\n          variantPos.clinicalSignificances,\n          consequences.likelyDisease\n        )\n      )\n  },\n  {\n    name: \"predicted\",\n    type: {\n      name: \"consequence\",\n      text: \"Filter Consequence\"\n    },\n    options: {\n      labels: [\"Predicted deleterious\", \"Predicted benign\"],\n      colors: [scaleColors.deleteriousColor, scaleColors.benignColor]\n    },\n    filterData: variants =>\n      getFilteredVariants(\n        variants,\n        variantPos =>\n          typeof variantPos.polyphenScore !== \"undefined\" ||\n          typeof variantPos.siftScore !== \"undefined\"\n      )\n  },\n  {\n    name: \"nonDisease\",\n    type: {\n      name: \"consequence\",\n      text: \"Filter Consequence\"\n    },\n    options: {\n      labels: [\"Likely benign\"],\n      colors: [scaleColors.UPNonDiseaseColor]\n    },\n    filterData: variants =>\n      getFilteredVariants(variants, variantPos =>\n        significanceMatches(\n          variantPos.clinicalSignificances,\n          consequences.likelyBenign\n        )\n      )\n  },\n  {\n    name: \"uncertain\",\n    type: {\n      name: \"consequence\",\n      text: \"Filter Consequence\"\n    },\n    options: {\n      labels: [\"Uncertain\"],\n      colors: [scaleColors.othersColor]\n    },\n    filterData: variants =>\n      getFilteredVariants(\n        variants,\n        variantPos =>\n          (typeof variantPos.clinicalSignificances === \"undefined\" &&\n            typeof variantPos.polyphenScore === \"undefined\" &&\n            typeof variantPos.siftScore === \"undefined\") ||\n          significanceMatches(\n            variantPos.clinicalSignificances,\n            consequences.uncertain\n          )\n      )\n  },\n  {\n    name: \"UniProt\",\n    type: {\n      name: \"provenance\",\n      text: \"Filter Provenance\"\n    },\n    options: {\n      labels: [\"UniProt reviewed\"],\n      colors: [\"#9f9f9f\"]\n    },\n    filterData: variants =>\n      getFilteredVariants(\n        variants,\n        variantPos =>\n          variantPos.xrefNames &&\n          (variantPos.xrefNames.includes(\"uniprot\") ||\n            variantPos.xrefNames.includes(\"UniProt\"))\n      )\n  },\n  {\n    name: \"ClinVar\",\n    type: {\n      name: \"provenance\",\n      text: \"Filter Provenance\"\n    },\n    options: {\n      labels: [\"ClinVar reviewed\"],\n      colors: [\"#9f9f9f\"]\n    },\n    filterData: variants =>\n      getFilteredVariants(\n        variants,\n        variantPos =>\n          variantPos.xrefNames &&\n          (variantPos.xrefNames.includes(\"ClinVar\") ||\n            variantPos.xrefNames.includes(\"clinvar\"))\n      )\n  },\n  {\n    name: \"LSS\",\n    type: {\n      name: \"provenance\",\n      text: \"Filter Provenance\"\n    },\n    options: {\n      labels: [\"Large scale studies\"],\n      colors: [\"#9f9f9f\"]\n    },\n    filterData: variants =>\n      getFilteredVariants(\n        variants,\n        variantPos =>\n          variantPos.sourceType === \"large_scale_study\" ||\n          variantPos.sourceType === \"mixed\"\n      )\n  }\n];\n\nconst predictionScale = scaleLinear()\n  .domain([0, 1])\n  .range([scaleColors.deleteriousColor, scaleColors.benignColor]);\n\nconst getPredictionColor = (polyphenScore, siftScore) => {\n  return predictionScale(\n    (siftScore || 0 + (1 - polyphenScore ? polyphenScore : 1)) /\n      (polyphenScore && siftScore ? 2 : 1)\n  );\n};\n\nexport const colorConfig = variant => {\n  const variantWrapper = [{ variants: [variant] }];\n  if (\n    filterConfig\n      .find(filter => filter.name === \"disease\")\n      .filterData(variantWrapper)[0].variants.length > 0\n  ) {\n    return scaleColors.UPDiseaseColor;\n  }\n  if (\n    filterConfig\n      .find(filter => filter.name === \"nonDisease\")\n      .filterData(variantWrapper)[0].variants.length > 0\n  ) {\n    return scaleColors.UPNonDiseaseColor;\n  }\n  if (\n    filterConfig\n      .find(filter => filter.name === \"uncertain\")\n      .filterData(variantWrapper)[0].variants.length > 0\n  ) {\n    return scaleColors.othersColor;\n  }\n  if (\n    filterConfig\n      .find(filter => filter.name === \"predicted\")\n      .filterData(variantWrapper)[0].variants.length > 0\n  ) {\n    return getPredictionColor(variant.polyphenScore, variant.siftScore);\n  }\n  return scaleColors.othersColor;\n};\n\nexport default filterConfig;\n","import { LitElement, html } from \"lit-element\";\nimport { sleep, frame } from \"timing-functions\";\n// components\nimport ProtvistaNavigation from \"protvista-navigation\";\nimport ProtvistaTooltip from \"protvista-tooltip\";\nimport ProtvistaTrack from \"protvista-track\";\nimport ProtvistaInterproTrack from \"protvista-interpro-track\";\nimport ProtvistaSequence from \"protvista-sequence\";\nimport ProtvistaVariation from \"protvista-variation\";\nimport ProtvistaVariationGraph from \"protvista-variation-graph\";\nimport ProtvistaFilter from \"protvista-filter\";\nimport ProtvistaManager from \"protvista-manager\";\n\nimport { load } from \"data-loader\";\n// adapters\nimport { transformData as _transformDataFeatureAdapter } from \"protvista-feature-adapter\";\nimport { transformData as _transformDataProteomicsAdapter } from \"protvista-proteomics-adapter\";\nimport { transformData as _transformDataStructureAdapter } from \"protvista-structure-adapter\";\nimport { transformData as _transformDataVariationAdapter } from \"protvista-variation-adapter\";\nimport { transformData as _transformDataInterproAdapter } from \"protvista-interpro-adapter\";\n\nimport defaultConfig from \"./config.json\";\nimport ProtvistaUniprotStructure from \"./protvista-uniprot-structure\";\nimport { loadComponent } from \"./loadComponents.js\";\nimport filterConfig, { colorConfig } from \"./filterConfig\";\n\nexport const transformDataFeatureAdapter = _transformDataFeatureAdapter;\nexport const transformDataProteomicsAdapter = _transformDataProteomicsAdapter;\nexport const transformDataStructureAdapter = _transformDataStructureAdapter;\nexport const transformDataVariationAdapter = _transformDataVariationAdapter;\nexport const transformDataInterproAdapter = _transformDataInterproAdapter;\n\nconst adapters = {\n  \"protvista-feature-adapter\": transformDataFeatureAdapter,\n  \"protvista-interpro-adapter\": transformDataInterproAdapter,\n  \"protvista-proteomics-adapter\": transformDataProteomicsAdapter,\n  \"protvista-structure-adapter\": transformDataStructureAdapter,\n  \"protvista-variation-adapter\": transformDataVariationAdapter,\n};\n\nclass ProtvistaUniprot extends LitElement {\n  constructor() {\n    super();\n    this.openCategories = [];\n    this.notooltip = false;\n    this.nostructure = false;\n    this.hasData = false;\n    this.data = {};\n    this.displayCoordinates = null;\n  }\n\n  static get properties() {\n    return {\n      suspend: { type: Boolean, reflect: true },\n      accession: { type: String, reflect: true },\n      sequence: { type: String },\n      data: { type: Object },\n      openCategories: { type: Array },\n      config: { type: Object },\n      notooltip: { type: Boolean, reflect: true },\n      nostructure: { type: Boolean, reflect: true },\n    };\n  }\n\n  get cssStyle() {\n    return html`\n      <style>\n        protvista-tooltip a {\n          text-decoration: underline;\n        }\n        .track-content {\n          width: 80vw;\n        }\n\n        .nav-container,\n        .category,\n        .category__track {\n          display: flex;\n          margin-bottom: 0.1rem;\n        }\n\n        .category-label,\n        .track-label,\n        .action-buttons,\n        .credits {\n          width: 20vw;\n          padding: 0.5em;\n        }\n\n        .action-buttons {\n          display: flex;\n          justify-content: flex-end;\n          align-items: flex-end;\n        }\n\n        .category-label {\n          background-color: #b2f5ff;\n          cursor: pointer;\n        }\n\n        .category-label::before {\n          content: \" \";\n          display: inline-block;\n          width: 0;\n          height: 0;\n          border-top: 5px solid transparent;\n          border-bottom: 5px solid transparent;\n          border-left: 5px solid #333;\n          margin-right: 5px;\n          -webkit-transition: all 0.1s;\n          /* Safari */\n          -o-transition: all 0.1s;\n          transition: all 0.1s;\n        }\n\n        .category-label.open::before {\n          content: \" \";\n          display: inline-block;\n          width: 0;\n          height: 0;\n          border-left: 5px solid transparent;\n          border-right: 5px solid transparent;\n          border-top: 5px solid #333;\n          margin-right: 5px;\n        }\n\n        .track-label {\n          background-color: #d9faff;\n        }\n\n        protvista-track {\n          border-top: 1px solid #d9faff;\n        }\n\n        .feature {\n          cursor: pointer;\n        }\n      </style>\n    `;\n  }\n\n  registerWebComponents() {\n    loadComponent(\"protvista-navigation\", ProtvistaNavigation);\n    loadComponent(\"protvista-tooltip\", ProtvistaTooltip);\n    loadComponent(\"protvista-track\", ProtvistaTrack);\n    loadComponent(\"protvista-interpro-track\", ProtvistaInterproTrack);\n    loadComponent(\"protvista-sequence\", ProtvistaSequence);\n    loadComponent(\"protvista-variation\", ProtvistaVariation);\n    loadComponent(\"protvista-variation-graph\", ProtvistaVariationGraph);\n    loadComponent(\"protvista-filter\", ProtvistaFilter);\n    loadComponent(\"protvista-manager\", ProtvistaManager);\n    loadComponent(\"protvista-uniprot-structure\", ProtvistaUniprotStructure);\n  }\n\n  _loadData() {\n    const tasks = this.config.categories.map(\n      ({ name, url, adapter, tracks }) => {\n        const urlWithProtein =\n          url.indexOf(\"{}\") >= 0\n            ? url.replace(\"{}\", this.accession)\n            : `${url}${this.accession}`;\n        // TODO: remove this conditional setTimeout when InterPro API more stable\n        // NOTE: this is just to ensure the InterPro fetches are enqueued last\n        return sleep(/interpro/.test(urlWithProtein) ? 100 : 0)\n          .then(() => load(urlWithProtein))\n          .then(({ payload }) => {\n            if (!payload) return;\n            const data = adapter ? adapters[adapter](payload) : payload;\n            this.data[name] =\n              adapter === \"protvista-feature-adapter\"\n                ? data.filter(({ category }) => !category || category === name)\n                : data;\n            if (tracks) {\n              for (const track of tracks) {\n                this.data[`${name}-${track.name}`] =\n                  Array.isArray(data) && track.filter\n                    ? data.filter(({ type }) => type === track.filter)\n                    : data;\n              }\n            } else if (Array.isArray(data)) {\n              // if tracks are not defined we create a track per item in the result\n              for (const item of data) {\n                this.data[`${name}-${item.accession}`] = [item];\n              }\n            }\n            this.requestUpdate();\n          });\n      }\n    );\n    return Promise.all(tasks);\n  }\n\n  async _loadDataInComponents() {\n    await frame();\n    Object.entries(this.data).forEach(([id, data]) => {\n      const element = document.getElementById(`track-${id}`);\n      // set data if it hasn't changed\n      if (element && element.data !== data) element.data = data;\n      const currentCategory = this.config.categories.filter(\n        ({ name }) => name === id\n      );\n      if (currentCategory.length && currentCategory[0].tracks) {\n        for (const track of currentCategory[0].tracks) {\n          const elementTrack = document.getElementById(\n            `track-${id}-${track.name}`\n          );\n          if (elementTrack) {\n            elementTrack.data = this.data[`${id}-${track.name}`];\n          }\n        }\n      }\n    });\n  }\n\n  updated(changedProperties) {\n    super.updated(changedProperties);\n\n    const filterComponent = this.querySelector(\"protvista-filter\");\n    if (filterComponent && filterComponent.filters !== filterConfig) {\n      filterComponent.filters = filterConfig;\n    }\n\n    const variationComponent = this.querySelector(\"protvista-variation\");\n    if (variationComponent && variationComponent.colorConfig !== colorConfig) {\n      variationComponent.colorConfig = colorConfig;\n    }\n\n    if (changedProperties.has(\"suspend\")) {\n      if (this.suspend) return;\n      this._init();\n    }\n\n    this._loadDataInComponents();\n  }\n\n  _init() {\n    if (!this.config) {\n      this.config = defaultConfig;\n    }\n\n    if (!this.accession) return;\n    this.loadEntry(this.accession).then((entryData) => {\n      this.sequence = entryData.sequence.sequence;\n      this.displayCoordinates = { start: 1, end: this.sequence.length };\n      // We need to get the length of the protein before rendering it\n    });\n    this._loadData();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.registerWebComponents();\n\n    if (!this.suspend) this._init();\n\n    this.addEventListener(\"change\", (e) => {\n      if (e.detail.displaystart) {\n        this.displayCoordinates.start = e.detail.displaystart;\n      }\n      if (e.detail.displayend) {\n        this.displayCoordinates.end = e.detail.displayend;\n      }\n\n      if (!this.notooltip) {\n        if (!e.detail.eventtype) {\n          this._resetTooltip();\n        } else if (e.detail.eventtype === \"click\") {\n          this.updateTooltip(e, true);\n        }\n      }\n    });\n\n    if (!this.notooltip) {\n      this.addEventListener(\"click\", (e) => {\n        if (\n          !e.target.closest(\".feature\") &&\n          !e.target.closest(\"protvista-tooltip\")\n        ) {\n          const tooltip = this.querySelector(\"protvista-tooltip\");\n          tooltip.visible = false;\n        }\n      });\n      document.addEventListener(\"click\", this._resetTooltip);\n    }\n\n    this.addEventListener(\"load\", (e) => {\n      if (!this.hasData) {\n        this.dispatchEvent(\n          new CustomEvent(\"protvista-event\", {\n            detail: {\n              hasData: true,\n            },\n            bubbles: true,\n          })\n        );\n        this.hasData = true;\n      }\n    });\n  }\n\n  disconnectedCallback() {\n    if (!this.notooltip) {\n      document.removeEventListener(\"click\", this._resetTooltip);\n    }\n  }\n\n  _resetTooltip(e) {\n    if (this && (!e || !e.target.closest(\"protvista-uniprot\"))) {\n      const tooltip = this.querySelector(\"protvista-tooltip\");\n      if (tooltip) tooltip.visible = false;\n    }\n  }\n\n  async loadEntry(accession) {\n    try {\n      return await (\n        await fetch(`https://www.ebi.ac.uk/proteins/api/proteins/${accession}`)\n      ).json();\n    } catch (e) {\n      console.error(`Couldn't load UniProt entry`, e);\n    }\n  }\n\n  /**\n   * LiteMol doesn't work well with the Shadow DOM, therefore\n   * we need to use the light DOM.\n   * */\n  createRenderRoot() {\n    return this;\n  }\n\n  render() {\n    if (!this.sequence || !this.config || this.suspend) {\n      return html``;\n    }\n    return html`\n      ${this.cssStyle}\n      <protvista-manager\n        attributes=\"length displaystart displayend highlight activefilters filters\"\n        additionalsubscribers=\"protvista-structure\"\n      >\n        <div class=\"nav-container\">\n          <div class=\"action-buttons\">\n            <download-panel\n              accession=\"${this.accession}\"\n              config=\"${JSON.stringify(this.config.download)}\"\n            />\n          </div>\n          <div class=\"track-content\">\n            <protvista-navigation\n              length=\"${this.sequence.length}\"\n            ></protvista-navigation>\n            <protvista-sequence\n              length=\"${this.sequence.length}\"\n              sequence=\"${this.sequence}\"\n              displaystart=${this.displayCoordinates.start}\n              displayend=\"${this.displayCoordinates.end}\"\n            ></protvista-sequence>\n          </div>\n        </div>\n        ${this.config.categories.map(\n          (category) =>\n            this.data[category.name] &&\n            html`\n              <div class=\"category\" id=\"category_${category.name}\">\n                <div\n                  class=\"category-label\"\n                  data-category-toggle=\"${category.name}\"\n                  @click=\"${this.handleCategoryClick}\"\n                >\n                  ${category.label}\n                </div>\n\n                <div\n                  data-id=\"category_${category.name}\"\n                  class=\"aggregate-track-content track-content\"\n                  .style=\"${this.openCategories.includes(category.name)\n                    ? \"opacity:0\"\n                    : \"opacity:1\"}\"\n                >\n                  ${this.data[category.name] &&\n                  this.getTrack(\n                    category.trackType,\n                    \"non-overlapping\",\n                    category.color,\n                    category.shape,\n                    category.name\n                  )}\n                </div>\n              </div>\n\n              <!-- Expanded Categories -->\n              ${category.tracks &&\n              category.tracks.map((track) => {\n                if (this.openCategories.includes(category.name)) {\n                  const trackData = this.data[`${category.name}-${track.name}`];\n                  return trackData &&\n                    ((Array.isArray(trackData) && trackData.length) ||\n                      Object.keys(trackData).length)\n                    ? html`\n                        <div class=\"category__track\" id=\"track_${track.name}\">\n                          <div class=\"track-label\" title=\"${track.tooltip}\">\n                            ${track.filterComponent\n                              ? this.getFilterComponent(\n                                  `${category.name}-${track.name}`\n                                )\n                              : track.label}\n                          </div>\n                          <div\n                            class=\"track-content\"\n                            data-id=\"track_${track.name}\"\n                          >\n                            ${this.getTrack(\n                              track.trackType,\n                              \"non-overlapping\",\n                              track.color || category.color,\n                              track.shape || category.shape,\n                              `${category.name}-${track.name}`\n                            )}\n                          </div>\n                        </div>\n                      `\n                    : \"\";\n                }\n              })}\n              ${!category.tracks\n                ? this.data[category.name].map((item) => {\n                    if (this.openCategories.includes(category.name)) {\n                      if (!item || !item.accession) return \"\";\n                      return html`\n                        <div\n                          class=\"category__track\"\n                          id=\"track_${item.accession}\"\n                        >\n                          <div class=\"track-label\" title=\"${item.accession}\">\n                            ${item.accession}\n                          </div>\n                          <div\n                            class=\"track-content\"\n                            data-id=\"track_${item.accession}\"\n                          >\n                            ${this.getTrack(\n                              category.trackType,\n                              \"non-overlapping\",\n                              category.color,\n                              category.shape,\n                              `${category.name}-${item.accession}`\n                            )}\n                          </div>\n                        </div>\n                      `;\n                    }\n                  })\n                : \"\"}\n            `\n        )}\n        <div class=\"nav-container\">\n          <div class=\"credits\"></div>\n          <div class=\"track-content\">\n            <protvista-sequence\n              length=\"${this.sequence.length}\"\n              sequence=\"${this.sequence}\"\n              displaystart=${this.displayCoordinates.start}\n              displayend=\"${this.displayCoordinates.end}\"\n            ></protvista-sequence>\n          </div>\n        </div>\n        ${!this.nostructure\n          ? html`\n              <protvista-uniprot-structure\n                accession=\"${this.accession || \"\"}\"\n              ></protvista-uniprot-structure>\n            `\n          : \"\"}\n        <protvista-tooltip />\n      </protvista-manager>\n    `;\n  }\n\n  async updateTooltip(e) {\n    const d = e.detail.feature;\n\n    if (!d.tooltipContent) return;\n\n    const tooltip = this.querySelector(\"protvista-tooltip\");\n    tooltip.title = `${d.type} ${d.start}-${d.end}`;\n    tooltip.innerHTML = d.tooltipContent;\n    tooltip.visible = true;\n\n    const [x, y] = e.detail.coords;\n\n    tooltip.x = x;\n    tooltip.y = y;\n  }\n\n  handleCategoryClick(e) {\n    const toggle = e.target.getAttribute(\"data-category-toggle\");\n    if (!e.target.classList.contains(\"open\")) {\n      e.target.classList.add(\"open\");\n      this.openCategories = [...this.openCategories, toggle];\n    } else {\n      e.target.classList.remove(\"open\");\n      this.openCategories = [...this.openCategories].filter(\n        (d) => d !== toggle\n      );\n    }\n  }\n\n  getCategoryTypesAsString(tracks) {\n    return tracks.map((t) => t.filter).join(\",\");\n  }\n\n  getFilterComponent(forId) {\n    return html`\n      <protvista-filter\n        style=\"minWidth: 20%\"\n        for=\"track-${forId}\"\n      ></protvista-filter>\n    `;\n  }\n\n  getTrack(trackType, layout = \"\", color = \"\", shape = \"\", id = \"\") {\n    // lit-html doesn't allow to have dynamic tag names, hence the switch/case\n    // with repeated code\n    switch (trackType) {\n      case \"protvista-track\":\n        return html`\n          <protvista-track\n            length=\"${this.sequence.length}\"\n            layout=\"${layout}\"\n            color=\"${color}\"\n            shape=\"${shape}\"\n            displaystart=\"${this.displayCoordinates.start}\"\n            displayend=\"${this.displayCoordinates.end}\"\n            id=\"track-${id}\"\n          >\n          </protvista-track>\n        `;\n      case \"protvista-interpro-track\":\n        return html`\n          <protvista-interpro-track\n            length=\"${this.sequence.length}\"\n            color=\"${color}\"\n            shape=\"${shape}\"\n            displaystart=\"${this.displayCoordinates.start}\"\n            displayend=\"${this.displayCoordinates.end}\"\n            id=\"track-${id}\"\n          >\n          </protvista-interpro-track>\n        `;\n      case \"protvista-variation\":\n        return html`\n          <protvista-variation\n            length=\"${this.sequence.length}\"\n            displaystart=\"${this.displayCoordinates.start}\"\n            displayend=\"${this.displayCoordinates.end}\"\n            id=\"track-${id}\"\n          >\n          </protvista-variation>\n        `;\n      case \"protvista-variation-graph\":\n        return html`\n          <protvista-variation-graph\n            length=\"${this.sequence.length}\"\n            displaystart=\"${this.displayCoordinates.start}\"\n            displayend=\"${this.displayCoordinates.end}\"\n            id=\"track-${id}\"\n          >\n          </protvista-variation-graph>\n        `;\n      default:\n        console.warn(\"No Matching ProtvistaTrack Found.\");\n        break;\n    }\n  }\n}\n\nexport default ProtvistaUniprot;\n","import React from 'react';\nexport var ReactReduxContext =\n/*#__PURE__*/\nReact.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactReduxContext.displayName = 'ReactRedux';\n}\n\nexport default ReactReduxContext;","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nvar batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport var setBatch = function setBatch(newBatch) {\n  return batch = newBatch;\n}; // Supply a getter just to skip dealing with ESM bindings\n\nexport var getBatch = function getBatch() {\n  return batch;\n};","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  var batch = getBatch();\n  var first = null;\n  var last = null;\n  return {\n    clear: function clear() {\n      first = null;\n      last = null;\n    },\n    notify: function notify() {\n      batch(function () {\n        var listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get: function get() {\n      var listeners = [];\n      var listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n    subscribe: function subscribe(callback) {\n      var isSubscribed = true;\n      var listener = last = {\n        callback: callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(store, parentSub) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n    this.handleChangeWrapper = this.handleChangeWrapper.bind(this);\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  _proto.handleChangeWrapper = function handleChangeWrapper() {\n    if (this.onStateChange) {\n      this.onStateChange();\n    }\n  };\n\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.handleChangeWrapper) : this.store.subscribe(this.handleChangeWrapper);\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nexport { Subscription as default };","import React, { useMemo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ReactReduxContext } from './Context';\nimport Subscription from '../utils/Subscription';\n\nfunction Provider(_ref) {\n  var store = _ref.store,\n      context = _ref.context,\n      children = _ref.children;\n  var contextValue = useMemo(function () {\n    var subscription = new Subscription(store);\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    return {\n      store: store,\n      subscription: subscription\n    };\n  }, [store]);\n  var previousState = useMemo(function () {\n    return store.getState();\n  }, [store]);\n  useEffect(function () {\n    var subscription = contextValue.subscription;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return function () {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = null;\n    };\n  }, [contextValue, previousState]);\n  var Context = context || ReactReduxContext;\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  Provider.propTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    }),\n    context: PropTypes.object,\n    children: PropTypes.any\n  };\n}\n\nexport default Provider;","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport hoistStatics from 'hoist-non-react-statics';\nimport React, { useContext, useMemo, useRef, useReducer } from 'react';\nimport { isValidElementType, isContextConsumer } from 'react-is';\nimport Subscription from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from './Context'; // Define some constant arrays just to avoid re-creating these\n\nvar EMPTY_ARRAY = [];\nvar NO_SUBSCRIPTION_ARRAY = [null, null];\n\nvar stringifyComponent = function stringifyComponent(Comp) {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\n\nfunction storeStateUpdatesReducer(state, action) {\n  var updateCount = state[1];\n  return [action.payload, updateCount + 1];\n}\n\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(function () {\n    return effectFunc.apply(void 0, effectArgs);\n  }, dependencies);\n}\n\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs) {\n  // We want to capture the wrapper props and child props we used for later comparisons\n  lastWrapperProps.current = wrapperProps;\n  lastChildProps.current = actualChildProps;\n  renderIsScheduled.current = false; // If the render was from a store update, clear out that reference and cascade the subscriber update\n\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n}\n\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch) {\n  // If we're not subscribed to the store, nothing to do here\n  if (!shouldHandleStateChanges) return; // Capture values for checking if and when this component unmounts\n\n  var didUnsubscribe = false;\n  var lastThrownError = null; // We'll run this callback every time a store subscription update propagates to this component\n\n  var checkForUpdates = function checkForUpdates() {\n    if (didUnsubscribe) {\n      // Don't run stale listeners.\n      // Redux doesn't guarantee unsubscriptions happen until next dispatch.\n      return;\n    }\n\n    var latestStoreState = store.getState();\n    var newChildProps, error;\n\n    try {\n      // Actually run the selector with the most recent store state and wrapper props\n      // to determine what the child props should be\n      newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n\n    if (!error) {\n      lastThrownError = null;\n    } // If the child props haven't changed, nothing to do here - cascade the subscription update\n\n\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      // Save references to the new child props.  Note that we track the \"child props from store update\"\n      // as a ref instead of a useState/useReducer because we need a way to determine if that value has\n      // been processed.  If this went into useState/useReducer, we couldn't clear out the value without\n      // forcing another re-render, which we don't want.\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true; // If the child props _did_ change (or we caught an error), this wrapper component needs to re-render\n\n      forceComponentUpdateDispatch({\n        type: 'STORE_UPDATED',\n        payload: {\n          error: error\n        }\n      });\n    }\n  }; // Actually subscribe to the nearest connected ancestor (or store)\n\n\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe(); // Pull data from the store after first render in case the store has\n  // changed since we began.\n\n  checkForUpdates();\n\n  var unsubscribeWrapper = function unsubscribeWrapper() {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n\n    if (lastThrownError) {\n      // It's possible that we caught an error due to a bad mapState function, but the\n      // parent re-rendered without this component and we're about to unmount.\n      // This shouldn't happen as long as we do top-down subscriptions correctly, but\n      // if we ever do those wrong, this throw will surface the error in our tests.\n      // In that case, throw the error from here so it doesn't get lost.\n      throw lastThrownError;\n    }\n  };\n\n  return unsubscribeWrapper;\n}\n\nvar initStateUpdates = function initStateUpdates() {\n  return [null, 0];\n};\n\nexport default function connectAdvanced(\n/*\r\n  selectorFactory is a func that is responsible for returning the selector function used to\r\n  compute new props from state, props, and dispatch. For example:\r\n      export default connectAdvanced((dispatch, options) => (state, props) => ({\r\n      thing: state.things[props.thingId],\r\n      saveThing: fields => dispatch(actionCreators.saveThing(props.thingId, fields)),\r\n    }))(YourComponent)\r\n    Access to dispatch is provided to the factory so selectorFactories can bind actionCreators\r\n  outside of their selector as an optimization. Options passed to connectAdvanced are passed to\r\n  the selectorFactory, along with displayName and WrappedComponent, as the second argument.\r\n    Note that selectorFactory is responsible for all caching/memoization of inbound and outbound\r\n  props. Do not use connectAdvanced directly without memoizing results between calls to your\r\n  selector, otherwise the Connect component will re-render on every state or props change.\r\n*/\nselectorFactory, // options object:\n_ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$getDisplayName = _ref2.getDisplayName,\n      getDisplayName = _ref2$getDisplayName === void 0 ? function (name) {\n    return \"ConnectAdvanced(\" + name + \")\";\n  } : _ref2$getDisplayName,\n      _ref2$methodName = _ref2.methodName,\n      methodName = _ref2$methodName === void 0 ? 'connectAdvanced' : _ref2$methodName,\n      _ref2$renderCountProp = _ref2.renderCountProp,\n      renderCountProp = _ref2$renderCountProp === void 0 ? undefined : _ref2$renderCountProp,\n      _ref2$shouldHandleSta = _ref2.shouldHandleStateChanges,\n      shouldHandleStateChanges = _ref2$shouldHandleSta === void 0 ? true : _ref2$shouldHandleSta,\n      _ref2$storeKey = _ref2.storeKey,\n      storeKey = _ref2$storeKey === void 0 ? 'store' : _ref2$storeKey,\n      _ref2$withRef = _ref2.withRef,\n      withRef = _ref2$withRef === void 0 ? false : _ref2$withRef,\n      _ref2$forwardRef = _ref2.forwardRef,\n      forwardRef = _ref2$forwardRef === void 0 ? false : _ref2$forwardRef,\n      _ref2$context = _ref2.context,\n      context = _ref2$context === void 0 ? ReactReduxContext : _ref2$context,\n      connectOptions = _objectWithoutPropertiesLoose(_ref2, [\"getDisplayName\", \"methodName\", \"renderCountProp\", \"shouldHandleStateChanges\", \"storeKey\", \"withRef\", \"forwardRef\", \"context\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderCountProp !== undefined) {\n      throw new Error(\"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension\");\n    }\n\n    if (withRef) {\n      throw new Error('withRef is removed. To access the wrapped instance, use a ref on the connected component');\n    }\n\n    var customStoreWarningMessage = 'To use a custom Redux store for specific components, create a custom React context with ' + \"React.createContext(), and pass the context object to React Redux's Provider and specific components\" + ' like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. ' + 'You may also pass a {context : MyContext} option to connect';\n\n    if (storeKey !== 'store') {\n      throw new Error('storeKey has been removed and does not do anything. ' + customStoreWarningMessage);\n    }\n  }\n\n  var Context = context;\n  return function wrapWithConnect(WrappedComponent) {\n    if (process.env.NODE_ENV !== 'production' && !isValidElementType(WrappedComponent)) {\n      throw new Error(\"You must pass a component to the function returned by \" + (methodName + \". Instead received \" + stringifyComponent(WrappedComponent)));\n    }\n\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n    var displayName = getDisplayName(wrappedComponentName);\n\n    var selectorFactoryOptions = _extends({}, connectOptions, {\n      getDisplayName: getDisplayName,\n      methodName: methodName,\n      renderCountProp: renderCountProp,\n      shouldHandleStateChanges: shouldHandleStateChanges,\n      storeKey: storeKey,\n      displayName: displayName,\n      wrappedComponentName: wrappedComponentName,\n      WrappedComponent: WrappedComponent\n    });\n\n    var pure = connectOptions.pure;\n\n    function createChildSelector(store) {\n      return selectorFactory(store.dispatch, selectorFactoryOptions);\n    } // If we aren't running in \"pure\" mode, we don't want to memoize values.\n    // To avoid conditionally calling hooks, we fall back to a tiny wrapper\n    // that just executes the given callback immediately.\n\n\n    var usePureOnlyMemo = pure ? useMemo : function (callback) {\n      return callback();\n    };\n\n    function ConnectFunction(props) {\n      var _useMemo = useMemo(function () {\n        // Distinguish between actual \"data\" props that were passed to the wrapper component,\n        // and values needed to control behavior (forwarded refs, alternate context instances).\n        // To maintain the wrapperProps object reference, memoize this destructuring.\n        var reactReduxForwardedRef = props.reactReduxForwardedRef,\n            wrapperProps = _objectWithoutPropertiesLoose(props, [\"reactReduxForwardedRef\"]);\n\n        return [props.context, reactReduxForwardedRef, wrapperProps];\n      }, [props]),\n          propsContext = _useMemo[0],\n          reactReduxForwardedRef = _useMemo[1],\n          wrapperProps = _useMemo[2];\n\n      var ContextToUse = useMemo(function () {\n        // Users may optionally pass in a custom context instance to use instead of our ReactReduxContext.\n        // Memoize the check that determines which context instance we should use.\n        return propsContext && propsContext.Consumer && isContextConsumer(React.createElement(propsContext.Consumer, null)) ? propsContext : Context;\n      }, [propsContext, Context]); // Retrieve the store and ancestor subscription via context, if available\n\n      var contextValue = useContext(ContextToUse); // The store _must_ exist as either a prop or in context.\n      // We'll check to see if it _looks_ like a Redux store first.\n      // This allows us to pass through a `store` prop that is just a plain value.\n\n      var didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      var didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n\n      if (process.env.NODE_ENV !== 'production' && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(\"Could not find \\\"store\\\" in the context of \" + (\"\\\"\" + displayName + \"\\\". Either wrap the root component in a <Provider>, \") + \"or pass a custom React context provider to <Provider> and the corresponding \" + (\"React context consumer to \" + displayName + \" in connect options.\"));\n      } // Based on the previous check, one of these must be true\n\n\n      var store = didStoreComeFromProps ? props.store : contextValue.store;\n      var childPropsSelector = useMemo(function () {\n        // The child props selector needs the store reference as an input.\n        // Re-create this selector whenever the store changes.\n        return createChildSelector(store);\n      }, [store]);\n\n      var _useMemo2 = useMemo(function () {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY; // This Subscription's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n\n        var subscription = new Subscription(store, didStoreComeFromProps ? null : contextValue.subscription); // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `subscription` will then be null. This can\n        // probably be avoided if Subscription's listeners logic is changed to not call listeners\n        // that have been unsubscribed in the  middle of the notification loop.\n\n        var notifyNestedSubs = subscription.notifyNestedSubs.bind(subscription);\n        return [subscription, notifyNestedSubs];\n      }, [store, didStoreComeFromProps, contextValue]),\n          subscription = _useMemo2[0],\n          notifyNestedSubs = _useMemo2[1]; // Determine what {store, subscription} value should be put into nested context, if necessary,\n      // and memoize that value to avoid unnecessary context updates.\n\n\n      var overriddenContextValue = useMemo(function () {\n        if (didStoreComeFromProps) {\n          // This component is directly subscribed to a store from props.\n          // We don't want descendants reading from this store - pass down whatever\n          // the existing context value is from the nearest connected ancestor.\n          return contextValue;\n        } // Otherwise, put this component's subscription instance into context, so that\n        // connected descendants won't update until after this component is done\n\n\n        return _extends({}, contextValue, {\n          subscription: subscription\n        });\n      }, [didStoreComeFromProps, contextValue, subscription]); // We need to force this wrapper component to re-render whenever a Redux store update\n      // causes a change to the calculated child component props (or we caught an error in mapState)\n\n      var _useReducer = useReducer(storeStateUpdatesReducer, EMPTY_ARRAY, initStateUpdates),\n          _useReducer$ = _useReducer[0],\n          previousStateUpdateResult = _useReducer$[0],\n          forceComponentUpdateDispatch = _useReducer[1]; // Propagate any mapState/mapDispatch errors upwards\n\n\n      if (previousStateUpdateResult && previousStateUpdateResult.error) {\n        throw previousStateUpdateResult.error;\n      } // Set up refs to coordinate values between the subscription effect and the render logic\n\n\n      var lastChildProps = useRef();\n      var lastWrapperProps = useRef(wrapperProps);\n      var childPropsFromStoreUpdate = useRef();\n      var renderIsScheduled = useRef(false);\n      var actualChildProps = usePureOnlyMemo(function () {\n        // Tricky logic here:\n        // - This render may have been triggered by a Redux store update that produced new child props\n        // - However, we may have gotten new wrapper props after that\n        // If we have new child props, and the same wrapper props, we know we should use the new child props as-is.\n        // But, if we have new wrapper props, those might change the child props, so we have to recalculate things.\n        // So, we'll use the child props from store update only if the wrapper props are the same as last time.\n        if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n          return childPropsFromStoreUpdate.current;\n        } // TODO We're reading the store directly in render() here. Bad idea?\n        // This will likely cause Bad Things (TM) to happen in Concurrent Mode.\n        // Note that we do this because on renders _not_ caused by store updates, we need the latest store state\n        // to determine what the child props should be.\n\n\n        return childPropsSelector(store.getState(), wrapperProps);\n      }, [store, previousStateUpdateResult, wrapperProps]); // We need this to execute synchronously every time we re-render. However, React warns\n      // about useLayoutEffect in SSR, so we try to detect environment and fall back to\n      // just useEffect instead to avoid the warning, since neither will run anyway.\n\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs]); // Our re-subscribe logic only runs when the store/subscription setup changes\n\n      useIsomorphicLayoutEffectWithArgs(subscribeUpdates, [shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch], [store, subscription, childPropsSelector]); // Now that all that's done, we can finally try to actually render the child component.\n      // We memoize the elements for the rendered child component as an optimization.\n\n      var renderedWrappedComponent = useMemo(function () {\n        return React.createElement(WrappedComponent, _extends({}, actualChildProps, {\n          ref: reactReduxForwardedRef\n        }));\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]); // If React sees the exact same element reference as last time, it bails out of re-rendering\n      // that child, same as if it was wrapped in React.memo() or returned false from shouldComponentUpdate.\n\n      var renderedChild = useMemo(function () {\n        if (shouldHandleStateChanges) {\n          // If this component is subscribed to store updates, we need to pass its own\n          // subscription instance down to our descendants. That means rendering the same\n          // Context instance, and putting a different value into the context.\n          return React.createElement(ContextToUse.Provider, {\n            value: overriddenContextValue\n          }, renderedWrappedComponent);\n        }\n\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    } // If we're in \"pure\" mode, ensure our wrapper component only re-renders when incoming props have changed.\n\n\n    var Connect = pure ? React.memo(ConnectFunction) : ConnectFunction;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = displayName;\n\n    if (forwardRef) {\n      var forwarded = React.forwardRef(function forwardConnectRef(props, ref) {\n        return React.createElement(Connect, _extends({}, props, {\n          reactReduxForwardedRef: ref\n        }));\n      });\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return hoistStatics(forwarded, WrappedComponent);\n    }\n\n    return hoistStatics(Connect, WrappedComponent);\n  };\n}","function is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nexport default function shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}","import verifyPlainObject from '../utils/verifyPlainObject';\nexport function wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch, options) {\n    var constant = getConstant(dispatch, options);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n//\n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n\nexport function getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== undefined ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n//\n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//\n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//\n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//\n\nexport function wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    var displayName = _ref.displayName;\n\n    var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      var props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}","import { bindActionCreators } from 'redux';\nimport { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nexport function whenMapDispatchToPropsIsFunction(mapDispatchToProps) {\n  return typeof mapDispatchToProps === 'function' ? wrapMapToPropsFunc(mapDispatchToProps, 'mapDispatchToProps') : undefined;\n}\nexport function whenMapDispatchToPropsIsMissing(mapDispatchToProps) {\n  return !mapDispatchToProps ? wrapMapToPropsConstant(function (dispatch) {\n    return {\n      dispatch: dispatch\n    };\n  }) : undefined;\n}\nexport function whenMapDispatchToPropsIsObject(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === 'object' ? wrapMapToPropsConstant(function (dispatch) {\n    return bindActionCreators(mapDispatchToProps, dispatch);\n  }) : undefined;\n}\nexport default [whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject];","import { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nexport function whenMapStateToPropsIsFunction(mapStateToProps) {\n  return typeof mapStateToProps === 'function' ? wrapMapToPropsFunc(mapStateToProps, 'mapStateToProps') : undefined;\n}\nexport function whenMapStateToPropsIsMissing(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(function () {\n    return {};\n  }) : undefined;\n}\nexport default [whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing];","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport verifyPlainObject from '../utils/verifyPlainObject';\nexport function defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return _extends({}, ownProps, {}, stateProps, {}, dispatchProps);\n}\nexport function wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, _ref) {\n    var displayName = _ref.displayName,\n        pure = _ref.pure,\n        areMergedPropsEqual = _ref.areMergedPropsEqual;\n    var hasRunOnce = false;\n    var mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n      if (hasRunOnce) {\n        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== 'production') verifyPlainObject(mergedProps, displayName, 'mergeProps');\n      }\n\n      return mergedProps;\n    };\n  };\n}\nexport function whenMergePropsIsFunction(mergeProps) {\n  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;\n}\nexport function whenMergePropsIsOmitted(mergeProps) {\n  return !mergeProps ? function () {\n    return defaultMergeProps;\n  } : undefined;\n}\nexport default [whenMergePropsIsFunction, whenMergePropsIsOmitted];","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport verifySubselectors from './verifySubselectors';\nexport function impureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch) {\n  return function impureFinalPropsSelector(state, ownProps) {\n    return mergeProps(mapStateToProps(state, ownProps), mapDispatchToProps(dispatch, ownProps), ownProps);\n  };\n}\nexport function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, _ref) {\n  var areStatesEqual = _ref.areStatesEqual,\n      areOwnPropsEqual = _ref.areOwnPropsEqual,\n      areStatePropsEqual = _ref.areStatePropsEqual;\n  var hasRunAtLeastOnce = false;\n  var state;\n  var ownProps;\n  var stateProps;\n  var dispatchProps;\n  var mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    var nextStateProps = mapStateToProps(state, ownProps);\n    var statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    var propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    var stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n} // TODO: Add more comments\n// If pure is true, the selector returned by selectorFactory will memoize its results,\n// allowing connectAdvanced's shouldComponentUpdate to return false if final\n// props have not changed. If false, the selector will always return a new\n// object and shouldComponentUpdate will always return true.\n\nexport default function finalPropsSelectorFactory(dispatch, _ref2) {\n  var initMapStateToProps = _ref2.initMapStateToProps,\n      initMapDispatchToProps = _ref2.initMapDispatchToProps,\n      initMergeProps = _ref2.initMergeProps,\n      options = _objectWithoutPropertiesLoose(_ref2, [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"]);\n\n  var mapStateToProps = initMapStateToProps(dispatch, options);\n  var mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  var mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps, options.displayName);\n  }\n\n  var selectorFactory = options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory;\n  return selectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport connectAdvanced from '../components/connectAdvanced';\nimport shallowEqual from '../utils/shallowEqual';\nimport defaultMapDispatchToPropsFactories from './mapDispatchToProps';\nimport defaultMapStateToPropsFactories from './mapStateToProps';\nimport defaultMergePropsFactories from './mergeProps';\nimport defaultSelectorFactory from './selectorFactory';\n/*\r\n  connect is a facade over connectAdvanced. It turns its args into a compatible\r\n  selectorFactory, which has the signature:\r\n\r\n    (dispatch, options) => (nextState, nextOwnProps) => nextFinalProps\r\n  \r\n  connect passes its args to connectAdvanced as options, which will in turn pass them to\r\n  selectorFactory each time a Connect component instance is instantiated or hot reloaded.\r\n\r\n  selectorFactory returns a final props selector from its mapStateToProps,\r\n  mapStateToPropsFactories, mapDispatchToProps, mapDispatchToPropsFactories, mergeProps,\r\n  mergePropsFactories, and pure args.\r\n\r\n  The resulting final props selector is called by the Connect component instance whenever\r\n  it receives new props or store state.\r\n */\n\nfunction match(arg, factories, name) {\n  for (var i = factories.length - 1; i >= 0; i--) {\n    var result = factories[i](arg);\n    if (result) return result;\n  }\n\n  return function (dispatch, options) {\n    throw new Error(\"Invalid value of type \" + typeof arg + \" for \" + name + \" argument when connecting component \" + options.wrappedComponentName + \".\");\n  };\n}\n\nfunction strictEqual(a, b) {\n  return a === b;\n} // createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\n\n\nexport function createConnect(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$connectHOC = _ref.connectHOC,\n      connectHOC = _ref$connectHOC === void 0 ? connectAdvanced : _ref$connectHOC,\n      _ref$mapStateToPropsF = _ref.mapStateToPropsFactories,\n      mapStateToPropsFactories = _ref$mapStateToPropsF === void 0 ? defaultMapStateToPropsFactories : _ref$mapStateToPropsF,\n      _ref$mapDispatchToPro = _ref.mapDispatchToPropsFactories,\n      mapDispatchToPropsFactories = _ref$mapDispatchToPro === void 0 ? defaultMapDispatchToPropsFactories : _ref$mapDispatchToPro,\n      _ref$mergePropsFactor = _ref.mergePropsFactories,\n      mergePropsFactories = _ref$mergePropsFactor === void 0 ? defaultMergePropsFactories : _ref$mergePropsFactor,\n      _ref$selectorFactory = _ref.selectorFactory,\n      selectorFactory = _ref$selectorFactory === void 0 ? defaultSelectorFactory : _ref$selectorFactory;\n\n  return function connect(mapStateToProps, mapDispatchToProps, mergeProps, _ref2) {\n    if (_ref2 === void 0) {\n      _ref2 = {};\n    }\n\n    var _ref3 = _ref2,\n        _ref3$pure = _ref3.pure,\n        pure = _ref3$pure === void 0 ? true : _ref3$pure,\n        _ref3$areStatesEqual = _ref3.areStatesEqual,\n        areStatesEqual = _ref3$areStatesEqual === void 0 ? strictEqual : _ref3$areStatesEqual,\n        _ref3$areOwnPropsEqua = _ref3.areOwnPropsEqual,\n        areOwnPropsEqual = _ref3$areOwnPropsEqua === void 0 ? shallowEqual : _ref3$areOwnPropsEqua,\n        _ref3$areStatePropsEq = _ref3.areStatePropsEqual,\n        areStatePropsEqual = _ref3$areStatePropsEq === void 0 ? shallowEqual : _ref3$areStatePropsEq,\n        _ref3$areMergedPropsE = _ref3.areMergedPropsEqual,\n        areMergedPropsEqual = _ref3$areMergedPropsE === void 0 ? shallowEqual : _ref3$areMergedPropsE,\n        extraOptions = _objectWithoutPropertiesLoose(_ref3, [\"pure\", \"areStatesEqual\", \"areOwnPropsEqual\", \"areStatePropsEqual\", \"areMergedPropsEqual\"]);\n\n    var initMapStateToProps = match(mapStateToProps, mapStateToPropsFactories, 'mapStateToProps');\n    var initMapDispatchToProps = match(mapDispatchToProps, mapDispatchToPropsFactories, 'mapDispatchToProps');\n    var initMergeProps = match(mergeProps, mergePropsFactories, 'mergeProps');\n    return connectHOC(selectorFactory, _extends({\n      // used in error messages\n      methodName: 'connect',\n      // used to compute Connect's displayName from the wrapped component's displayName.\n      getDisplayName: function getDisplayName(name) {\n        return \"Connect(\" + name + \")\";\n      },\n      // if mapStateToProps is falsy, the Connect component doesn't subscribe to store state changes\n      shouldHandleStateChanges: Boolean(mapStateToProps),\n      // passed through to selectorFactory\n      initMapStateToProps: initMapStateToProps,\n      initMapDispatchToProps: initMapDispatchToProps,\n      initMergeProps: initMergeProps,\n      pure: pure,\n      areStatesEqual: areStatesEqual,\n      areOwnPropsEqual: areOwnPropsEqual,\n      areStatePropsEqual: areStatePropsEqual,\n      areMergedPropsEqual: areMergedPropsEqual\n    }, extraOptions));\n  };\n}\nexport default\n/*#__PURE__*/\ncreateConnect();","import { useReducer, useRef, useMemo, useContext, useDebugValue } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport Subscription from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from '../components/Context';\n\nvar refEquality = function refEquality(a, b) {\n  return a === b;\n};\n\nfunction useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub) {\n  var _useReducer = useReducer(function (s) {\n    return s + 1;\n  }, 0),\n      forceRender = _useReducer[1];\n\n  var subscription = useMemo(function () {\n    return new Subscription(store, contextSub);\n  }, [store, contextSub]);\n  var latestSubscriptionCallbackError = useRef();\n  var latestSelector = useRef();\n  var latestStoreState = useRef();\n  var latestSelectedState = useRef();\n  var storeState = store.getState();\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || storeState !== latestStoreState.current || latestSubscriptionCallbackError.current) {\n      selectedState = selector(storeState);\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\n\";\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    latestSelector.current = selector;\n    latestStoreState.current = storeState;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(function () {\n    function checkForUpdates() {\n      try {\n        var newSelectedState = latestSelector.current(store.getState());\n\n        if (equalityFn(newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = newSelectedState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender();\n    }\n\n    subscription.onStateChange = checkForUpdates;\n    subscription.trySubscribe();\n    checkForUpdates();\n    return function () {\n      return subscription.tryUnsubscribe();\n    };\n  }, [store, subscription]);\n  return selectedState;\n}\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && !selector) {\n      throw new Error(\"You must pass a selector to useSelector\");\n    }\n\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    var selectedState = useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport var useSelector =\n/*#__PURE__*/\ncreateSelectorHook();","import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var committed = useRef(initial);\n  var isInputMatch = Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = isInputMatch ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\n\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };\n","import Provider from './components/Provider';\nimport connectAdvanced from './components/connectAdvanced';\nimport { ReactReduxContext } from './components/Context';\nimport connect from './connect/connect';\nimport { useDispatch, createDispatchHook } from './hooks/useDispatch';\nimport { useSelector, createSelectorHook } from './hooks/useSelector';\nimport { useStore, createStoreHook } from './hooks/useStore';\nimport { setBatch } from './utils/batch';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport shallowEqual from './utils/shallowEqual';\nsetBatch(batch);\nexport { Provider, connectAdvanced, ReactReduxContext, connect, batch, useDispatch, createDispatchHook, useSelector, createSelectorHook, useStore, createStoreHook, shallowEqual };","import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport rafSchd from 'raf-schd';\nimport ReactDOM from 'react-dom';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nfunction log(type, message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\n\nfunction noop() {}\n\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, {}, fromBinding);\n}\n\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction RbdInvariant(message) {\n  this.message = message;\n}\n\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n\n      var err = event.error;\n\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n\n      return _this.callbacks;\n    };\n\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n\n      this.setState({});\n      return;\n    }\n\n    throw err;\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar dragHandleUsageInstructions = \"\\n  Press space bar to start a drag.\\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\\n  Some screen readers may require you to be in focus mode or to use your pass through key\\n\";\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \"\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  dragHandleUsageInstructions: dragHandleUsageInstructions,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nfunction isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\nfunction values(map) {\n  if (Object.values) {\n    return Object.values(map);\n  }\n\n  return Object.keys(map).map(function (key) {\n    return map[key];\n  });\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n\n  return null;\n}\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n\n  return null;\n}\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var location = tryGetDestination(previousImpact);\n\n  if (!location) {\n    return null;\n  }\n\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!last) {\n    return true;\n  }\n\n  var invisible = last.invisible,\n      visible = last.visible;\n\n  if (invisible[id]) {\n    return false;\n  }\n\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\n\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\n\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n      destination = _ref.destination,\n      displacedBy = _ref.displacedBy,\n      viewport = _ref.viewport,\n      forceShouldAnimate = _ref.forceShouldAnimate,\n      last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\n\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\n\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n      inHomeList = _ref.inHomeList,\n      displacedBy = _ref.displacedBy,\n      destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\n\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n      insideDestination = _ref2.insideDestination,\n      destination = _ref2.destination,\n      viewport = _ref2.viewport,\n      displacedBy = _ref2.displacedBy,\n      last = _ref2.last,\n      index = _ref2.index,\n      forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\n\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      combine = _ref.combine,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n\n    return combineWithIndex - 1;\n  }\n\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n\n  return combineWithIndex;\n});\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      insideDestination = _ref.insideDestination,\n      location = _ref.location;\n\n  if (!insideDestination.length) {\n    return null;\n  }\n\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n\n  return proposedIndex;\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n\n    if (_newIndex == null) {\n      return null;\n    }\n\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n\n  if (newIndex == null) {\n    return null;\n  }\n\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      afterCritical = _ref.afterCritical,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar whenCombining = (function (_ref) {\n  var afterCritical = _ref.afterCritical,\n      impact = _ref.impact,\n      draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = impact.displaced,\n      displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (!at) {\n    return original;\n  }\n\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n\n    if (displacement) {\n      return displacement;\n    }\n  }\n\n  return null;\n}\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n\n    invisible[id] = true;\n  });\n\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n\n  return newImpact;\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n\n    return relativeTo + 1;\n  }();\n\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar whatIsDraggedOver = (function (impact) {\n  var at = impact.at;\n\n  if (!at) {\n    return null;\n  }\n\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n\n  return at.combine.droppableId;\n});\n\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\n\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\n\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n      draggable = _ref.draggable,\n      candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\n\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n      draggable = _ref2.draggable,\n      droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n\n    var active = item.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n\n    return crossAxisEnd > childCenter;\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\n\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\n\nvar withDroppableScroll = (function (droppable, area) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return area;\n  }\n\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n});\n\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n      id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\n\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n      closest = _ref.closest,\n      inHomeList = _ref.inHomeList;\n\n  if (!closest) {\n    return null;\n  }\n\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n\n  return closest.descriptor.index;\n}\n\nvar getReorderImpact = (function (_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      last = _ref2.last,\n      viewport = _ref2.viewport,\n      afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n\n      return targetStart < childCenter - displacement;\n    }\n\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n});\n\nvar combineThresholdDivisor = 4;\nvar getCombineImpact = (function (_ref) {\n  var draggable = _ref.draggable,\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\n      previousImpact = _ref.previousImpact,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n\n  if (!combineWith) {\n    return null;\n  }\n\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageOffset = _ref.pageOffset,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getLiftEffect = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar publishWhileDraggingInVirtual = (function (_ref) {\n  var state = _ref.state,\n      published = _ref.published;\n  start();\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n\n  var droppables = _extends({}, state.dimensions.droppables, {}, toDroppableMap(withScrollChange));\n\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n\n  var draggables = _extends({}, state.dimensions.draggables, {}, updatedAdditions);\n\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n\n  var _getLiftEffect = getLiftEffect({\n    draggable: draggable,\n    home: home,\n    draggables: draggables,\n    viewport: state.viewport\n  }),\n      onLiftImpact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish();\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, {\n    phase: 'DRAGGING',\n    impact: impact,\n    onLiftImpact: onLiftImpact,\n    dimensions: dimensions,\n    afterCritical: afterCritical,\n    forceShouldAnimate: false\n  });\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, {\n    phase: 'DROP_PENDING',\n    reason: state.reason,\n    isWaiting: false\n  });\n\n  return dropPending;\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n\n  return state;\n}\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getLiftEffect.impact,\n        afterCritical = _getLiftEffect.afterCritical;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      phase: 'COLLECTING'\n    });\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, {\n      phase: 'DROP_PENDING',\n      isWaiting: true,\n      reason: reason\n    });\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n\n  return state;\n});\n\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n\n  if (!Object.keys(errors).length) {\n    return;\n  }\n\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\n\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var draggables = _ref.draggables,\n      reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      onLiftImpact = _ref.onLiftImpact;\n\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        afterCritical: state.afterCritical,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n\n      update();\n    }\n  };\n}\n\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n\n  function isActive() {\n    return unbind !== noop;\n  }\n\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar scrollListener = (function (store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n\n      next(action);\n    };\n  };\n});\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start();\n  fn();\n  finish();\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n});\n\nvar dropAnimationFlushOnScroll = (function (store) {\n  var unbind = null;\n  var frameId = null;\n\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n\n      next(action);\n\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar focus = (function (marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        next(action);\n\n        if (!isWatching) {\n          return;\n        }\n\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n});\n\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      focusMarshal = _ref.focusMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n});\n\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n      callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n      var added = Object.keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n      var updated = Object.keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n      var result = {\n        additions: added,\n        removals: Object.keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish();\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      registry = _ref.registry;\n  start();\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish();\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n\n  return true;\n}\n\nvar createDimensionMarshal = (function (registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = Date.now();\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var start$1 = function start$1(state) {\n    start();\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n    var dragStartTime = Date.now();\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish();\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = 'data-rbd';\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (contextId) {\n  var getSelector = makeGetSelector(contextId);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n\n    if (!isMountedRef.current) {\n      return;\n    }\n\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n\n    if (!focused) {\n      return;\n    }\n\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\n\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n\n      if (index === -1) {\n        return;\n      }\n\n      subscribers.splice(index, 1);\n    };\n  }\n\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n\n      if (!current) {\n        return;\n      }\n\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\n\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('aria-atomic', 'true');\n\n    _extends(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        var body = getBodyElement();\n\n        if (body.contains(el)) {\n          body.removeChild(el);\n        }\n\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar count = 0;\nvar defaults = {\n  separator: '::'\n};\nfunction reset() {\n  count = 0;\n}\nfunction useUniqueId(prefix, options) {\n  if (options === void 0) {\n    options = defaults;\n  }\n\n  return useMemo(function () {\n    return \"\" + prefix + options.separator + count++;\n  }, [options.separator, prefix]);\n}\n\nfunction getElementId(_ref) {\n  var contextId = _ref.contextId,\n      uniqueId = _ref.uniqueId;\n  return \"rbd-hidden-text-\" + contextId + \"-\" + uniqueId;\n}\nfunction useHiddenTextElement(_ref2) {\n  var contextId = _ref2.contextId,\n      text = _ref2.text;\n  var uniqueId = useUniqueId('hidden-text', {\n    separator: '-'\n  });\n  var id = useMemo(function () {\n    return getElementId({\n      contextId: contextId,\n      uniqueId: uniqueId\n    });\n  }, [uniqueId, contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = text;\n    el.style.display = 'none';\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      var body = getBodyElement();\n\n      if (body.contains(el)) {\n        body.removeChild(el);\n      }\n    };\n  }, [id, text]);\n  return id;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5\",\n\t\"react-dom\": \"^16.8.5\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\n\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\n\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nfunction create() {\n  var lock = null;\n\n  function isClaimed() {\n    return Boolean(lock);\n  }\n\n  function isActive(value) {\n    return value === lock;\n  }\n\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\n\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\n\nvar idle$1 = {\n  type: 'IDLE'\n};\n\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n      completed = _ref.completed,\n      getPhase = _ref.getPhase,\n      setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.button !== primaryButton) {\n          return;\n        }\n\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var id = api.findClosestDraggableId(event);\n\n        if (!id) {\n          return;\n        }\n\n        var options = api.findOptionsForDraggable(id);\n\n        if (!options) {\n          return;\n        }\n\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n\n        if (!api.canGetLock(id)) {\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar _scrollJumpKeys;\n\nfunction noop$1() {}\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n\n  function drop() {\n    stop();\n    actions.drop();\n  }\n\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.keyCode !== space) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!preDrag) {\n          return;\n        }\n\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\n\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n      getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n      completed = _ref2.completed,\n      getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n\n      if (!touch) {\n        return;\n      }\n\n      var isForcePress = touch.force >= forcePressThreshold;\n\n      if (!isForcePress) {\n        return;\n      }\n\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n\n        return;\n      }\n\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor$1(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n            clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\n\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n}\n\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n\n  return isAnInteractiveElement(draggable, target);\n}\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar supportedMatchesName = function () {\n  var base = 'matches';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\n\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n\n  return closestPonyfill(el.parentElement, selector);\n}\n\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n\n  return closestPonyfill(el, selector);\n}\n\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\n\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n\n  if (!handle) {\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n\n  if (!handle) {\n    return null;\n  }\n\n  return handle.getAttribute(dragHandle.draggableId);\n}\n\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n\n  if (!draggable$1) {\n    return null;\n  }\n\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n\n  return draggable$1;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n      phase = _ref.phase,\n      isLockActive = _ref.isLockActive,\n      shouldWarn = _ref.shouldWarn;\n\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n      store = _ref2.store,\n      registry = _ref2.registry,\n      draggableId = _ref2.draggableId;\n\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n\n  var entry = registry.draggable.findById(draggableId);\n\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n      contextId = _ref3.contextId,\n      store = _ref3.store,\n      registry = _ref3.registry,\n      draggableId = _ref3.draggableId,\n      forceSensorStop = _ref3.forceSensorStop,\n      sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n\n  if (!shouldStart) {\n    return null;\n  }\n\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n\n  var tryDispatchWhenDragging = tryDispatch.bind(null, 'DRAGGING');\n\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n\n      args.cleanup();\n\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\n\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useMouseSensor$1];\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n      store = _ref4.store,\n      registry = _ref4.registry,\n      customSensors = _ref4.customSensors,\n      enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(function tryReleaseLock() {\n    if (!lockAPI.isClaimed()) {\n      return;\n    }\n\n    lockAPI.tryAbandon();\n\n    if (store.getState().phase !== 'IDLE') {\n      store.dispatch(flush());\n    }\n  }, [lockAPI, store]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var contextId = props.contextId,\n      setCallbacks = props.setCallbacks,\n      sensors = props.sensors,\n      nonce = props.nonce,\n      dragHandleUsageInstructions = props.dragHandleUsageInstructions;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var dragHandleUsageInstructionsId = useHiddenTextElement({\n    contextId: contextId,\n    text: dragHandleUsageInstructions\n  });\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      dragHandleUsageInstructionsId: dragHandleUsageInstructionsId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, dragHandleUsageInstructionsId, focusMarshal, getCanLift, getIsMovementAllowed, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar count$1 = 0;\nfunction reset$1() {\n  count$1 = 0;\n}\nfunction useInstanceCount() {\n  return useMemo(function () {\n    return \"\" + count$1++;\n  }, []);\n}\n\nfunction resetServerContext() {\n  reset$1();\n  reset();\n}\nfunction DragDropContext(props) {\n  var contextId = useInstanceCount();\n  var dragHandleUsageInstructions = props.dragHandleUsageInstructions || preset.dragHandleUsageInstructions;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      dragHandleUsageInstructions: dragHandleUsageInstructions,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\n\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n      marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop$2() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      contextId = props.contextId;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\n\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n      getPlaceholderRef = _ref4.getPlaceholderRef;\n\n  if (!props.placeholder) {\n    return;\n  }\n\n  var ref = getPlaceholderRef();\n\n  if (ref) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n      registry = args.registry,\n      getDraggableRef = args.getDraggableRef,\n      canDragInteractiveElements = args.canDragInteractiveElements,\n      shouldRespectForcePress = args.shouldRespectForcePress,\n      isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\n\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n\n    checkIsValidInnerRef(getRef());\n\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      contextId = _useRequiredContext.contextId,\n      dragHandleUsageInstructionsId = _useRequiredContext.dragHandleUsageInstructionsId,\n      registry = _useRequiredContext.registry;\n\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n      type = _useRequiredContext2.type,\n      droppableId = _useRequiredContext2.droppableId;\n\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isEnabled = props.isEnabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.canDragInteractiveElements,\n      isClone = props.isClone,\n      mapped = props.mapped,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      role: 'button',\n      'aria-describedby': dragHandleUsageInstructionsId,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, dragHandleUsageInstructionsId, draggableId, isEnabled]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\n\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\n\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\n\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n\n      var change = negate(afterCritical.displacedBy.point);\n\n      var _offset = memoizedOffset(change.x, change.y);\n\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\n\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n\n  return React.createElement(ConnectedDraggable, props);\n}\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      mode = props.mode,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      useClone = props.useClone,\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\n      getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n\n    var dragging = useClone.dragging,\n        render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n\n      if (isHome) {\n        return idleWithAnimation;\n      }\n\n      return idleWithoutAnimation;\n    }\n\n    return idleWithoutAnimation;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\n\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\n\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\n","export default class Region {\n  constructor({ min = -Infinity, max = Infinity } = {}) {\n    this.segments = [];\n    this.max = max;\n    this.min = min;\n    this.regionString = null;\n  }\n\n  encode(full = false) {\n    return this.segments\n      .map(({ start, end }) => {\n        if (full) return `${start}:${end}`;\n        const s = start === this.min ? \"\" : start;\n        const e = end === this.max ? \"\" : end;\n        return `${s}:${e}`;\n      })\n      .join(\",\");\n  }\n\n  decode(regionString) {\n    if (typeof regionString !== \"undefined\") this.regionString = regionString;\n    if (!this.regionString) {\n      this.segments = [];\n      return;\n    }\n    this.segments = this.regionString.split(\",\").map(region => {\n      const [_start, _end, _] = region.split(\":\");\n      if (typeof _ !== \"undefined\")\n        throw new Error(\n          `there should be at most 1 ':' per region. Region: ${region}`\n        );\n      let start = _start ? Number(_start) : this.min;\n      let end = _end ? Number(_end) : this.max;\n      if (start > end) [start, end] = [end, start];\n      if (start < this.min) start = this.min;\n      if (end > this.max) end = this.max;\n      if (Number.isNaN(start))\n        throw new Error(\n          `The parsed value of ${_start} is NaN. Region: ${region}`\n        );\n      if (Number.isNaN(end))\n        throw new Error(\n          `The parsed value of ${_end} is NaN. Region: ${region}`\n        );\n      return {\n        start,\n        end\n      };\n    });\n  }\n}\n","import Region from \"./Region\";\n\nconst combineRegions = (region1, region2) => {\n  if (!region1) return region2;\n  if (!region2) return region1;\n  return `${region1},${region2}`;\n};\nexport default class TrackHighlighter {\n  constructor({ element, min, max }) {\n    this.element = element;\n    this.region = new Region({ min, max });\n    this.fixedHighlight = null;\n  }\n\n  set max(max) {\n    this.region.max = max;\n  }\n\n  setAttributesInElement() {\n    this.region.decode(this.element.getAttribute(\"highlight\"));\n    if (this.region.segments.length === 0) {\n      this.element._highlightstart = Number(\n        this.element.getAttribute(\"highlightstart\")\n      );\n      this.element._highlightend = Number(\n        this.element.getAttribute(\"highlightend\")\n      );\n      if (\n        this.element._highlightstart !== null &&\n        this.element._highlightend !== null &&\n        typeof this.element._highlightstart === \"number\" &&\n        typeof this.element._highlightend === \"number\"\n      ) {\n        this.element._highlight = `${this.element._highlightstart}:${this.element._highlightend}`;\n        this.region.decode(\n          combineRegions(this.fixedHighlight, this.element._highlight)\n        );\n      }\n    }\n  }\n\n  setFloatAttribute(name, strValue) {\n    const value = parseFloat(strValue);\n    this.element[`_${name}`] = Number.isNaN(value) ? strValue : value;\n  }\n\n  changedCallBack(name, newValue) {\n    switch (name) {\n      case \"highlightstart\":\n      case \"highlightend\":\n        this.setFloatAttribute(name, newValue);\n        this.element._highlight =\n          Number.isNaN(this.element._highlightstart) ||\n          Number.isNaN(this.element._highlightend) ||\n          this.element._highlightstart === undefined ||\n          this.element._highlightend === undefined ||\n          this.element._highlightstart === null ||\n          this.element._highlightend === null\n            ? \"\"\n            : `${Math.max(\n                this.region.min,\n                this.element._highlightstart\n              )}:${Math.min(this.region.max, this.element._highlightend)}`;\n        break;\n      default:\n        this.element._highlight = newValue;\n    }\n    this.region.decode(\n      combineRegions(this.fixedHighlight, this.element._highlight)\n    );\n    this.element.refresh();\n  }\n\n  setFixedHighlight(region) {\n    this.fixedHighlight = region;\n    this.region.decode(combineRegions(region, this.element._highlight));\n    this.element.refresh();\n  }\n\n  appendHighlightTo(svg) {\n    this.highlighted = svg.append(\"g\").attr(\"class\", \"highlighted\");\n  }\n\n  updateHighlight() {\n    const highlighs = this.highlighted\n      .selectAll(\"rect\")\n      .data(this.region.segments);\n    highlighs\n      .enter()\n      .append(\"rect\")\n      .style(\"opacity\", 0.5)\n      .attr(\"fill\", \"rgba(255, 235, 59, 0.8)\")\n      .style(\"pointer-events\", \"none\")\n      .merge(highlighs)\n      .attr(\"height\", this.element._height)\n      .attr(\"x\", d => this.element.getXFromSeqPosition(d.start))\n      .attr(\n        \"width\",\n        d => this.element.getSingleBaseWidth() * (d.end - d.start + 1)\n      );\n    highlighs.exit().remove();\n  }\n}\n","import _Region from \"./Region\";\nimport _th from \"./TrackHighlighter\";\nimport _csp from \"./ColorScaleParser\";\nimport _s2o from \"./String2Object\";\nimport _sf from \"./ScrollFilter\";\n\nexport const Region = _Region;\nexport const TrackHighlighter = _th;\nexport const ColorScaleParser = _csp;\nexport const String2Object = _s2o;\nexport const ScrollFilter = _sf;\n","/* eslint-disable class-methods-use-this */\nconst SCROLL_DELAY = 400;\n\nexport default class ScrollFilter {\n  constructor(element) {\n    this.element = element;\n    this.timeStampWheelOutside = 0;\n    this.resetScrollableTimeout = null;\n  }\n\n  setElementScrollable(scrollable) {\n    this.element.setAttribute(\"scrollable\", scrollable);\n  }\n\n  startResetScrollableTimer() {\n    if (this.resetScrollableTimeout) {\n      clearTimeout(this.resetScrollableTimeout);\n    }\n    // Reset scrollable to true after a small period of time\n    this.resetScrollableTimeout = setTimeout(() => {\n      this.setElementScrollable(true);\n      this.resetScrollableTimeout = null;\n    }, SCROLL_DELAY);\n  }\n\n  blockScroll(timeStamp) {\n    this.timeStampWheelOutside = timeStamp;\n    this.setElementScrollable(false);\n    this.startResetScrollableTimer();\n  }\n\n  isWheelEventInsideElement(mouseX, mouseY) {\n    const {\n      height: elementHeight,\n      width: elementWidth,\n      x: elementX,\n      y: elementY\n    } = this.element.getBoundingClientRect();\n    return (\n      mouseX > elementX &&\n      mouseY < elementX + elementWidth &&\n      mouseY > elementY &&\n      mouseY < elementY + elementHeight\n    );\n  }\n\n  wheel({ x, y, timeStamp }) {\n    if (this.isWheelEventInsideElement(x, y)) {\n      if (timeStamp < this.timeStampWheelOutside + SCROLL_DELAY) {\n        // Count this as an outside scroll as it's within the delay and it's\n        // inferred the user is doing a continuous scroll past the component\n        this.blockScroll(timeStamp);\n      } else {\n        this.setElementScrollable(true);\n      }\n    } else {\n      // Block scrolling and remember the time when the last scroll outside occurred.\n      this.blockScroll(timeStamp);\n    }\n  }\n}\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","import \"whatwg-fetch\";\nimport LiteMol from \"litemol\";\n\nconst UP_PDB = \"UP_PDB\";\nconst PDB_UP = \"PDB_UP\";\n\nclass ProtvistaStructure extends HTMLElement {\n  constructor() {\n    super();\n    this._mappings = [];\n\n    this.loadMolecule = this.loadMolecule.bind(this);\n    this._planHighlight = this._planHighlight.bind(this);\n    this.propagateHighlight = this.propagateHighlight.bind(this);\n  }\n\n  get css() {\n    return `\n    :root {\n      --blue: 0, 112, 155;\n    }\n  \n    protvista-structure h4 {\n      display: inline;\n      margin-right: 1em;\n    }\n      \n    .litemol-container {\n      position: relative;\n      height: ${this._height};\n    }\n\n    .lm-viewport-controls {\n      display: ${this.hideViewportControls ? \"none\" : \"block\"};\n    }\n    `;\n  }\n\n  get accession() {\n    return this._accession;\n  }\n\n  set accession(accession) {\n    this.setAttribute(\"accession\", accession);\n    return this._accession;\n  }\n\n  get pdbId() {\n    return this._pdbID;\n  }\n\n  set pdbId(pdbId) {\n    this.setAttribute(\"pdbid\", pdbId);\n    this._pdbID = pdbId;\n  }\n\n  get height() {\n    return this.getAttribute(\"height\");\n  }\n\n  get hideViewportControls() {\n    return this.getAttribute(\"hide-viewport-controls\");\n  }\n\n  connectedCallback() {\n    if (this.closest(\"protvista-manager\")) {\n      this.manager = this.closest(\"protvista-manager\");\n      this.manager.register(this);\n    }\n\n    this._pdbId = this.getAttribute(\"pdb-id\");\n    this._accession = this.getAttribute(\"accession\");\n    this._height = this.getAttribute(\"height\") || \"480px\";\n    this._highlight =\n      this.getAttribute(\"highlight\") &&\n      ProtvistaStructure._formatHighlight(this.getAttribute(\"highlight\"));\n\n    const style = document.createElement(\"style\");\n    style.innerHTML = this.css;\n    this.appendChild(style);\n\n    const litemolDiv = document.createElement(\"div\");\n    litemolDiv.className = \"litemol-container\";\n    litemolDiv.id = \"litemol-instance\";\n    this.messageContainer = document.createElement(\"span\");\n    this.appendChild(this.messageContainer);\n    this.appendChild(litemolDiv);\n\n    this.loadLiteMol();\n  }\n\n  disconnectedCallback() {\n    if (this.manager) {\n      this.manager.unregister(this);\n    }\n  }\n\n  static get observedAttributes() {\n    return [\"highlight\", \"pdb-id\", \"height\"];\n  }\n\n  static _formatHighlight(highlightString) {\n    const highlightArray = highlightString.split(\",\").map(region => {\n      const [_start, _end] = region.split(\":\");\n      return {\n        start: Number(_start),\n        end: Number(_end)\n      };\n    });\n    return highlightArray;\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    if (oldVal !== newVal) {\n      const value = parseFloat(newVal);\n      this[`_${attrName}`] = typeof value === \"number\" ? newVal : value;\n\n      switch (attrName) {\n        case \"pdb-id\":\n          this._pdbId = newVal;\n          this.selectMolecule(this._pdbId);\n          break;\n\n        case \"accession\":\n          this._accession = newVal;\n          break;\n\n        case \"highlight\":\n          this._highlight = ProtvistaStructure._formatHighlight(\n            this.getAttribute(\"highlight\")\n          );\n          break;\n\n        case \"height\":\n          this._height = newVal;\n          break;\n\n        default:\n          break;\n      }\n\n      this._planHighlight(true);\n    }\n  }\n\n  _planHighlight() {\n    // If rendering is already planned, skip the rest\n    if (this._plannedRender) {\n      return;\n    }\n    // Set a flag and _planRender at the next frame\n    this._plannedRender = true;\n    requestAnimationFrame(() => {\n      // Removes the planned rendering flag\n      this._plannedRender = false;\n\n      if (!this._selectedMolecule) {\n        return;\n      }\n\n      this.highlightChain();\n    });\n  }\n\n  async loadPDBEntry(pdbId) {\n    try {\n      const data = await fetch(\n        `https://www.ebi.ac.uk/pdbe/api/mappings/uniprot/${pdbId}`\n      );\n      return await data.json();\n    } catch (e) {\n      this.addMessage(`Couldn't load PDB entry`);\n      throw new Error(e);\n    }\n  }\n\n  async selectMolecule(id) {\n    const pdbEntry = await this.loadPDBEntry(id);\n    const mappings = this.processMapping(pdbEntry);\n\n    await this.loadMolecule(id);\n    this._selectedMolecule = {\n      id,\n      mappings\n    };\n    this._planHighlight();\n  }\n\n  loadLiteMol() {\n    const { Plugin } = LiteMol;\n    this.Command = LiteMol.Bootstrap.Command;\n    this.Query = LiteMol.Core.Structure.Query;\n    this.Bootstrap = LiteMol.Bootstrap;\n    this.Core = LiteMol.Core;\n    this.Tree = this.Bootstrap.Tree;\n    this.CoreVis = LiteMol.Visualization;\n    this.Transformer = this.Bootstrap.Entity.Transformer;\n    this.Visualization = this.Bootstrap.Visualization;\n    this.Event = this.Bootstrap.Event;\n    this.Context = Plugin.Components.Context;\n\n    this._liteMol = Plugin.create({\n      target: this.querySelector(\"#litemol-instance\"),\n      viewportBackground: \"#fff\",\n      layoutState: {\n        hideControls: true\n      },\n      allowAnalytics: false\n    });\n\n    this.Event.Molecule.ModelSelect.getStream(\n      this._liteMol.context\n    ).subscribe(e => this.propagateHighlight(e));\n  }\n\n  loadMolecule(_id) {\n    this._liteMol.clear();\n\n    const transform = this._liteMol.createTransform();\n\n    transform\n      .add(this._liteMol.root, this.Transformer.Data.Download, {\n        url: `https://www.ebi.ac.uk/pdbe/coordinates/${_id.toLowerCase()}/full?encoding=BCIF`,\n        type: \"Binary\",\n        _id\n      })\n      .then(\n        this.Transformer.Data.ParseBinaryCif,\n        {\n          id: _id\n        },\n        {\n          isBinding: true,\n          ref: \"cifDict\"\n        }\n      )\n      .then(\n        this.Transformer.Molecule.CreateFromMmCif,\n        {\n          blockIndex: 0\n        },\n        {\n          isBinding: true\n        }\n      )\n      .then(\n        this.Transformer.Molecule.CreateModel,\n        {\n          modelIndex: 0\n        },\n        {\n          isBinding: false,\n          ref: \"model\"\n        }\n      )\n      .then(this.Transformer.Molecule.CreateMacromoleculeVisual, {\n        polymer: true,\n        polymerRef: \"polymer-visual\",\n        het: true,\n        water: true\n      });\n\n    return this._liteMol.applyTransform(transform);\n  }\n\n  getTheme() {\n    const colors = new Map();\n    colors.set(\"Uniform\", this.CoreVis.Color.fromRgb(207, 178, 178));\n    colors.set(\"Selection\", this.CoreVis.Color.fromRgb(255, 0, 0));\n    colors.set(\"Highlight\", this.CoreVis.Theme.Default.HighlightColor);\n    return this.Visualization.Molecule.uniformThemeProvider(undefined, {\n      colors\n    });\n  }\n\n  addMessage(message) {\n    this.removeMessage();\n    this._liteMol.command(this.Bootstrap.Command.Toast.Show, {\n      key: \"UPMessage\",\n      message,\n      timeoutMs: 30 * 1000\n    });\n  }\n\n  removeMessage() {\n    this._liteMol.command(this.Bootstrap.Command.Toast.Hide, {\n      key: \"UPMessage\"\n    });\n  }\n\n  processMapping(mappingData) {\n    if (!Object.values(mappingData)[0].UniProt[this._accession]) {\n      return null;\n    }\n    return Object.values(mappingData)[0].UniProt[this._accession].mappings;\n  }\n\n  translatePositions(start, end, direction = UP_PDB) {\n    // return if they have been set to 'undefined'\n    if (\n      typeof this.highlight === \"string\" ||\n      Number.isNaN(start) ||\n      Number.isNaN(end)\n    ) {\n      return null;\n    }\n    /* eslint-disable no-restricted-syntax */\n    for (const mapping of this._selectedMolecule.mappings) {\n      if (\n        mapping.unp_end - mapping.unp_start ===\n        mapping.end.residue_number - mapping.start.residue_number\n      ) {\n        if (\n          (direction === UP_PDB &&\n            start >= mapping.unp_start &&\n            end <= mapping.unp_end) ||\n          (direction === PDB_UP &&\n            start >= mapping.start.residue_number &&\n            end <= mapping.end.residue_number)\n        ) {\n          const offset = mapping.unp_start - mapping.start.residue_number;\n          // TODO this is wrong because there are gaps in the PDB sequence\n          return {\n            entity: mapping.entity_id,\n            chain: mapping.chain_id,\n            start: direction === \"UP_PDB\" ? start - offset : start + offset,\n            end: direction === \"UP_PDB\" ? end - offset : end + offset\n          };\n        }\n      } else {\n        this.addMessage(\n          \"Mismatch between protein sequence and structure residues\"\n        );\n      }\n    }\n    return null;\n  }\n\n  propagateHighlight(e) {\n    if (!e.data || !e.data.residues) {\n      return;\n    }\n    const seqPositions = e.data.residues\n      .map(residue =>\n        this.translatePositions(residue.seqNumber, residue.seqNumber, PDB_UP)\n      )\n      .map(residue => `${residue.start}:${residue.end}`);\n\n    const event = new CustomEvent(\"change\", {\n      detail: {\n        highlight: seqPositions.join(\",\")\n      },\n      bubbles: true,\n      cancelable: true\n    });\n    this.dispatchEvent(event);\n  }\n\n  highlightChain() {\n    if (!this._highlight) {\n      return;\n    }\n\n    this.Command.Visual.ResetTheme.dispatch(this._liteMol.context, undefined);\n    this.Command.Tree.RemoveNode.dispatch(\n      this._liteMol.context,\n      \"sequence-selection\"\n    );\n\n    const visual = this._liteMol.context.select(\"polymer-visual\")[0];\n\n    if (!visual) {\n      return;\n    }\n\n    const translatedPositions = this._highlight\n      .map(({ start, end }) => this.translatePositions(start, end))\n      .filter(translatedPosition => translatedPosition);\n\n    if (!translatedPositions || translatedPositions.length === 0) {\n      return;\n    }\n\n    const queries = translatedPositions.map(translatedPos =>\n      this.Query.sequence(\n        translatedPos.entity.toString(),\n        translatedPos.chain,\n        {\n          seqNumber: translatedPos.start\n        },\n        {\n          seqNumber: translatedPos.end\n        }\n      )\n    );\n\n    const theme = this.getTheme();\n    const transform = this._liteMol.createTransform();\n\n    queries.forEach(query =>\n      transform.add(\n        visual,\n        this.Transformer.Molecule.CreateSelectionFromQuery,\n        {\n          query\n        },\n        {\n          ref: \"sequence-selection\"\n        }\n      )\n    );\n\n    this._liteMol.applyTransform(transform).then(() => {\n      this.Command.Visual.UpdateBasicTheme.dispatch(this._liteMol.context, {\n        visual,\n        theme\n      });\n    });\n    this.removeMessage();\n  }\n}\n\nexport default ProtvistaStructure;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive, NodePart } from '../lit-html.js';\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap();\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = document.createElement('template');\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues.set(part, { value, fragment });\n});\n//# sourceMappingURL=unsafe-html.js.map","!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t,n){var r=n(1);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,\"rhea-reaction {\\n    display: flex;\\n    flex-direction: column;\\n    min-width: 100%;\\n    justify-content: flex-start;\\n    align-items: flex-start;\\n    align-content: stretch;\\n}\\n\\nrhea-reaction img {\\n    width: 200px;\\n    height: 200px;\\n}\\n\\nrhea-reaction .rhea-reaction-container {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: left;\\n}\\n\\nrhea-reaction-block {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    text-align: center;\\n    padding: 10px;\\n}\\n\\nrhea-reaction-block.smallMolecule:hover {\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n\\nrhea-reaction .residues {\\n    display: flex;\\n    flex-direction: row;\\n    border: 1px grey dashed;\\n    justify-content: center;\\n}\\n\\nrhea-reaction-block .name {\\n    margin-bottom: 10px;\\n}\\n\\nrhea-reaction-block.and,\\nrhea-reaction-block.none,\\nrhea-reaction-block.forward,\\nrhea-reaction-block.backward,\\nrhea-reaction-block.bi,\\nrhea-reaction-block.coefficient {\\n    justify-content: center;\\n}\\n\\nrhea-reaction .participantfooter {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\nrhea-reaction .filler {\\n    flex-grow: 1;\\n}\",\"\"])},function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"==typeof btoa){var i=(a=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),o=r.sources.map(function(e){return\"/*# sourceURL=\"+r.sourceRoot+e+\" */\"});return[n].concat(o).concat([i]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \"+t[2]+\"{\"+n+\"}\":n}).join(\"\")},t.i=function(e,n){\"string\"==typeof e&&(e=[[null,e,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e,n){if(\"function\"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,u=[],h=n(4);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=u[u.length-1];if(\"top\"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if(\"bottom\"===e.insertAt)n.appendChild(t);else{if(\"object\"!=typeof e.insertAt||!e.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement(\"style\");if(void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=\"function\"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=c||(c=b(t)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else e.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(e){var t=document.createElement(\"link\");return void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),e.attrs.rel=\"stylesheet\",v(t,e.attrs),p(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r));i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute(\"media\",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(t=t||{}).attrs=\"object\"==typeof t.attrs?t.attrs:{},t.singleton||\"boolean\"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto=\"head\"),t.insertAt||(t.insertAt=\"bottom\");var n=d(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&f(d(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join(\"\\n\")});function x(e,t,n,r){var i=n?\"\":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=\"undefined\"!=typeof window&&window.location;if(!t)throw new Error(\"fixUrls requires window.location\");if(!e||\"string\"!=typeof e)return e;var n=t.protocol+\"//\"+t.host,r=n+t.pathname.replace(/\\/[^\\/]*$/,\"/\");return e.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(e,t){var i,o=t.trim().replace(/^\"(.*)\"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?e:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}},function(e,t,n){\"use strict\";n.r(t);n(0);const r={forward:\"=>\",backward:\"<=\",bi:\"<=>\",none:\"=\"},i={SMALL_MOLECULE:\"smallMolecule\",GENERIC_COMPOUND:\"genericcomp\",POLYMER:\"polymer\"},o=function(e,t){return`${t}/rhea/${e}/json`},a=function(e){return`https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:${e}`},s=function(e){return`https://www.rhea-db.org/reaction?id=${e}`};window.customElements.get(\"rhea-reaction-block\")||window.customElements.define(\"rhea-reaction-block\",class extends HTMLElement{constructor(){super()}smallMolecule(e,t,n=\"\",r){let i=e.htmlname?e.htmlname:e.label,o=e.htmlname?`<div class=\"name\">\\n                <a href=\"${a(e.id)}\">${decodeURI(i)}</a>\\n                ${e.location?`(${e.location})`:\"\"}\\n            </div>`:\"\";r.polymer&&r.polymer.htmlname&&(o=`<div class=\"name\">${decodeURI(r.polymer.htmlname)}</div><div>with underlying ChEBI as</div>`+o);let s=r.structuresearch&&e.smiles,c=e.position?`<div class=\"position\">Position: ${e.position}</div>`:\"\",l=\"\"!==n?`<a class=\"participantId\">${n}</a>`:\"\",u=r.polymer?r.polymer.thumbnail:e.thumbnail,h=r.polymer?r.polymer.zoomed:e.zoomed;return(\"\"!==c?`<img alt=\"No structure information present\" src=\"${u}\"></img> ${o} ${l} ${c}`:`${o} ${l} <img alt=\"No structure information present\" src=\"${u}\"></img> ${c}`)+'<span class=\"filler\"></span>'+`<div class=\"participantfooter\">\\n        ${(r.formula&&e.formula?`<span class=\"info\"><i>Formula</i>: ${e.formula}</span>`:\"\")+(r.charge&&e.charge?`<span class=\"info\"><i>Charge</i>: ${e.charge}</span>`:\"\")+(r.inchikey&&e.inchikey?`<span class=\"info\"><i>InchiKey</i>: ${e.inchikey}</span>`:\"\")+(t?`<a class=\"zoomLink\" data-chebi-id=\"${e.id}\" data-chebi-zoom=\"${h}\">zoom</a>`:\"\")+(s?`<a class=\"structuresearch\" href=\"${r.rheaurl}/structuresearch/?query=${e.id}\">structure search`:\"\")}</div>`}setParticipant(e,t,n){switch(e.type){case\"SMALL_MOLECULE\":this.innerHTML=this.smallMolecule(e,t,n.showids?`CHEBI:${e.id}`:\"\",n);break;case\"POLYMER\":let r={...n,polymer:{thumbnail:e.thumbnail,zoomed:e.zoomed}};(e.htmlname||e.label)&&(r.polymer.htmlname=e.htmlname?e.htmlname:e.label),this.innerHTML=this.smallMolecule(e.underlyingChebi,t,n.showids?`RHEA-COMP:${e.id}`:\"\",r);break;case\"GENERIC_COMPOUND\":this.innerHTML=`\\n                <div class=\"name\">\\n                    <a class=\"generic\">${decodeURI(e.htmlname)}</a>\\n                </div>\\n                ${n.showids?`<a class=\"participantId\"> RHEA-COMP:${e.id}</a>`:\"\"}\\n                <div class=\"residues\">${e.reactivePart.map((e,t)=>`<rhea-reaction-block class=\"participant ${i[e.type]}\" index=\"${t}\"></rhea-reaction-block>`).join(\"\")}</div>`,this.querySelectorAll(\"rhea-reaction-block\").forEach(r=>{let i=r.getAttribute(\"index\");r.removeAttribute(\"index\"),r.setParticipant(e.reactivePart[i],t,n)});break;default:return\"\"}}}),window.customElements.get(\"rhea-reaction\")||window.customElements.define(\"rhea-reaction\",class extends HTMLElement{constructor(){super(),this.rheaURL=\"https://beta.rhea-db.org\"}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case\"rheaid\":let t=n.toLowerCase();t.startsWith(\"rhea:\")&&(t=t.subString(5)),this.render(t);break;case\"usehost\":this.rheaURL=n}}static get observedAttributes(){return[\"rheaid\",\"usehost\"]}get uniprot(){return`https://uniprot.org/uniprot/query=${this.rheaid}`}async render(e){this.hasAttribute(\"usehost\")&&(this.rheaURL=this.getAttribute(\"usehost\"));let t=await fetch(o(e,this.rheaURL));t=await t.json(),this.rheaid=`rhea:${t.id}`;let n={nosource:this.hasAttribute(\"nosource\"),showids:this.hasAttribute(\"showids\"),formula:this.hasAttribute(\"formula\"),charge:this.hasAttribute(\"charge\"),smiles:this.hasAttribute(\"smiles\"),inchikey:this.hasAttribute(\"inchikey\"),structuresearch:this.hasAttribute(\"structuresearch\"),rheaurl:this.rheaURL};this.innerHTML=`\\n            ${n.nosource?\"\":`<div class=\"rhea-reaction-source\">\\n                    <a href=\"${s(t.id)}\">${n.showids?`RHEA:${t.id}`:\"Source: Rhea\"}</a> \\n                </div>`}\\n            <div class=\"rhea-reaction-container\">\\n                ${this.getList(\"left\",t.left)}\\n                    <rhea-reaction-block class=\"${t.direction}\">${r[t.direction]}</rhea-reaction-block>\\n                ${this.getList(\"right\",t.right)}\\n            </div>`,this.querySelectorAll(\"rhea-reaction-block.participant\").forEach(e=>{let r=e.getAttribute(\"index\").split(\"-\"),i=r[0];r=r[1],e.removeAttribute(\"index\"),e.setParticipant(t[i][r],this.hasAttribute(\"zoom\"),n)}),this.hasAttribute(\"zoom\")&&Array.from(this.querySelectorAll(\".zoomLink\")).forEach(e=>e.onclick=t=>{t.stopPropagation(),t.preventDefault();let n=new CustomEvent(\"zoomClicked\",{detail:{chebi:\"chebi:\"+t.target.getAttribute(\"data-chebi-id\"),imgURL:t.target.getAttribute(\"data-chebi-zoom\")},bubbles:!0});e.dispatchEvent(n)});let i=new CustomEvent(\"rendered\",{detail:{},bubbles:!0});this.dispatchEvent(i)}getList(e,t){return t.map((n,r)=>{let o=r!=t.length-1;return`\\n                ${n.coff?`<rhea-reaction-block class=\"coefficient\" >${n.coff}</rhea-reaction-block>`:\"\"}\\n                <rhea-reaction-block class=\"participant ${i[n.type]}\" index=\"${e}-${r}\"></rhea-reaction-block>\\n                ${o?'<rhea-reaction-block class=\"and\">+</rhea-reaction-block>':\"\"}`}).map(e=>e.trim()).join(\"\")}})}]);","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nexport default clone;\n","/* eslint-disable no-param-reassign */\nconst addToTree = (nodes, items, parent) => {\n  if (items.length <= 0) {\n    return;\n  }\n  for (const node of nodes) {\n    if (node.name === items[0]) {\n      addToTree(node.children, items.slice(1), node);\n      return;\n    }\n  }\n  const node = {\n    name: items[0],\n    selected: false,\n    parent,\n    children: []\n  };\n  nodes.push(node);\n  addToTree(node.children, items.slice(1), node);\n};\n\nfunction addStringItem(stringItem, tree) {\n  const splitItems = stringItem.split(\", \");\n  addToTree(tree, splitItems);\n}\n\nfunction traverseTree(data, callback, depth) {\n  if (typeof depth === \"number\") {\n    depth++;\n  } else {\n    depth = 1;\n  }\n  for (const datum of data) {\n    datum.depth = depth;\n    callback(datum);\n    if (datum.children.length > 0) {\n      traverseTree(datum.children, callback, depth);\n    }\n  }\n}\n\nfunction findNode(tree, target, callback) {\n  traverseTree(tree, t => {\n    if (t.name === target) {\n      return callback(t);\n    }\n    return null;\n  });\n}\n\nfunction getPath(target, path) {\n  if (target.parent) {\n    path.push(target.parent);\n    return getPath(target.parent, path);\n  }\n  return path;\n}\n\nexport { addStringItem, traverseTree, findNode, getPath };\n","/* eslint-disable no-param-reassign */\nimport clone from \"lodash-es/clone\";\nimport { addStringItem } from \"./treeMenu\";\n\nfunction addInteractor(interactor, interactors) {\n  const existingInteractor = interactors.find(i => interactor.id === i.id);\n  if (existingInteractor) {\n    // Merge objects\n    if (interactor.isoform) {\n      existingInteractor.isoform = interactor.isoform;\n    }\n  } else {\n    interactors.push(interactor);\n  }\n}\n\nexport const createGraph = data => {\n  const nodes = data.map(node => ({\n    accession: node.accession,\n    name: node.name,\n    proteinExistence: node.proteinExistence,\n    taxonomy: node.taxonomy\n  }));\n\n  const edges = data.reduce((accumulator, node) => {\n    const interactions = node.interactions ? node.interactions : [];\n    return [\n      ...accumulator,\n      ...interactions.map(interaction => ({\n        ...interaction,\n        accession1: interaction.accession1\n          ? interaction.accession1\n          : node.accession\n      }))\n    ];\n  }, []);\n  return { nodes, edges };\n};\n\nexport function process(data) {\n  const subcellulartreeMenu = [];\n  const diseases = {};\n\n  // The 2 blocks below are necesserary as there is an issue with the data: it's not symmetrical\n  data = data.map(d => {\n    if (!d.interactions) d.interactions = [];\n    return d;\n  });\n\n  // Add symmetry if required\n  for (const element of data) {\n    for (const interactor of element.interactions) {\n      const otherInteractor = data.find(\n        d => d.accession === interactor.accession2\n      );\n      if (otherInteractor) {\n        if (\n          !otherInteractor.interactions.find(d => d.id === element.accession)\n        ) {\n          const interactorToAdd = clone(interactor);\n          interactorToAdd.id = element.accession;\n          otherInteractor.interactions.push(interactorToAdd);\n        }\n      }\n    }\n  }\n\n  // remove interactions which are not part of current set\n  for (const element of data) {\n    element.filterTerms = [];\n    const interactors = [];\n    // Add source  to the nodes\n    for (const interactor of element.interactions) {\n      // Add interaction for SELF\n      if (interactor.interactionType === \"SELF\") {\n        interactor.source = element.accession;\n        interactor.id = element.accession;\n        addInteractor(interactor, interactors);\n      } else if (\n        data.some(d => {\n          // Check that interactor is in the data\n          return d.accession === interactor.id;\n        })\n      ) {\n        interactor.source = element.accession;\n        addInteractor(interactor, interactors);\n      }\n    }\n\n    element.interactions = interactors;\n\n    if (element.subcellularLocations) {\n      element.subcellularLocations\n        .filter(d => d.locations)\n        .forEach(location => {\n          for (const actualLocation of location.locations) {\n            addStringItem(actualLocation.location.value, subcellulartreeMenu);\n            const locationSplit = actualLocation.location.value.split(\", \");\n            element.filterTerms = element.filterTerms.concat(locationSplit);\n          }\n        });\n    }\n    if (element.diseases) {\n      for (const disease of element.diseases) {\n        if (disease.diseaseId) {\n          diseases[disease.diseaseId] = {\n            name: disease.diseaseId,\n            selected: false\n          };\n          element.filterTerms.push(disease.diseaseId);\n        }\n      }\n    }\n  }\n  return { data, subcellulartreeMenu, diseases: Object.values(diseases) };\n}\n\nexport function load(accession) {\n  const url = `https://www.ebi.ac.uk/proteins/api/proteins/interaction/${accession}.json`;\n  return fetch(url)\n    .then(response => {\n      if (response.status === 404) return null;\n      if (!response.ok) {\n        console.error(\n          new Error(\n            `Request Failed: Status = ${\n              response.status\n            }; URI = ${url}; Time = ${new Date()}`\n          )\n        );\n        return null;\n      }\n      if (response.status === 204) return null;\n      return response.json();\n    })\n    .then(json => json);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import { select, selectAll, mouse } from \"d3-selection\";\nimport { scaleBand, scaleLinear } from \"d3-scale\";\nimport { addStringItem, traverseTree } from \"./treeMenu\";\n\nconst formatDiseaseInfo = (data, acc) => {\n  if (data) {\n    let formatedString = \"\";\n    for (const disease of data) {\n      if (disease.dbReference) {\n        // Some have only text\n        formatedString += `<p><a href=\"//www.uniprot.org/uniprot/${acc}#${disease.acronym}\" target=\"_blank\">${disease.diseaseId}</a></p>`;\n      }\n    }\n    return formatedString;\n  }\n  return \"N/A\";\n};\n\nconst closeTooltip = () => {\n  selectAll(\".interaction-tooltip\")\n    .style(\"opacity\", 0)\n    .style(\"display\", \"none\");\n};\n\nconst formatSubcellularLocationInfo = data => {\n  if (data) {\n    let formatedString = '<ul class=\"tree-list\">';\n    const tree = [];\n    data\n      .filter(d => d.locations)\n      .forEach(interactionType => {\n        for (const location of interactionType.locations) {\n          addStringItem(location.location.value, tree);\n          // formatedString += `<p>${location.location.value}</p>`;\n        }\n      });\n    traverseTree(\n      tree,\n      d =>\n        (formatedString += `<li style=\"margin-left:${d.depth}em\">${d.name}</li>`)\n    );\n    return `${formatedString}</ul>`;\n  }\n  return \"N/A\";\n};\n\nconst drawAdjacencyGraph = (el, accession, data) => {\n  const nodes = data;\n\n  const tooltip = select(el)\n    .append(\"div\")\n    .attr(\"class\", \"interaction-tooltip\")\n    .style(\"display\", \"none\")\n    .style(\"opacity\", 0);\n  tooltip\n    .append(\"span\")\n    .attr(\"class\", \"close-interaction-tooltip\")\n    .text(\"Close \")\n    .on(\"click\", closeTooltip);\n  tooltip.append(\"div\").attr(\"class\", \"tooltip-content\");\n\n  select(el)\n    .append(\"p\")\n    .attr(\"class\", \"interaction-title\")\n    .text(\n      `${accession} has binary interactions with ${nodes.length - 1} proteins`\n    );\n\n  const margin = {\n    top: 100,\n    right: 0,\n    bottom: 10,\n    left: 100\n  };\n\n  const width = 18 * nodes.length;\n\n  const height = width;\n\n  const x = scaleBand().rangeRound([0, width]);\n  const intensity = scaleLinear().range([0.2, 1]);\n\n  const svg = select(el)\n    .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .attr(\"class\", \"interaction-viewer\")\n    .append(\"g\")\n    .attr(\"class\", \"interaction-viewer-group\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  x.domain(nodes.map(entry => entry.accession));\n  intensity.domain([0, 10]);\n\n  // x.domain(nodes.map(entry => entry.accession)); intensity.domain([0,\n  // d3.max(nodes.map(link => link.experiments))]);\n\n  const getIntactLink = (interactor1, interactor2) => {\n    return `//www.ebi.ac.uk/intact/query/id:${interactor1} AND id:${interactor2}`;\n  };\n\n  const mouseover = p => {\n    select(this).classed(\"active-cell\", true);\n    // selectAll(\".interaction-row\").classed(\"active\", d => d.accession === p.id);\n    // selectAll(\".column\").classed(\"active\", d => d.accession === p.id);\n\n    selectAll(\".interaction-viewer-group\")\n      .append(\"line\")\n      .attr(\"class\", \"active-row\")\n      .attr(\"style\", \"opacity:0.3\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", x(p.source) + x.bandwidth() / 2)\n      .attr(\"x2\", x(p.id))\n      .attr(\"y2\", x(p.source) + x.bandwidth() / 2);\n\n    selectAll(\".interaction-viewer-group\")\n      .append(\"line\")\n      .attr(\"class\", \"active-row\")\n      .attr(\"style\", \"opacity:0.3\")\n      .attr(\"x1\", x(p.id) + x.bandwidth() / 2)\n      .attr(\"y1\", 0)\n      .attr(\"x2\", x(p.id) + x.bandwidth() / 2)\n      .attr(\"y2\", x(p.source));\n  };\n\n  const mouseout = () => {\n    selectAll(\"g\").classed(\"active\", false);\n    selectAll(\"circle\").classed(\"active-cell\", false);\n    selectAll(\".active-row\").remove();\n  };\n\n  const populateTooltip = (element, data) => {\n    element.html(\"\");\n\n    const source = nodes.find(d => d.accession === data.source);\n    const target = nodes.find(d => d.accession === data.id);\n\n    element.append(\"h3\").text(\"Interaction\");\n    element\n      .append(\"p\")\n      .append(\"a\")\n      .attr(\"href\", getIntactLink(data.interactor1, data.interactor2))\n      .attr(\"target\", \"_blank\")\n      .text(`Confirmed by ${data.experiments} experiment(s)`);\n\n    const table = element\n      .append(\"table\")\n      .attr(\"class\", \"interaction-viewer-table\");\n    const headerRow = table.append(\"tr\");\n    headerRow.append(\"th\");\n    headerRow.append(\"th\").text(\"Interactor 1\");\n    headerRow.append(\"th\").text(\"Interactor 2\");\n\n    const nameRow = table.append(\"tr\");\n    nameRow\n      .append(\"td\")\n      .text(\"Name\")\n      .attr(\"class\", \"interaction-viewer-table_row-header\");\n    nameRow.append(\"td\").text(`${source.name}`);\n    nameRow.append(\"td\").text(`${target.name}`);\n\n    const uniprotRow = table.append(\"tr\");\n    uniprotRow\n      .append(\"td\")\n      .text(\"UniProtKB\")\n      .attr(\"class\", \"interaction-viewer-table_row-header\");\n    uniprotRow\n      .append(\"td\")\n      .append(\"a\")\n      .attr(\"href\", `//uniprot.org/uniprot/${source.accession}`)\n      .text(`${source.accession}`);\n    uniprotRow\n      .append(\"td\")\n      .append(\"a\")\n      .attr(\"href\", `//uniprot.org/uniprot/${target.accession}`)\n      .text(`${target.accession}`);\n\n    if (data.chain1 || data.chain2) {\n      const chainRow = table.append(\"tr\");\n      chainRow\n        .append(\"td\")\n        .text(\"Chain\")\n        .attr(\"class\", \"interaction-viewer-table_row-header\");\n      chainRow.append(\"td\").text(`${data.chain1 ? data.chain1 : \"N/A\"}`);\n      chainRow.append(\"td\").text(`${data.chain2 ? data.chain2 : \"N/A\"}`);\n    }\n\n    const diseaseRow = table.append(\"tr\");\n    diseaseRow\n      .append(\"td\")\n      .text(\"Pathology\")\n      .attr(\"class\", \"interaction-viewer-table_row-header\");\n    diseaseRow\n      .append(\"td\")\n      .html(formatDiseaseInfo(source.diseases, source.accession));\n    diseaseRow\n      .append(\"td\")\n      .html(formatDiseaseInfo(target.diseases, target.accession));\n\n    const subcellRow = table.append(\"tr\");\n    subcellRow\n      .append(\"td\")\n      .text(\"Subcellular location\")\n      .attr(\"class\", \"interaction-viewer-table_row-header\");\n    subcellRow\n      .append(\"td\")\n      .html(formatSubcellularLocationInfo(source.subcellularLocations));\n    subcellRow\n      .append(\"td\")\n      .html(formatSubcellularLocationInfo(target.subcellularLocations));\n\n    const intactRow = table.append(\"tr\");\n    intactRow\n      .append(\"td\")\n      .text(\"IntAct\")\n      .attr(\"class\", \"interaction-viewer-table_row-header\");\n    intactRow\n      .append(\"td\")\n      .attr(\"colspan\", 2)\n      .append(\"a\")\n      .attr(\"href\", getIntactLink(data.interactor1, data.interactor2))\n      .attr(\"target\", \"_blank\")\n      .text(`${data.interactor1};${data.interactor2}`);\n  };\n\n  const mouseclick = p => {\n    populateTooltip(selectAll(\".tooltip-content\"), p);\n    tooltip\n      .style(\"opacity\", 0.9)\n      .style(\"display\", \"inline\")\n      .style(\"left\", `${mouse(el)[0] + 10}px`)\n      .style(\"top\", `${mouse(el)[1] - 15}px`);\n  };\n\n  function processRow(row) {\n    if (!row.interactions) {\n      return;\n    }\n\n    const cell = select(this)\n      .selectAll(\".cell\")\n      .data(row.interactions);\n\n    const circle = cell.enter().append(\"circle\");\n\n    circle\n      .attr(\"class\", \"cell\")\n      .attr(\"cx\", d => {\n        return x(d.id) + x.bandwidth() / 2;\n      })\n      .attr(\"cy\", () => x.bandwidth() / 2)\n      .attr(\"r\", x.bandwidth() / 3)\n      .style(\"fill-opacity\", d => intensity(d.experiments))\n      .style(\"display\", d => {\n        // Only show left half of graph\n        return x(row.accession) < x(d.id) ? \"none\" : \"\";\n      })\n      .on(\"click\", mouseclick)\n      .on(\"mouseover\", mouseover)\n      .on(\"mouseout\", mouseout);\n\n    cell.exit().remove();\n  }\n\n  const row = svg\n    .selectAll(\".interaction-row\")\n    .data(nodes)\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"interaction-row\")\n    .attr(\"transform\", d => `translate(0,${x(d.accession)})`)\n    .each(processRow);\n\n  row\n    .append(\"rect\")\n    .attr(\"x\", -margin.left)\n    .attr(\"width\", margin.left)\n    .attr(\"height\", x.bandwidth())\n    .attr(\"class\", \"text-highlight\");\n\n  // left axis text\n  row\n    .append(\"text\")\n    .attr(\"y\", x.bandwidth() / 2)\n    .attr(\"dy\", \".32em\")\n    .attr(\"text-anchor\", \"end\")\n    .text((d, i) => {\n      return nodes[i].name;\n    })\n    .attr(\"class\", (d, i) =>\n      nodes[i].accession === accession ? \"main-accession\" : \"\"\n    );\n\n  const column = svg\n    .selectAll(\".column\")\n    .data(nodes)\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"column\")\n    .attr(\"transform\", d => `translate(${x(d.accession)}, 0)rotate(-90)`);\n\n  column\n    .append(\"rect\")\n    .attr(\"x\", 6)\n    .attr(\"width\", margin.top)\n    .attr(\"height\", x.bandwidth())\n    .attr(\"class\", \"text-highlight\");\n\n  // top axis text\n  column\n    .append(\"text\")\n    .attr(\"x\", 6)\n    .attr(\"y\", x.bandwidth() / 2)\n    .attr(\"dy\", \".32em\")\n    .attr(\"text-anchor\", \"start\")\n    .text((d, i) => nodes[i].name)\n    .attr(\"class\", (d, i) =>\n      nodes[i].accession === accession ? \"main-accession\" : \"\"\n    );\n\n  const points = `${x(nodes[1].accession)} 0,${x(\n    nodes[nodes.length - 1].accession\n  )} 0,${x(nodes[nodes.length - 1].accession)} ${x(\n    nodes[nodes.length - 1].accession\n  )},${x(nodes[0].accession)} 0`;\n\n  svg\n    .append(\"polyline\")\n    .attr(\"points\", points)\n    .attr(\"class\", \"hidden-side\")\n    .attr(\"transform\", () => `translate(${x(nodes[1].accession)}, 0)`);\n};\nexport default drawAdjacencyGraph;\n","/* eslint-disable no-param-reassign */\nimport { select } from \"d3-selection\";\nimport { traverseTree } from \"./treeMenu\";\n\nfunction toggleFilterVisibility() {\n  const id = `#${select(this).attr(\"data-toggle\")}`;\n  const visibility = select(id).style(\"visibility\");\n  select(\".dropdown-pane\").style(\"visibility\", \"hidden\");\n  select(id).style(\n    \"visibility\",\n    visibility === \"hidden\" ? \"visible\" : \"hidden\"\n  );\n}\n\nexport function getNameAsHTMLId(name) {\n  return name.toLowerCase().replace(/\\s|,|^\\d/g, \"_\");\n}\n\n// Add a filter to the interface\nfunction drawFilters(\n  el,\n  filtersToAdd,\n  allFilters,\n  clickFilter,\n  resetFilter,\n  resetAllFilters\n) {\n  select(el)\n    .selectAll(\".interaction-filter-container\")\n    .remove();\n  const container = select(el)\n    .append(\"div\")\n    .attr(\"class\", \"interaction-filter-container\");\n\n  // container.append(\"div\").text('Show only interactions where one or both\n  // interactors have:');\n  for (const filter of filtersToAdd) {\n    if (filter.items.length > 0) {\n      const filterContainer = container\n        .append(\"div\")\n        .attr(\"class\", \"interaction-filter\");\n      filterContainer\n        .append(\"a\")\n        .text(filter.label)\n        .attr(\"class\", \"button dropdown\")\n        .attr(\"data-toggle\", `iv_${filter.name}`)\n        .on(\"click\", toggleFilterVisibility);\n\n      const ul = filterContainer\n        .append(\"ul\")\n        .attr(\"id\", `iv_${filter.name}`)\n        .attr(\"class\", \"dropdown-pane\");\n\n      ul.append(\"li\")\n        .text(\"None\")\n        .on(\"click\", () => resetFilter(filter.name, filter.label));\n      if (filter.type === \"tree\") {\n        traverseTree(filter.items, d => {\n          d.type = filter.name;\n          allFilters.push(d);\n          ul.datum(d)\n            .append(\"li\")\n            .style(\"padding-left\", `${d.depth}em`)\n            .attr(\"id\", d => getNameAsHTMLId(d.name))\n            .text(d => d.name)\n            .on(\"click\", d => clickFilter(d, filter.name));\n        });\n      } else {\n        for (const d of filter.items) {\n          d.type = filter.name;\n          allFilters.push(d);\n        }\n\n        ul.selectAll(\"li\")\n          .data(filter.items)\n          .enter()\n          .append(\"li\")\n          .attr(\"id\", d => getNameAsHTMLId(d.name))\n          .text(d => d.name.toLowerCase())\n          .on(\"click\", d => {\n            clickFilter(d, filter.name);\n          });\n      }\n    }\n  }\n  container\n    .append(\"button\")\n    .attr(\"class\", \"iv_reset\")\n    .text(\"Reset filters\")\n    .on(\"click\", () => {\n      resetAllFilters();\n      return false;\n    });\n  return allFilters;\n}\n\nexport default drawFilters;\n","/* eslint-disable no-param-reassign */\nimport { select, selectAll } from \"d3-selection\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\nimport { load, process } from \"./apiLoader\";\nimport drawAdjacencyGraph from \"./AdjacencyGraph\";\nimport drawFilters, { getNameAsHTMLId } from \"./filters\";\nimport \"../styles/main.css\";\n\nconst ADJACENCY_GRAPH = \"ADJACENCY_GRAPH\";\nconst FORCE_DIRECTED_GRAPH = \"FORCE_DIRECTED_GRAPH\";\n\nfunction ellipsis(text) {\n  const n = 25;\n  return text.length > n ? `${text.substr(0, n - 1)}...` : text;\n}\n\nfunction getFilters(subcellulartreeMenu, diseases) {\n  return [\n    {\n      name: \"subcellularLocations\",\n      label: \"Subcellular location\",\n      type: \"tree\",\n      items: subcellulartreeMenu\n    },\n    {\n      name: \"diseases\",\n      label: \"Diseases\",\n      items: diseases\n    }\n  ];\n}\n\nconst dispatchLoadedEvent = (el, error) => {\n  el.dispatchEvent(\n    new CustomEvent(\"protvista-event\", {\n      detail: {\n        loaded: true,\n        error\n      },\n      bubbles: true\n    })\n  );\n};\n\n// Check if either the source or the target contain one of the specified\n// filters. returns true if no filters selected\nconst hasFilterMatch = (source, target, filters) => {\n  if (filters.length <= 0) {\n    return true;\n  }\n  const interactionFilters = _union(source.filterTerms, target.filterTerms);\n  return (\n    _intersection(\n      interactionFilters,\n      filters.map(item => item.name)\n    ).length === filters.length\n  );\n};\n\nclass InteractionViewer extends HTMLElement {\n  constructor() {\n    super();\n    this.mode = ADJACENCY_GRAPH;\n    this.filters = [];\n    this.nodes = null;\n    this.clickFilter = this.clickFilter.bind(this);\n    this.resetFilter = this.resetFilter.bind(this);\n    this.resetAllFilters = this.resetAllFilters.bind(this);\n    this.updateFilterSelection = this.updateFilterSelection.bind(this);\n    this.filterData = this.filterData.bind(this);\n    this.getNodeByAccession = this.getNodeByAccession.bind(this);\n  }\n\n  connectedCallback() {\n    this._accession = this.getAttribute(\"accession\");\n    this.render();\n  }\n\n  static get observedAttributes() {\n    return [\"accession\"];\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    if (attrName === \"accession\" && oldVal != null && oldVal !== newVal) {\n      this._accession = newVal;\n      this.render();\n    }\n  }\n\n  set accession(accession) {\n    this._accession = accession;\n  }\n\n  get accession() {\n    return this._accession;\n  }\n\n  clickFilter(d, filterName) {\n    selectAll(\".dropdown-pane\").style(\"visibility\", \"hidden\");\n    this.filters\n      .filter(d => d.type === filterName)\n      .forEach(d => (d.selected = false));\n    d.selected = !d.selected;\n    select(`[data-toggle=iv_${filterName}]`).text(ellipsis(d.name));\n    this.updateFilterSelection();\n  }\n\n  resetFilter(filterName, filterLabel) {\n    selectAll(\".dropdown-pane\").style(\"visibility\", \"hidden\");\n    this.filters\n      .filter(d => d.type === filterName)\n      .forEach(d => (d.selected = false));\n    select(`[data-toggle=iv_${filterName}]`).text(filterLabel);\n    this.updateFilterSelection();\n  }\n\n  updateFilterSelection() {\n    for (const filter of this.filters) {\n      const item = select(`#${getNameAsHTMLId(filter.name)}`);\n      item.classed(\"active\", filter.selected);\n    }\n    this.filterData();\n  }\n\n  resetAllFilters() {\n    this.filters.filter(d => d.selected).forEach(d => (d.selected = false));\n    getFilters().forEach(d => {\n      select(`[data-toggle=iv_${d.name}]`).text(d.label);\n    });\n    this.updateFilterSelection();\n  }\n\n  getNodeByAccession(accession) {\n    return this.nodes.find(node => node.accession === accession);\n  }\n\n  // Hide nodes and labels which don't belong to a visible filter\n  filterData() {\n    const activeFilters = this.filters.filter(d => d.selected);\n\n    const visibleAccessions = [];\n    selectAll(\".cell\").attr(\"opacity\", d => {\n      const source = this.getNodeByAccession(d.source);\n      const target = this.getNodeByAccession(d.id);\n      const visible = hasFilterMatch(source, target, activeFilters);\n      if (visible) {\n        visibleAccessions.push(source.accession);\n        visibleAccessions.push(target.accession);\n      }\n      return visible ? 1 : 0.1;\n    });\n    selectAll(\".interaction-viewer text\").attr(\"fill-opacity\", d => {\n      return visibleAccessions.includes(d.accession) ? 1 : 0.1;\n    });\n  }\n\n  async render() {\n    if (!this._accession) {\n      return;\n    }\n    this.style.display = \"block\";\n    this.style.minHeight = \"6em\";\n\n    // clear all previous vis\n    select(this)\n      .select(\".interaction-title\")\n      .remove();\n    select(this)\n      .select(\"svg\")\n      .remove();\n    select(this)\n      .select(\".interaction-tooltip\")\n      .remove();\n\n    const data = await load(this._accession);\n    if (data) {\n      const { data: processedData, subcellulartreeMenu, diseases } = process(\n        data\n      );\n      this.nodes = processedData;\n      dispatchLoadedEvent(this);\n      drawFilters(\n        this,\n        getFilters(subcellulartreeMenu, diseases),\n        this.filters,\n        this.clickFilter,\n        this.resetFilter,\n        this.resetAllFilters\n      );\n      switch (this.mode) {\n        case ADJACENCY_GRAPH:\n          drawAdjacencyGraph(\n            this,\n            this._accession,\n            data,\n            getFilters(subcellulartreeMenu, diseases)\n          );\n          break;\n        case FORCE_DIRECTED_GRAPH:\n          break;\n        //\n        default:\n          break;\n      }\n    }\n  }\n}\n\nexport default InteractionViewer;\n","/* eslint-disable prefer-template, no-param-reassign  */\n/* jslint node: true */\nconst symbolSize = 10;\n\nexport default class FeatureShape {\n  getFeatureShape(aaWidth, ftHeight, ftLength, shape) {\n    shape = shape || \"rectangle\";\n    this._ftLength = ftLength;\n    this._ftHeight = ftHeight;\n    this._ftWidth = aaWidth * ftLength;\n    if (typeof this[\"_\" + shape] !== \"function\") {\n      shape = \"rectangle\";\n    }\n    return this[\"_\" + shape]();\n  }\n\n  static isContinuous(shape) {\n    shape = shape.toLowerCase();\n    return shape !== \"bridge\";\n  }\n\n  _rectangle() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _roundRectangle() {\n    const radius = 6;\n    return (\n      \"M\" +\n      radius +\n      \",0\" +\n      \"h\" +\n      (this._ftWidth - 2 * radius) +\n      \",0\" +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      radius +\n      \"v\" +\n      (this._ftHeight - 2 * radius) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      radius +\n      \"h\" +\n      (2 * radius - this._ftWidth) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      -radius +\n      \"v\" +\n      (2 * radius - this._ftHeight) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      -radius +\n      \"Z\"\n    );\n  }\n\n  _line() {\n    return `M0,${this._ftHeight / 2} L${this._ftWidth},${this._ftHeight / 2}`;\n  }\n\n  _bridge() {\n    if (this._ftLength !== 1) {\n      return (\n        \"M0,\" +\n        this._ftHeight +\n        \"L0,0\" +\n        \"L\" +\n        this._ftWidth +\n        \",0\" +\n        \"L\" +\n        this._ftWidth +\n        \",\" +\n        this._ftHeight +\n        \"L\" +\n        this._ftWidth +\n        \",2\" +\n        \"L0,2\" +\n        \"Z\"\n      );\n    }\n    return (\n      \"M0,\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",0\" +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _getMiddleLine(centerx) {\n    return \"M0,\" + centerx + \"L\" + this._ftWidth + \",\" + centerx + \"Z\";\n  }\n\n  _diamond() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (m + centerx) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (m - centerx) +\n      \",\" +\n      centerx;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(centerx, this._ftWidth)\n      : shape + \"Z\";\n  }\n\n  _chevron() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",\" +\n      centerx +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      (-centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",\" +\n          centerx +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _catFace() {\n    const centerx = symbolSize / 2;\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-centerx + m) +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"M\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _triangle() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _wave() {\n    const rx = symbolSize / 4;\n    const ry = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-symbolSize / 2 + m) +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,0 \" +\n      (symbolSize / 2 + m) +\n      \",\" +\n      ry;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(ry, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getPolygon(sidesNumber) {\n    const r = symbolSize / 2;\n    let polygon = \"M \";\n    const m = this._ftWidth / 2;\n    for (let i = 0; i < sidesNumber; i++) {\n      polygon +=\n        r * Math.cos((2 * Math.PI * i) / sidesNumber) +\n        m +\n        \",\" +\n        (r * Math.sin((2 * Math.PI * i) / sidesNumber) + r) +\n        \" \";\n    }\n    return this._ftLength !== 1\n      ? polygon +\n          \" \" +\n          (r * Math.cos(0) + m) +\n          \",\" +\n          (r * Math.sin(0) + r) +\n          \" \" +\n          this._getMiddleLine(r, this._ftWidth) +\n          \"Z\"\n      : polygon + \"Z\";\n  }\n\n  _hexagon() {\n    return this._getPolygon(6);\n  }\n\n  _pentagon() {\n    return this._getPolygon(5);\n  }\n\n  _circle() {\n    const m = this._ftWidth / 2;\n    const r = Math.sqrt(symbolSize / Math.PI);\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      symbolSize +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(symbolSize / 2, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _arrow() {\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-step + m) +\n      \",0\" +\n      \"L\" +\n      (-5 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-step + m) +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      m +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      (4 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _doubleBar() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getBrokenEnd() {\n    const qh = this._ftHeight / 4.0;\n    return (\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      3 * qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight\n    );\n  }\n\n  _getBrokenStart() {\n    const qh = this._ftHeight / 4.0;\n    return \"L\" + qh + \",\" + 3 * qh + \"L0,\" + 2 * qh + \"L\" + qh + \",\" + qh;\n  }\n\n  _discontinuosStart() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuos() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuosEnd() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _helix() {\n    const x = symbolSize / 2; // Fitting two loops in a symbol\n    const y = symbolSize / 4;\n    let center = x / 2;\n    const nw = Math.round(this._ftWidth / x);\n\n    let loop = \"\";\n    for (let i = 0; i < nw; i++) {\n      const shape =\n        \"M\" +\n        (-(x / 2) + center) +\n        \",\" +\n        this._ftHeight +\n        \" C\" +\n        (center + y) +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \", 0\" +\n        \" C\" +\n        (center - y) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        this._ftHeight;\n      loop += shape;\n      center += x;\n    }\n    return loop;\n  }\n\n  _strand() {\n    let rl = 0;\n    if (this._ftWidth > symbolSize / 2) {\n      rl = this._ftWidth - symbolSize / 2;\n    }\n    const qh = this._ftHeight / 4;\n    const rect =\n      \"M0,\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      3 * qh +\n      \"L0,\" +\n      3 * qh +\n      \"L0,\" +\n      qh;\n    const triangle =\n      \"M\" +\n      rl +\n      \",\" +\n      0 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      rl +\n      \",\" +\n      this._ftHeight +\n      \"Z\";\n    return rect + triangle;\n  }\n}\n","export default class DefaultLayout {\n  constructor({ layoutHeight, padding = 1, minHeight = 17 }) {\n    this._padding = padding;\n    this._minHeight = minHeight;\n    this._layoutHeight = layoutHeight;\n  }\n\n  init(features) {\n    this._features = features;\n  }\n\n  getFeatureYPos() {\n    // Position right in the middle\n    const featureHeight = this.getFeatureHeight();\n    return this._layoutHeight / 2 - featureHeight / 2;\n  }\n\n  getFeatureHeight() {\n    return Math.min(this._layoutHeight, this._minHeight) - this._padding;\n  }\n}\n","import DefaultLayout from \"./DefaultLayout\";\n\nconst featuresOverlap = (feature1, feature2) => {\n  return !(\n    Number(feature2.start) > Number(feature1.end) ||\n    Number(feature2.end) < Number(feature1.start)\n  );\n};\n\nconst featureOvelapsInRow = (feature, row) => {\n  return row.some(rowFeature => featuresOverlap(feature, rowFeature));\n};\n\nexport default class NonOverlappingLayout extends DefaultLayout {\n  constructor(options) {\n    super(options);\n    this.featuresMap = new Map();\n    this._rowHeight = 0;\n    this._rows = [];\n    this._minHeight = 15;\n  }\n\n  init(features) {\n    features.forEach(feature => {\n      const rowIndex = this._rows.findIndex(\n        row => !featureOvelapsInRow(feature, row)\n      );\n      if (rowIndex >= 0) {\n        this._rows[rowIndex].push(feature);\n        this.featuresMap.set(feature, rowIndex);\n      } else {\n        this._rows.push([feature]);\n        this.featuresMap.set(feature, this._rows.length - 1);\n      }\n    });\n    this._rowHeight = Math.min(\n      this._layoutHeight / this._rows.length,\n      this._minHeight\n    );\n  }\n\n  getOffset() {\n    // this offset is required for centering if the number of rows doesn't\n    // fill the layout\n    if (this._rows.length * this._rowHeight < this._layoutHeight) {\n      return this._layoutHeight / 2 - (this._rows.length * this._rowHeight) / 2;\n    }\n    return 0;\n  }\n\n  getFeatureYPos(feature) {\n    const rowNumber = this.featuresMap.get(feature);\n    return this.getOffset() + this._rowHeight * rowNumber + 2 * this._padding;\n  }\n\n  getFeatureHeight() {\n    return this._rowHeight - 2 * this._padding;\n  }\n}\n","// eslint-disable-next-line\nexport const config = {\n  CHAIN: {\n    name: \"chain\",\n    label: \"Chain\",\n    tooltip:\n      \"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing\",\n    shape: \"rectangle\",\n    color: \"#CC9933\"\n  },\n  TRANSIT: {\n    name: \"transit peptide\",\n    label: \"Transit peptide\",\n    tooltip: \"This describes the extent of a transit peptide\",\n    shape: \"rectangle\",\n    color: \"#009966\"\n  },\n  INIT_MET: {\n    name: \"initiator methionine\",\n    label: \"Initiator methionine\",\n    tooltip:\n      \"This indicates that the initiator methionine is cleaved from the mature protein\",\n    shape: \"arrow\",\n    color: \"#996633\"\n  },\n  PROPEP: {\n    name: \"propeptide\",\n    label: \"Propeptide\",\n    tooltip:\n      \"Part of a protein that is cleaved during maturation or activation\",\n    shape: \"rectangle\",\n    color: \"#99CCCC\"\n  },\n  PEPTIDE: {\n    name: \"peptide\",\n    label: \"Peptide\",\n    tooltip:\n      \"The position and length of an active peptide in the mature protein\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  SIGNAL: {\n    name: \"signal peptide\",\n    label: \"Signal peptide\",\n    tooltip: \"N-terminal signal peptide\",\n    shape: \"rectangle\",\n    color: \"#CC0033\"\n  },\n  HELIX: {\n    name: \"helix\",\n    label: \"Helix\",\n    tooltip: \"The positions of experimentally determined helical regions\",\n    shape: \"rectangle\",\n    color: \"#FF0066\"\n  },\n  STRAND: {\n    name: \"strand\",\n    label: \"Beta strand\",\n    tooltip: \"The positions of experimentally determined beta strands\",\n    shape: \"rectangle\",\n    color: \"#FFCC00\"\n  },\n  TURN: {\n    name: \"turn\",\n    label: \"Turn\",\n    tooltip: \"The positions of experimentally determined hydrogen-bonded turns\",\n    shape: \"rectangle\",\n    color: \"#0571AF\"\n  },\n  DISULFID: {\n    name: \"disulfide bond\",\n    label: \"Disulfide bond\",\n    tooltip:\n      \"The positions of cysteine residues participating in disulphide bonds\",\n    shape: \"bridge\",\n    color: \"#23B14D\"\n  },\n  CROSSLNK: {\n    name: \"cross-link\",\n    label: \"Cross-link\",\n    tooltip:\n      \"Covalent linkages of various types formed between two proteins or between two parts of the same protein\",\n    shape: \"bridge\",\n    color: \"#FF6600\"\n  },\n  REGION: {\n    name: \"region of interest\",\n    label: \"Region of interest\",\n    tooltip:\n      \"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation\",\n    shape: \"rectangle\",\n    color: \"#B33E00\"\n  },\n  COILED: {\n    name: \"coiled-coil region\",\n    label: \"Coiled-coil region\",\n    tooltip:\n      \"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  MOTIF: {\n    name: \"short sequence motif\",\n    label: \"Short sequence motif\",\n    tooltip: \"Short conserved sequence motif of biological significance\",\n    shape: \"rectangle\",\n    color: \"#402060\"\n  },\n  REPEAT: {\n    name: \"repeat\",\n    label: \"Repeat\",\n    tooltip: \"Repeated sequence motifs or repeated domains within the protein\",\n    shape: \"rectangle\",\n    color: \"#9900FF\"\n  },\n  CA_BIND: {\n    name: \"calcium-binding region\",\n    label: \"Calcium-binding region\",\n    tooltip: \"Calcium-binding regions, such as the EF-hand motif\",\n    shape: \"rectangle\",\n    color: \"#FF3399\"\n  },\n  DNA_BIND: {\n    name: \"DNA-binding region\",\n    label: \"DNA binding\",\n    tooltip:\n      \"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain\",\n    shape: \"rectangle\",\n    color: \"#009933\"\n  },\n  DOMAIN: {\n    name: \"other domain of interest\",\n    label: \"Other domain of interest\",\n    tooltip:\n      \"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold\",\n    shape: \"rectangle\",\n    color: \"#9999FF\"\n  },\n  ZN_FING: {\n    name: \"zinc finger region\",\n    label: \"Zinc finger\",\n    tooltip:\n      \"Small, functional, independently folded domain that coordinates one or more zinc ions\",\n    shape: \"rectangle\",\n    color: \"#990066\"\n  },\n  NP_BIND: {\n    name: \"nucleotide-binding region\",\n    label: \"Nucleotide-binding region\",\n    tooltip:\n      \"(aka flavin-binding). Region in the protein which binds nucleotide phosphates\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  METAL: {\n    name: \"metal ion-binding site\",\n    label: \"Metal ion-binding site\",\n    tooltip: \"Binding site for a metal ion\",\n    shape: \"diamond\",\n    color: \"#009900\"\n  },\n  SITE: {\n    name: \"other site of interest\",\n    label: \"Other site of interest\",\n    tooltip: \"Any interesting single amino acid site on the sequence\",\n    shape: \"chevron\",\n    color: \"#660033\"\n  },\n  BINDING: {\n    name: \"other binding site\",\n    label: \"Other binding site\",\n    tooltip:\n      \"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)\",\n    shape: \"rectangle\",\n    color: \"#catFace\"\n  },\n  ACT_SITE: {\n    name: \"active site\",\n    label: \"Active site\",\n    tooltip: \"Amino acid(s) directly involved in the activity of an enzyme\",\n    shape: \"circle\",\n    color: \"#FF6666\"\n  },\n  MOD_RES: {\n    name: \"Post-translationally modified residue\",\n    label: \"Modified residue\",\n    tooltip:\n      \"Modified residues such as phosphorylation, acetylation, acylation, methylation\",\n    shape: \"triangle\",\n    color: \"#000066\"\n  },\n  LIPID: {\n    name: \"lipid moiety-binding region\",\n    label: \"Lipidation\",\n    tooltip: \"Covalently attached lipid group(s)\",\n    shape: \"wave\",\n    color: \"#99CC33\"\n  },\n  CARBOHYD: {\n    name: \"glycosylation site\",\n    label: \"Glycosylation\",\n    tooltip: \"Covalently attached glycan group(s)\",\n    shape: \"hexagon\",\n    color: \"#CC3366\"\n  },\n  COMPBIAS: {\n    name: \"compositionally biased region\",\n    label: \"Compositionally biased region\",\n    tooltip:\n      \"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions\",\n    shape: \"rectangle\",\n    color: \"#FF3366\"\n  },\n  CONFLICT: {\n    name: \"sequence conflict\",\n    label: \"Sequence conflict\",\n    tooltip: \"Sequence discrepancies of unknown origin\",\n    shape: \"rectangle\",\n    color: \"#6633CC\"\n  },\n  NON_CONS: {\n    name: \"non-consecutive residues\",\n    label: \"Non-adjacent residues\",\n    tooltip:\n      \"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them\",\n    shape: \"doubleBar\",\n    color: \"#FF0033\"\n  },\n  NON_TER: {\n    name: \"non-terminal residue\",\n    label: \"Non-terminal residue\",\n    tooltip:\n      \"The sequence is incomplete. The residue is not the terminal residue of the complete protein\",\n    shape: \"doubleBar\",\n    color: \"#339933\"\n  },\n  UNSURE: {\n    name: \"unsure residue\",\n    label: \"Sequence uncertainty\",\n    tooltip:\n      \"Regions of a sequence for which the authors are unsure about the sequence assignment\",\n    shape: \"rectangle\",\n    color: \"#33FF00\"\n  },\n  NON_STD: {\n    name: \"non-standard amino acid\",\n    label: \"Non-standard residue\",\n    tooltip: \"Non-standard amino acids (selenocysteine and pyrrolysine)\",\n    shape: \"pentagon\",\n    color: \"#330066\"\n  },\n  MUTAGEN: {\n    name: \"mutagenesis site\",\n    label: \"Mutagenesis\",\n    tooltip: \"Site which has been experimentally altered by mutagenesis\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  TOPO_DOM: {\n    name: \"topological domain\",\n    label: \"Topological domain\",\n    tooltip: \"Location of non-membrane regions of membrane-spanning proteins\",\n    shape: \"rectangle\",\n    color: \"#CC0000\"\n  },\n  TRANSMEM: {\n    name: \"transmembrane region\",\n    label: \"Transmembrane\",\n    tooltip: \"Extent of a membrane-spanning region\",\n    shape: \"rectangle\",\n    color: \"#CC00CC\"\n  },\n  INTRAMEM: {\n    name: \"intramembrane region\",\n    label: \"Intramembrane\",\n    tooltip: \"Extent of a region located in a membrane without crossing it\",\n    shape: \"rectangle\",\n    color: \"#0000CC\"\n  },\n  VAR_SEQ: {\n    name: \"splice variant\",\n    label: \"Splice variant\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#CC11CC\"\n  },\n  VARIANT: {\n    name: \"sequence variant\",\n    label: \"Natural variant\",\n    tooltip:\n      \"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events\",\n    shape: \"circle\",\n    color: \"black\"\n  },\n  UNIQUE: {\n    name: \"unique\",\n    label: \"Unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#fc3133\"\n  },\n  NON_UNIQUE: {\n    name: \"non-unique\",\n    label: \"Non-unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#8585fc\"\n  },\n  ANTIGEN: {\n    name: \"antigen\",\n    label: \"Antibody binding sequences\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#996699\"\n  },\n  PDBE_COVER: {\n    name: \"pdbe coverage\",\n    label: \"PDBe 3D structure coverage\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#669966\"\n  }\n};\n","import { config } from \"./config\";\n\nexport const getShapeByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].shape;\n  }\n  const info = Object.values(config).find(\n    typeInfo => typeInfo.name.toUpperCase() === type.toUpperCase()\n  );\n  if (info) {\n    return info.shape;\n  }\n  return \"rectangle\";\n};\n\nexport const getColorByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].color;\n  }\n  const info = Object.values(config).find(typeInfo => {\n    return typeInfo.name.toUpperCase() === type.toUpperCase();\n  });\n  if (!info) {\n    console.log(type);\n  }\n  if (info) {\n    return info.color;\n  }\n  return \"black\";\n};\n","import { select } from \"d3\";\nimport _includes from \"lodash-es/includes\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\nimport FeatureShape from \"./FeatureShape\";\nimport NonOverlappingLayout from \"./NonOverlappingLayout\";\nimport DefaultLayout from \"./DefaultLayout\";\nimport { getShapeByType, getColorByType } from \"./ConfigHelper\";\n\nclass ProtvistaTrack extends ProtvistaZoomable {\n  getLayout() {\n    if (String(this.getAttribute(\"layout\")).toLowerCase() === \"non-overlapping\")\n      return new NonOverlappingLayout({\n        layoutHeight: this._height,\n      });\n    return new DefaultLayout({\n      layoutHeight: this._height,\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._color = this.getAttribute(\"color\");\n    this._shape = this.getAttribute(\"shape\");\n    this._featureShape = new FeatureShape();\n    this._layoutObj = this.getLayout();\n\n    if (this._data) this._createTrack();\n\n    this.addEventListener(\"load\", (e) => {\n      if (_includes(this.children, e.target)) {\n        this.data = e.detail.payload;\n      }\n    });\n  }\n\n  static normalizeLocations(data) {\n    return data.map((obj) => {\n      const { locations, start, end } = obj;\n      return locations\n        ? obj\n        : Object.assign(obj, {\n            locations: [\n              {\n                fragments: [\n                  {\n                    start,\n                    end,\n                  },\n                ],\n              },\n            ],\n          });\n    });\n  }\n\n  processData(data) {\n    this._originalData = ProtvistaTrack.normalizeLocations(data);\n  }\n\n  set data(data) {\n    this.processData(data);\n    this._applyFilters();\n    this._layoutObj = this.getLayout();\n    this._createTrack();\n  }\n\n  set filters(filters) {\n    this._filters = filters;\n    this._applyFilters();\n    this._createTrack();\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat([\n      \"highlight\",\n      \"color\",\n      \"shape\",\n      \"filters\",\n    ]);\n  }\n\n  _getFeatureColor(f) {\n    if (f.color) {\n      return f.color;\n    }\n    if (f.feature && f.feature.color) {\n      return f.feature.color;\n    }\n    if (this._color) {\n      return this._color;\n    }\n    if (f.type) {\n      return getColorByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getColorByType(f.feature.type);\n    }\n    return \"black\";\n  }\n\n  _getFeatureFillColor(f) {\n    if (f.fill) {\n      return f.fill;\n    }\n    if (f.feature && f.feature.fill) {\n      return f.feature.fill;\n    }\n    return this._getFeatureColor(f);\n  }\n\n  _getShape(f) {\n    if (f.shape) {\n      return f.shape;\n    }\n    if (f.feature && f.feature.shape) {\n      return f.feature.shape;\n    }\n    if (this._shape) {\n      return this._shape;\n    }\n    if (f.type) {\n      return getShapeByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getShapeByType(f.feature.type);\n    }\n    return \"rectangle\";\n  }\n\n  _createTrack() {\n    this._layoutObj.init(this._data);\n\n    select(this).selectAll(\"div\").remove();\n\n    this.svg = select(this)\n      .append(\"div\")\n      .style(\"line-height\", 0)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n\n    this.seq_g = this.svg.append(\"g\").attr(\"class\", \"sequence-features\");\n\n    this._createFeatures();\n  }\n\n  _createFeatures() {\n    this.featuresG = this.seq_g.selectAll(\"g.feature-group\").data(this._data);\n\n    this.locations = this.featuresG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", (d) => `g_${d.accession}`)\n      .selectAll(\"g.location-group\")\n      .data((d) =>\n        d.locations.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    const fragmentGroup = this.locations\n      .selectAll(\"g.fragment-group\")\n      .data((d) =>\n        d.fragments.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d.feature,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"fragment-group\");\n\n    fragmentGroup\n      .append(\"path\")\n      .attr(\"class\", (f) => `${this._getShape(f)} feature`)\n      .attr(\"d\", (f) =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f),\n          f.end ? f.end - f.start + 1 : 1,\n          this._getShape(f)\n        )\n      )\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", (f) => this._getFeatureFillColor(f))\n      .attr(\"stroke\", (f) => this._getFeatureColor(f))\n      .style(\"fill-opacity\", ({ feature }) =>\n        feature.opacity ? feature.opacity : 0.9\n      )\n      .style(\"stroke-opacity\", ({ feature }) => {\n        return feature.opacity ? feature.opacity : 0.9;\n      });\n\n    fragmentGroup\n      .append(\"rect\")\n      .attr(\"class\", \"outer-rectangle feature\")\n      .attr(\n        \"width\",\n        (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n      )\n      .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", \"transparent\")\n      .attr(\"stroke\", \"transparent\")\n      .call(this.bindEvents, this);\n  }\n\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    // Filters are OR-ed within a category and AND-ed between categories\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map((filterGroup) => {\n      const filteredData = filterGroup.map((filterItem) =>\n        filterItem.filterFn(this._originalData)\n      );\n      return _union(...filteredData);\n    });\n    const intersection = _intersection(...filteredGroups);\n    this._data = intersection;\n  }\n\n  refresh() {\n    if (this.xScale && this.seq_g) {\n      const fragmentG = this.seq_g.selectAll(\"g.fragment-group\").data(\n        this._data.reduce(\n          (acc, f) =>\n            acc.concat(\n              f.locations.reduce(\n                (acc2, e) =>\n                  acc2.concat(\n                    e.fragments.map((loc) =>\n                      Object.assign({}, loc, {\n                        feature: f,\n                      })\n                    )\n                  ),\n                []\n              )\n            ),\n          []\n        )\n      );\n\n      fragmentG\n        .selectAll(\"path.feature\")\n        .attr(\"d\", (f) =>\n          this._featureShape.getFeatureShape(\n            this.getSingleBaseWidth(),\n            this._layoutObj.getFeatureHeight(f),\n            f.end ? f.end - f.start + 1 : 1,\n            this._getShape(f)\n          )\n        )\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      fragmentG\n        .selectAll(\"rect.outer-rectangle\")\n        .attr(\n          \"width\",\n          (f) => this.getSingleBaseWidth() * (f.end ? f.end - f.start + 1 : 1)\n        )\n        .attr(\"height\", (f) => this._layoutObj.getFeatureHeight(f))\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtvistaTrack;\nexport { DefaultLayout };\n","function processVariants(data) {\n  const { variants, sequence } = data;\n\n  if (!sequence || !variants) return null;\n\n  // const mutationArray = [];\n\n  const seq = sequence.split(\"\");\n\n  const mutationArray = seq.map((aa, i) => {\n    return {\n      type: \"VARIANT\",\n      normal: aa,\n      pos: i + 1,\n      variants: []\n    };\n  });\n\n  variants.forEach(variant => {\n    if (mutationArray[variant.start - 1]) {\n      // Currently not dealing with variants outside of sequence\n      mutationArray[variant.start - 1].variants.push(variant);\n    }\n  });\n  return mutationArray;\n}\n\nexport default processVariants;\n","import { select, scalePow } from \"d3\";\n\nclass VariationPlot {\n  constructor() {\n    this._frequency = scalePow().exponent(0.001).domain([0, 1]).range([5, 10]);\n    // Data bind otherwise babel removes it\n    this.drawVariationPlot = this.drawVariationPlot.bind(this);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  drawVariationPlot(selection, element) {\n    const ftWidth = element.getSingleBaseWidth();\n    const half = ftWidth / 2;\n    // Iterate over data\n    selection.each((data, i, nodes) => {\n      // Generate chart\n      const series = select(nodes[i]);\n\n      // Only draw positions where there is data\n      const withVariants = data.filter((elem) => elem.variants.length !== 0);\n\n      // bind data\n      const bars = series.selectAll(\"g\").data(withVariants, (d) => d.pos);\n\n      bars.exit().remove();\n\n      // On enter append for each data point\n      const circle = bars\n        .enter()\n        .append(\"g\")\n        .merge(bars)\n        .selectAll(\"circle\")\n        .data((d) => d.variants);\n\n      circle.exit().remove();\n\n      circle\n        .enter()\n        .append(\"circle\")\n        .merge(circle)\n        .attr(\"class\", \"feature\")\n        .attr(\"title\", (d) => d.start)\n        .attr(\"r\", (d) => (d.size ? d.size : 5))\n        .attr(\"cx\", (d) => {\n          return element.getXFromSeqPosition(d.start) + half;\n        })\n        .attr(\"cy\", (d) => {\n          return element._yScale(d.variant.charAt(0));\n        })\n        .attr(\"name\", (d) => {\n          const mutation =\n            d.alternativeSequence === \"*\" ? \"STOP\" : d.alternativeSequence;\n          // eslint-disable-next-line no-param-reassign\n          d.internalId = `var_${d.wildType}${d.start}${mutation}`;\n          return d.internalId;\n        })\n        .attr(\"fill\", (d) =>\n          element._colorConfig ? element._colorConfig(d) : d.color\n        )\n        .call(element.bindEvents, element);\n    });\n  }\n}\n\nexport default VariationPlot;\n","import ProtvistaTrack from \"protvista-track\";\nimport { scaleLinear, scalePoint, axisLeft, axisRight } from \"d3\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport processVariants from \"./processVariants\";\nimport VariationPlot from \"./variationPlot\";\n\nconst aaList = [\n  \"G\",\n  \"A\",\n  \"V\",\n  \"L\",\n  \"I\",\n  \"S\",\n  \"T\",\n  \"C\",\n  \"M\",\n  \"D\",\n  \"N\",\n  \"E\",\n  \"Q\",\n  \"R\",\n  \"K\",\n  \"H\",\n  \"F\",\n  \"Y\",\n  \"W\",\n  \"P\",\n  \"d\",\n  \"*\"\n];\n\nconst deepArrayOperation = (arrays, operation) => {\n  if (!arrays || arrays.length <= 0) {\n    return null;\n  }\n  const firstArray = arrays[0];\n  // Iterate over positions\n  firstArray.forEach((position, i) => {\n    const filteredVariants = arrays.map(array => array[i].variants);\n    /* eslint-disable no-param-reassign */\n    position.variants = operation(...filteredVariants);\n  });\n  return firstArray;\n};\n\nclass ProtvistaVariation extends ProtvistaTrack {\n  connectedCallback() {\n    super.connectedCallback();\n    const styleElt = document.createElement(\"style\");\n    styleElt.innerHTML = ProtvistaVariation.css;\n    this.appendChild(styleElt);\n    this._height = Number(this.getAttribute(\"height\"))\n      ? Number(this.getAttribute(\"height\"))\n      : 430;\n    this._width = this._width ? this._width : 0;\n    this._yScale = scaleLinear();\n    // scale for Amino Acids\n    this._yScale = scalePoint()\n      .domain(aaList)\n      .range([0, this._height - this.margin.top - this.margin.bottom]);\n  }\n\n  processData(data) {\n    this._originalData = processVariants(data);\n  }\n\n  static get css() {\n    return `\n    <style>\n    protvista-variation {\n      display: flex;\n      width: 100%;\n    }\n    \n    protvista-variation svg {\n      background-color: #fff;\n    }\n    \n    protvista-variation circle {\n      opacity: 0.6;\n    }\n    protvista-variation circle:hover {\n      opacity: 0.9;\n    }\n    protvista-variation .tick line,\n    protvista-variation .axis path {\n      opacity: 0.1;\n    }\n    \n    .protvista-highlight {\n      fill: #ffe999;\n    }\n    \n    protvista-variation .variation-y-right line,\n    protvista-variation .axis path {\n      fill: none;\n      stroke: none;\n    }\n    \n    </style>\n    `;\n  }\n\n  _createFeatures() {\n    this._variationPlot = new VariationPlot();\n    // Group for the main chart\n    const mainChart = super.svg.select(\"g.sequence-features\");\n\n    // clip path prevents drawing outside of it\n    const chartArea = mainChart\n      .attr(\"transform\", `translate(0, ${this.margin.top})`)\n      .append(\"g\")\n      .attr(\"clip-path\", \"url(#plotAreaClip)\");\n\n    this._clipPath = mainChart\n      .append(\"clipPath\")\n      .attr(\"id\", \"plotAreaClip\")\n      .append(\"rect\")\n      .attr(\"width\", this.getWidthWithMargins())\n      .attr(\"height\", this._height)\n      .attr(\"transform\", `translate(0, -${this.margin.top})`);\n\n    // This is calling the data series render code for each of the items in the data\n    this._series = chartArea.datum(this._data);\n\n    this._axisLeft = mainChart.append(\"g\");\n\n    this._axisRight = mainChart.append(\"g\");\n\n    this.updateScale();\n  }\n\n  // Overwrite filters setters as we use updateData instead of refresh\n  set filters(filters) {\n    super.filters = filters;\n    this.updateData(this._data);\n    this.refresh();\n  }\n\n  /*\n   * We have to overwrite this function as variants are in arrays\n   * of arrays so the regular union/intersection won't work\n   */\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map(filterGroup => {\n      const filteredData = filterGroup.map(filterItem =>\n        filterItem.filterFn(this._originalData)\n      );\n      return deepArrayOperation(filteredData, _union);\n    });\n\n    this._data = deepArrayOperation(filteredGroups, _intersection);\n  }\n\n  set colorConfig(colorConfig) {\n    this._colorConfig = colorConfig;\n  }\n\n  get colorConfig() {\n    return this._colorConfig;\n  }\n\n  // Calling render again\n  refresh() {\n    if (this._series) {\n      this._clipPath.attr(\"width\", this.getWidthWithMargins());\n      this.updateScale();\n      this._series.call(this._variationPlot.drawVariationPlot, this);\n      this._updateHighlight();\n    }\n  }\n\n  updateScale() {\n    this._yAxisLScale = axisLeft()\n      .scale(this._yScale)\n      .tickSize(-this.getWidthWithMargins());\n\n    this._yAxisRScale = axisRight().scale(this._yScale);\n\n    this._axisLeft\n      .attr(\"class\", \"variation-y-left axis\")\n      .attr(\"transform\", `translate(${this.margin.left},0)`)\n      .call(this._yAxisLScale);\n\n    this._axisRight\n      .attr(\n        \"transform\",\n        `translate(${this.getWidthWithMargins() - this.margin.right + 2}, 0)`\n      )\n      .attr(\"class\", \"variation-y-right axis\")\n      .call(this._yAxisRScale);\n  }\n\n  updateData(data) {\n    if (this._series) {\n      this._series.datum(data);\n    }\n  }\n}\n\nexport default ProtvistaVariation;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import { formatXrefs, getEvidenceFromCodes } from \"protvista-feature-adapter\";\nimport groupBy from \"lodash-es/groupBy\";\nexport const getDiseaseAssociations = (associations) => associations === null || associations === void 0 ? void 0 : associations.map((association) => `\n              <h4>Disease association</h4><p>${association.name}</p>\n              ${association.description\n    ? `<>${association.description}</p>`\n    : \"\"}\n              ${association.dbReferences\n    ? `<h5>Cross-references</h5>${formatXrefs(association.dbReferences)}`\n    : \"\"}\n              ${getEvidenceFromCodes(association.evidences)}\n          `).join(\"\");\nexport const getDescriptions = (descriptions) => `<hr/><h5>Description</h5>${descriptions\n    .map((description) => `<p>${description.value}</p>`)\n    .join(\"\")}\n  `;\nexport const getPopulationFrequencies = (popFrequencies) => `<hr/><h5>Population frequencies</h5>${popFrequencies\n    .map((freq) => `<p>${freq.frequency} - ${freq.populationName} (${freq.source})</p>`)\n    .join(\"\")}`;\nexport const getPredictions = (predictions) => {\n    const groupedPredictions = groupBy(predictions, \"predAlgorithmNameType\");\n    const counts = Object.keys(groupedPredictions).map((key) => {\n        const valueGroups = groupBy(groupedPredictions[key], \"predictionValType\");\n        return {\n            algorithm: key,\n            values: Object.keys(valueGroups).map((valKey) => ({\n                name: valKey,\n                count: valueGroups[valKey].length,\n            })),\n        };\n    });\n    return counts\n        .map((countItem) => `<h6>${countItem.algorithm}</h6><ul class=\"no-bullet\">${countItem.values\n        .map((countValue) => `<li>${countValue.name} (${countValue.count} studies)</li>`)\n        .join(\"\")}</ul>`)\n        .join(\"\");\n};\nexport const formatTooltip = (variant) => `\n                <h5>Variant</h5><p>${variant.wildType} > ${variant.alternativeSequence}</p>\n                ${variant.populationFrequencies\n    ? getPopulationFrequencies(variant.populationFrequencies)\n    : \"\"}\n                ${variant.consequenceType\n    ? `<h5>Consequence</h5><p>${variant.consequenceType}</p>`\n    : ``}\n                ${variant.somaticStatus\n    ? `<h5>Somatic</h5><p>${variant.somaticStatus === 0 ? \"No\" : \"Yes\"}</p>`\n    : ``}\n                ${variant.genomicLocation\n    ? `<h5>Location</h5><p>${variant.genomicLocation}</p>`\n    : ``}\n                ${variant.ftId\n    ? `<h5>Feature ID</h5><p>${variant.ftId}</p>`\n    : ``}\n                ${variant.descriptions\n    ? getDescriptions(variant.descriptions)\n    : \"\"}\n                ${variant.association\n    ? getDiseaseAssociations(variant.association)\n    : \"\"}\n                ${variant.predictions ? getPredictions(variant.predictions) : \"\"}\n\n                \n        `;\nexport default formatTooltip;\n//# sourceMappingURL=tooltipGenerators.js.map","export var AminoAcid;\n(function (AminoAcid) {\n    AminoAcid[\"A\"] = \"A\";\n    AminoAcid[\"C\"] = \"C\";\n    AminoAcid[\"D\"] = \"D\";\n    AminoAcid[\"E\"] = \"E\";\n    AminoAcid[\"Empty\"] = \"*\";\n    AminoAcid[\"F\"] = \"F\";\n    AminoAcid[\"G\"] = \"G\";\n    AminoAcid[\"H\"] = \"H\";\n    AminoAcid[\"I\"] = \"I\";\n    AminoAcid[\"K\"] = \"K\";\n    AminoAcid[\"L\"] = \"L\";\n    AminoAcid[\"M\"] = \"M\";\n    AminoAcid[\"N\"] = \"N\";\n    AminoAcid[\"Nl\"] = \"NL\";\n    AminoAcid[\"P\"] = \"P\";\n    AminoAcid[\"Q\"] = \"Q\";\n    AminoAcid[\"R\"] = \"R\";\n    AminoAcid[\"S\"] = \"S\";\n    AminoAcid[\"T\"] = \"T\";\n    AminoAcid[\"V\"] = \"V\";\n    AminoAcid[\"W\"] = \"W\";\n    AminoAcid[\"Y\"] = \"Y\";\n})(AminoAcid || (AminoAcid = {}));\n/*\n * This has been imported from the backend enums but\n * might be best kept as a string...\n */\nexport var Source;\n(function (Source) {\n    Source[\"CLINVAR\"] = \"ClinVar\";\n    Source[\"ESP\"] = \"ESP\";\n    Source[\"EXAC\"] = \"ExAC\";\n    Source[\"GENOMES1K\"] = \"1000Genomes\";\n    Source[\"BOVINE_SNP50\"] = \"BovineSNP50\";\n    Source[\"BOVINE_LD\"] = \"BovineLD\";\n    Source[\"BOVINE_HD\"] = \"BovineHD\";\n    Source[\"EQUINE_SNP50\"] = \"EquineSNP50\";\n    Source[\"CHICKEN_600K\"] = \"Chicken600K\";\n    Source[\"KG_HQ\"] = \"1kg_hq\";\n    Source[\"COSMIC\"] = \"cosmic curated\";\n    Source[\"REVIEWED\"] = \"reviewed\";\n    Source[\"UNIPROT\"] = \"UniProt\";\n    Source[\"DBSNP\"] = \"dbSNP\";\n    Source[\"ENSEMBL\"] = \"Ensembl\";\n    Source[\"ENSEMBL_PLANTS\"] = \"EnsemblPlants\";\n    Source[\"VECTORBASE\"] = \"VectorBase\";\n    Source[\"REFSEQ\"] = \"RefSeq\";\n    Source[\"DBGAP\"] = \"dbGaP\";\n    Source[\"DDD\"] = \"DDD\";\n    Source[\"PHARMCOGKB\"] = \"PharmGKB\";\n    Source[\"ENSEMBL_FUNGI\"] = \"EnsemblFungi\";\n    Source[\"ENSEMBL_METAZOA\"] = \"EnsemblMetazoa\";\n    Source[\"GNOMAD_V2\"] = \"gnomAD_v2.0\";\n    Source[\"GNOMAD_V3\"] = \"gnomAD_v3.0\";\n    Source[\"TCGA\"] = \"NCI-TCGA\";\n    Source[\"TCGA_COSMIC\"] = \"NCI-TCGA Cosmic\";\n    Source[\"DECIPHER\"] = \"ddG2P\";\n    Source[\"TOPMED\"] = \"TOPMed\";\n    Source[\"GNOMAD\"] = \"gnomAD\";\n    Source[\"PHARMGKB\"] = \"pharmgkb\";\n    Source[\"SGRP\"] = \"SGRP\";\n    Source[\"SGD\"] = \"SGD\";\n    Source[\"JEFFARES_SNPS\"] = \"Jeffares_SNPs\";\n    Source[\"JEFFARES_INDELS\"] = \"Jeffares_Indels\";\n})(Source || (Source = {}));\nexport var ClinicalSignificanceType;\n(function (ClinicalSignificanceType) {\n    ClinicalSignificanceType[\"Benign\"] = \"Benign\";\n    ClinicalSignificanceType[\"Disease\"] = \"Disease\";\n    ClinicalSignificanceType[\"LikelyBenign\"] = \"Likely benign\";\n    ClinicalSignificanceType[\"LikelyPathogenic\"] = \"Likely pathogenic\";\n    ClinicalSignificanceType[\"Pathogenic\"] = \"Pathogenic\";\n    ClinicalSignificanceType[\"Protective\"] = \"Protective\";\n    ClinicalSignificanceType[\"VariantOfUncertainSignificance\"] = \"Variant of uncertain significance\";\n})(ClinicalSignificanceType || (ClinicalSignificanceType = {}));\nexport var ConsequenceType;\n(function (ConsequenceType) {\n    ConsequenceType[\"Empty\"] = \"-\";\n    ConsequenceType[\"Frameshift\"] = \"frameshift\";\n    ConsequenceType[\"InframeDeletion\"] = \"inframe deletion\";\n    ConsequenceType[\"Insertion\"] = \"insertion\";\n    ConsequenceType[\"Missense\"] = \"missense\";\n    ConsequenceType[\"StopGained\"] = \"stop gained\";\n})(ConsequenceType || (ConsequenceType = {}));\nexport var PredAlgorithmNameType;\n(function (PredAlgorithmNameType) {\n    PredAlgorithmNameType[\"PolyPhen\"] = \"PolyPhen\";\n    PredAlgorithmNameType[\"Sift\"] = \"SIFT\";\n})(PredAlgorithmNameType || (PredAlgorithmNameType = {}));\nexport var PredictionValType;\n(function (PredictionValType) {\n    PredictionValType[\"Benign\"] = \"benign\";\n    PredictionValType[\"Deleterious\"] = \"deleterious\";\n    PredictionValType[\"DeleteriousLowConfidence\"] = \"deleterious - low confidence\";\n    PredictionValType[\"PossiblyDamaging\"] = \"possibly damaging\";\n    PredictionValType[\"ProbablyDamaging\"] = \"probably damaging\";\n    PredictionValType[\"Tolerated\"] = \"tolerated\";\n    PredictionValType[\"ToleratedLowConfidence\"] = \"tolerated - low confidence\";\n    PredictionValType[\"Unknown\"] = \"unknown\";\n})(PredictionValType || (PredictionValType = {}));\nexport var SourceType;\n(function (SourceType) {\n    SourceType[\"LargeScaleStudy\"] = \"large_scale_study\";\n    SourceType[\"Mixed\"] = \"mixed\";\n    SourceType[\"UniProt\"] = \"uniprot\";\n})(SourceType || (SourceType = {}));\nexport var FeatureType;\n(function (FeatureType) {\n    FeatureType[\"Variant\"] = \"VARIANT\";\n})(FeatureType || (FeatureType = {}));\n//# sourceMappingURL=variants.js.map","import ProtvistaFeatureAdapter from \"protvista-feature-adapter\";\nimport { v1 } from \"uuid\";\nimport formatTooltip from \"./tooltipGenerators\";\nimport { FeatureType, } from \"./variants\";\nconst getSourceType = (xrefs, sourceType) => {\n    const xrefNames = xrefs ? xrefs.map((ref) => ref.name) : [];\n    if (sourceType === \"uniprot\" || sourceType === \"mixed\") {\n        xrefNames.push(\"uniprot\");\n    }\n    return xrefNames;\n};\nexport const transformData = (data) => {\n    const { sequence, features } = data;\n    const variants = features.map((variant) => ({\n        type: FeatureType.Variant,\n        accession: variant.genomicLocation,\n        variant: variant.alternativeSequence ? variant.alternativeSequence : \"-\",\n        start: variant.begin,\n        end: variant.end,\n        tooltipContent: formatTooltip(variant),\n        association: variant.association,\n        sourceType: variant.sourceType,\n        xrefNames: getSourceType(variant.xrefs, variant.sourceType),\n        clinicalSignificances: variant.clinicalSignificances,\n        hasPredictions: variant.predictions && variant.predictions.length > 0,\n        protvistaFeatureId: v1(),\n    }));\n    if (!variants)\n        return null;\n    return { sequence, variants };\n};\nclass ProtvistaVariationAdapter extends ProtvistaFeatureAdapter {\n    static get is() {\n        return \"protvista-variation-adapter\";\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.closest(\"protvista-manager\")) {\n            this.manager = this.closest(\"protvista-manager\");\n            this.manager.register(this);\n        }\n    }\n    disconnectedCallback() {\n        if (this.manager) {\n            this.manager.unregister(this);\n        }\n    }\n    parseEntry(data) {\n        this._adaptedData = transformData(data);\n    }\n    _fireEvent(name, detail) {\n        this.dispatchEvent(new CustomEvent(name, {\n            detail,\n            bubbles: true,\n            cancelable: true,\n        }));\n    }\n}\nexport default ProtvistaVariationAdapter;\n//# sourceMappingURL=protvista-variation-adapter.js.map","/* eslint-disable prefer-template, no-param-reassign  */\n/* jslint node: true */\nconst symbolSize = 10;\n\nexport default class FeatureShape {\n  getFeatureShape(aaWidth, ftHeight, ftLength, shape) {\n    shape = shape || \"rectangle\";\n    this._ftLength = ftLength;\n    this._ftHeight = ftHeight;\n    this._ftWidth = aaWidth * ftLength;\n    if (typeof this[\"_\" + shape] !== \"function\") {\n      shape = \"rectangle\";\n    }\n    return this[\"_\" + shape]();\n  }\n\n  static isContinuous(shape) {\n    shape = shape.toLowerCase();\n    return shape !== \"bridge\";\n  }\n\n  _rectangle() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _roundRectangle() {\n    const radius = 6;\n    return (\n      \"M\" +\n      radius +\n      \",0\" +\n      \"h\" +\n      (this._ftWidth - 2 * radius) +\n      \",0\" +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      radius +\n      \"v\" +\n      (this._ftHeight - 2 * radius) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      radius +\n      \"h\" +\n      (2 * radius - this._ftWidth) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      -radius +\n      \",\" +\n      -radius +\n      \"v\" +\n      (2 * radius - this._ftHeight) +\n      \"a\" +\n      radius +\n      \",\" +\n      radius +\n      \" 0 0 1 \" +\n      radius +\n      \",\" +\n      -radius +\n      \"Z\"\n    );\n  }\n\n  _line() {\n    return `M0,${this._ftHeight / 2} L${this._ftWidth},${this._ftHeight / 2}`;\n  }\n\n  _bridge() {\n    if (this._ftLength !== 1) {\n      return (\n        \"M0,\" +\n        this._ftHeight +\n        \"L0,0\" +\n        \"L\" +\n        this._ftWidth +\n        \",0\" +\n        \"L\" +\n        this._ftWidth +\n        \",\" +\n        this._ftHeight +\n        \"L\" +\n        this._ftWidth +\n        \",2\" +\n        \"L0,2\" +\n        \"Z\"\n      );\n    }\n    return (\n      \"M0,\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",0\" +\n      \"L\" +\n      this._ftWidth / 2 +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight / 2 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _getMiddleLine(centerx) {\n    return \"M0,\" + centerx + \"L\" + this._ftWidth + \",\" + centerx + \"Z\";\n  }\n\n  _diamond() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (m + centerx) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (m - centerx) +\n      \",\" +\n      centerx;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(centerx, this._ftWidth)\n      : shape + \"Z\";\n  }\n\n  _chevron() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",\" +\n      centerx +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      centerx +\n      \"L\" +\n      (-centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",\" +\n          centerx +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _catFace() {\n    const centerx = symbolSize / 2;\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-centerx + m) +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      6 * step +\n      \"L\" +\n      (centerx + m) +\n      \",0\" +\n      \"L\" +\n      (2 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-2 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"M\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _triangle() {\n    const centerx = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(centerx, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _wave() {\n    const rx = symbolSize / 4;\n    const ry = symbolSize / 2;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      (-symbolSize / 2 + m) +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      ry +\n      \"A\" +\n      rx +\n      \",\" +\n      ry +\n      \" 0 1,0 \" +\n      (symbolSize / 2 + m) +\n      \",\" +\n      ry;\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(ry, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getPolygon(sidesNumber) {\n    const r = symbolSize / 2;\n    let polygon = \"M \";\n    const m = this._ftWidth / 2;\n    for (let i = 0; i < sidesNumber; i++) {\n      polygon +=\n        r * Math.cos((2 * Math.PI * i) / sidesNumber) +\n        m +\n        \",\" +\n        (r * Math.sin((2 * Math.PI * i) / sidesNumber) + r) +\n        \" \";\n    }\n    return this._ftLength !== 1\n      ? polygon +\n          \" \" +\n          (r * Math.cos(0) + m) +\n          \",\" +\n          (r * Math.sin(0) + r) +\n          \" \" +\n          this._getMiddleLine(r, this._ftWidth) +\n          \"Z\"\n      : polygon + \"Z\";\n  }\n\n  _hexagon() {\n    return this._getPolygon(6);\n  }\n\n  _pentagon() {\n    return this._getPolygon(5);\n  }\n\n  _circle() {\n    const m = this._ftWidth / 2;\n    const r = Math.sqrt(symbolSize / Math.PI);\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",\" +\n      symbolSize +\n      \"A\" +\n      r +\n      \",\" +\n      r +\n      \" 0 1,1 \" +\n      m +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape + this._getMiddleLine(symbolSize / 2, this._ftWidth) + \"Z\"\n      : shape + \"Z\";\n  }\n\n  _arrow() {\n    const step = symbolSize / 10;\n    const m = this._ftWidth / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-step + m) +\n      \",0\" +\n      \"L\" +\n      (-5 * step + m) +\n      \",\" +\n      4 * step +\n      \"L\" +\n      (-step + m) +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      m +\n      \",\" +\n      this._ftHeight +\n      \"L\" +\n      (4 * step + m) +\n      \",\" +\n      4 * step;\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _doubleBar() {\n    const m = this._ftWidth / 2;\n    const centerx = symbolSize / 2;\n    const shape =\n      \"M\" +\n      m +\n      \",0\" +\n      \"L\" +\n      (-centerx + m) +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      m +\n      \",\" +\n      symbolSize +\n      \"L\" +\n      (centerx + m) +\n      \",0\";\n    return this._ftLength !== 1\n      ? shape +\n          \"L\" +\n          m +\n          \",0\" +\n          this._getMiddleLine(symbolSize / 2, this._ftWidth) +\n          \"Z\"\n      : shape + \"Z\";\n  }\n\n  _getBrokenEnd() {\n    const qh = this._ftHeight / 4.0;\n    return (\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      (this._ftWidth - qh) +\n      \",\" +\n      3 * qh +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight\n    );\n  }\n\n  _getBrokenStart() {\n    const qh = this._ftHeight / 4.0;\n    return \"L\" + qh + \",\" + 3 * qh + \"L0,\" + 2 * qh + \"L\" + qh + \",\" + qh;\n  }\n\n  _discontinuosStart() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      this._ftHeight +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuos() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      this._getBrokenStart() +\n      \"Z\"\n    );\n  }\n\n  _discontinuosEnd() {\n    return (\n      \"M0,0\" +\n      \"L\" +\n      this._ftWidth +\n      \",0\" +\n      this._getBrokenEnd() +\n      \"L0,\" +\n      this._ftHeight +\n      \"Z\"\n    );\n  }\n\n  _helix() {\n    const x = symbolSize / 2; // Fitting two loops in a symbol\n    const y = symbolSize / 4;\n    let center = x / 2;\n    const nw = Math.round(this._ftWidth / x);\n\n    let loop = \"\";\n    for (let i = 0; i < nw; i++) {\n      const shape =\n        \"M\" +\n        (-(x / 2) + center) +\n        \",\" +\n        this._ftHeight +\n        \" C\" +\n        (center + y) +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \", 0\" +\n        \" C\" +\n        (center - y) +\n        \",\" +\n        y +\n        \" \" +\n        center +\n        \",\" +\n        3 * y +\n        \" \" +\n        (x / 2 + center) +\n        \",\" +\n        this._ftHeight;\n      loop += shape;\n      center += x;\n    }\n    return loop;\n  }\n\n  _strand() {\n    let rl = 0;\n    if (this._ftWidth > symbolSize / 2) {\n      rl = this._ftWidth - symbolSize / 2;\n    }\n    const qh = this._ftHeight / 4;\n    const rect =\n      \"M0,\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      qh +\n      \"L\" +\n      rl +\n      \",\" +\n      3 * qh +\n      \"L0,\" +\n      3 * qh +\n      \"L0,\" +\n      qh;\n    const triangle =\n      \"M\" +\n      rl +\n      \",\" +\n      0 +\n      \"L\" +\n      this._ftWidth +\n      \",\" +\n      2 * qh +\n      \"L\" +\n      rl +\n      \",\" +\n      this._ftHeight +\n      \"Z\";\n    return rect + triangle;\n  }\n}\n","export default class DefaultLayout {\n  constructor({ layoutHeight, padding = 1, minHeight = 17 }) {\n    this._padding = padding;\n    this._minHeight = minHeight;\n    this._layoutHeight = layoutHeight;\n  }\n\n  init(features) {\n    this._features = features;\n  }\n\n  getFeatureYPos() {\n    // Position right in the middle\n    const featureHeight = this.getFeatureHeight();\n    return this._layoutHeight / 2 - featureHeight / 2;\n  }\n\n  getFeatureHeight() {\n    return Math.min(this._layoutHeight, this._minHeight) - this._padding;\n  }\n}\n","import DefaultLayout from \"./DefaultLayout\";\n\nconst featuresOverlap = (feature1, feature2) => {\n  return !(\n    Number(feature2.start) > Number(feature1.end) ||\n    Number(feature2.end) < Number(feature1.start)\n  );\n};\n\nconst featureOvelapsInRow = (feature, row) => {\n  return row.some(rowFeature => featuresOverlap(feature, rowFeature));\n};\n\nexport default class NonOverlappingLayout extends DefaultLayout {\n  constructor(options) {\n    super(options);\n    this.featuresMap = new Map();\n    this._rowHeight = 0;\n    this._rows = [];\n    this._minHeight = 15;\n  }\n\n  init(features) {\n    features.forEach(feature => {\n      const rowIndex = this._rows.findIndex(\n        row => !featureOvelapsInRow(feature, row)\n      );\n      if (rowIndex >= 0) {\n        this._rows[rowIndex].push(feature);\n        this.featuresMap.set(feature, rowIndex);\n      } else {\n        this._rows.push([feature]);\n        this.featuresMap.set(feature, this._rows.length - 1);\n      }\n    });\n    this._rowHeight = Math.min(\n      this._layoutHeight / this._rows.length,\n      this._minHeight\n    );\n  }\n\n  getOffset() {\n    // this offset is required for centering if the number of rows doesn't\n    // fill the layout\n    if (this._rows.length * this._rowHeight < this._layoutHeight) {\n      return this._layoutHeight / 2 - (this._rows.length * this._rowHeight) / 2;\n    }\n    return 0;\n  }\n\n  getFeatureYPos(feature) {\n    const rowNumber = this.featuresMap.get(feature);\n    return this.getOffset() + this._rowHeight * rowNumber + 2 * this._padding;\n  }\n\n  getFeatureHeight() {\n    return this._rowHeight - 2 * this._padding;\n  }\n}\n","// eslint-disable-next-line\nexport const config = {\n  CHAIN: {\n    name: \"chain\",\n    label: \"Chain\",\n    tooltip:\n      \"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing\",\n    shape: \"rectangle\",\n    color: \"#CC9933\"\n  },\n  TRANSIT: {\n    name: \"transit peptide\",\n    label: \"Transit peptide\",\n    tooltip: \"This describes the extent of a transit peptide\",\n    shape: \"rectangle\",\n    color: \"#009966\"\n  },\n  INIT_MET: {\n    name: \"initiator methionine\",\n    label: \"Initiator methionine\",\n    tooltip:\n      \"This indicates that the initiator methionine is cleaved from the mature protein\",\n    shape: \"arrow\",\n    color: \"#996633\"\n  },\n  PROPEP: {\n    name: \"propeptide\",\n    label: \"Propeptide\",\n    tooltip:\n      \"Part of a protein that is cleaved during maturation or activation\",\n    shape: \"rectangle\",\n    color: \"#99CCCC\"\n  },\n  PEPTIDE: {\n    name: \"peptide\",\n    label: \"Peptide\",\n    tooltip:\n      \"The position and length of an active peptide in the mature protein\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  SIGNAL: {\n    name: \"signal peptide\",\n    label: \"Signal peptide\",\n    tooltip: \"N-terminal signal peptide\",\n    shape: \"rectangle\",\n    color: \"#CC0033\"\n  },\n  HELIX: {\n    name: \"helix\",\n    label: \"Helix\",\n    tooltip: \"The positions of experimentally determined helical regions\",\n    shape: \"rectangle\",\n    color: \"#FF0066\"\n  },\n  STRAND: {\n    name: \"strand\",\n    label: \"Beta strand\",\n    tooltip: \"The positions of experimentally determined beta strands\",\n    shape: \"rectangle\",\n    color: \"#FFCC00\"\n  },\n  TURN: {\n    name: \"turn\",\n    label: \"Turn\",\n    tooltip: \"The positions of experimentally determined hydrogen-bonded turns\",\n    shape: \"rectangle\",\n    color: \"#0571AF\"\n  },\n  DISULFID: {\n    name: \"disulfide bond\",\n    label: \"Disulfide bond\",\n    tooltip:\n      \"The positions of cysteine residues participating in disulphide bonds\",\n    shape: \"bridge\",\n    color: \"#23B14D\"\n  },\n  CROSSLNK: {\n    name: \"cross-link\",\n    label: \"Cross-link\",\n    tooltip:\n      \"Covalent linkages of various types formed between two proteins or between two parts of the same protein\",\n    shape: \"bridge\",\n    color: \"#FF6600\"\n  },\n  REGION: {\n    name: \"region of interest\",\n    label: \"Region of interest\",\n    tooltip:\n      \"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation\",\n    shape: \"rectangle\",\n    color: \"#B33E00\"\n  },\n  COILED: {\n    name: \"coiled-coil region\",\n    label: \"Coiled-coil region\",\n    tooltip:\n      \"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil\",\n    shape: \"rectangle\",\n    color: \"#006699\"\n  },\n  MOTIF: {\n    name: \"short sequence motif\",\n    label: \"Short sequence motif\",\n    tooltip: \"Short conserved sequence motif of biological significance\",\n    shape: \"rectangle\",\n    color: \"#402060\"\n  },\n  REPEAT: {\n    name: \"repeat\",\n    label: \"Repeat\",\n    tooltip: \"Repeated sequence motifs or repeated domains within the protein\",\n    shape: \"rectangle\",\n    color: \"#9900FF\"\n  },\n  CA_BIND: {\n    name: \"calcium-binding region\",\n    label: \"Calcium-binding region\",\n    tooltip: \"Calcium-binding regions, such as the EF-hand motif\",\n    shape: \"rectangle\",\n    color: \"#FF3399\"\n  },\n  DNA_BIND: {\n    name: \"DNA-binding region\",\n    label: \"DNA binding\",\n    tooltip:\n      \"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain\",\n    shape: \"rectangle\",\n    color: \"#009933\"\n  },\n  DOMAIN: {\n    name: \"other domain of interest\",\n    label: \"Other domain of interest\",\n    tooltip:\n      \"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold\",\n    shape: \"rectangle\",\n    color: \"#9999FF\"\n  },\n  ZN_FING: {\n    name: \"zinc finger region\",\n    label: \"Zinc finger\",\n    tooltip:\n      \"Small, functional, independently folded domain that coordinates one or more zinc ions\",\n    shape: \"rectangle\",\n    color: \"#990066\"\n  },\n  NP_BIND: {\n    name: \"nucleotide-binding region\",\n    label: \"Nucleotide-binding region\",\n    tooltip:\n      \"(aka flavin-binding). Region in the protein which binds nucleotide phosphates\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  METAL: {\n    name: \"metal ion-binding site\",\n    label: \"Metal ion-binding site\",\n    tooltip: \"Binding site for a metal ion\",\n    shape: \"diamond\",\n    color: \"#009900\"\n  },\n  SITE: {\n    name: \"other site of interest\",\n    label: \"Other site of interest\",\n    tooltip: \"Any interesting single amino acid site on the sequence\",\n    shape: \"chevron\",\n    color: \"#660033\"\n  },\n  BINDING: {\n    name: \"other binding site\",\n    label: \"Other binding site\",\n    tooltip:\n      \"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)\",\n    shape: \"rectangle\",\n    color: \"#catFace\"\n  },\n  ACT_SITE: {\n    name: \"active site\",\n    label: \"Active site\",\n    tooltip: \"Amino acid(s) directly involved in the activity of an enzyme\",\n    shape: \"circle\",\n    color: \"#FF6666\"\n  },\n  MOD_RES: {\n    name: \"Post-translationally modified residue\",\n    label: \"Modified residue\",\n    tooltip:\n      \"Modified residues such as phosphorylation, acetylation, acylation, methylation\",\n    shape: \"triangle\",\n    color: \"#000066\"\n  },\n  LIPID: {\n    name: \"lipid moiety-binding region\",\n    label: \"Lipidation\",\n    tooltip: \"Covalently attached lipid group(s)\",\n    shape: \"wave\",\n    color: \"#99CC33\"\n  },\n  CARBOHYD: {\n    name: \"glycosylation site\",\n    label: \"Glycosylation\",\n    tooltip: \"Covalently attached glycan group(s)\",\n    shape: \"hexagon\",\n    color: \"#CC3366\"\n  },\n  COMPBIAS: {\n    name: \"compositionally biased region\",\n    label: \"Compositionally biased region\",\n    tooltip:\n      \"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions\",\n    shape: \"rectangle\",\n    color: \"#FF3366\"\n  },\n  CONFLICT: {\n    name: \"sequence conflict\",\n    label: \"Sequence conflict\",\n    tooltip: \"Sequence discrepancies of unknown origin\",\n    shape: \"rectangle\",\n    color: \"#6633CC\"\n  },\n  NON_CONS: {\n    name: \"non-consecutive residues\",\n    label: \"Non-adjacent residues\",\n    tooltip:\n      \"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them\",\n    shape: \"doubleBar\",\n    color: \"#FF0033\"\n  },\n  NON_TER: {\n    name: \"non-terminal residue\",\n    label: \"Non-terminal residue\",\n    tooltip:\n      \"The sequence is incomplete. The residue is not the terminal residue of the complete protein\",\n    shape: \"doubleBar\",\n    color: \"#339933\"\n  },\n  UNSURE: {\n    name: \"unsure residue\",\n    label: \"Sequence uncertainty\",\n    tooltip:\n      \"Regions of a sequence for which the authors are unsure about the sequence assignment\",\n    shape: \"rectangle\",\n    color: \"#33FF00\"\n  },\n  NON_STD: {\n    name: \"non-standard amino acid\",\n    label: \"Non-standard residue\",\n    tooltip: \"Non-standard amino acids (selenocysteine and pyrrolysine)\",\n    shape: \"pentagon\",\n    color: \"#330066\"\n  },\n  MUTAGEN: {\n    name: \"mutagenesis site\",\n    label: \"Mutagenesis\",\n    tooltip: \"Site which has been experimentally altered by mutagenesis\",\n    shape: \"rectangle\",\n    color: \"#FF9900\"\n  },\n  TOPO_DOM: {\n    name: \"topological domain\",\n    label: \"Topological domain\",\n    tooltip: \"Location of non-membrane regions of membrane-spanning proteins\",\n    shape: \"rectangle\",\n    color: \"#CC0000\"\n  },\n  TRANSMEM: {\n    name: \"transmembrane region\",\n    label: \"Transmembrane\",\n    tooltip: \"Extent of a membrane-spanning region\",\n    shape: \"rectangle\",\n    color: \"#CC00CC\"\n  },\n  INTRAMEM: {\n    name: \"intramembrane region\",\n    label: \"Intramembrane\",\n    tooltip: \"Extent of a region located in a membrane without crossing it\",\n    shape: \"rectangle\",\n    color: \"#0000CC\"\n  },\n  VAR_SEQ: {\n    name: \"splice variant\",\n    label: \"Splice variant\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#CC11CC\"\n  },\n  VARIANT: {\n    name: \"sequence variant\",\n    label: \"Natural variant\",\n    tooltip:\n      \"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events\",\n    shape: \"circle\",\n    color: \"black\"\n  },\n  UNIQUE: {\n    name: \"unique\",\n    label: \"Unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#fc3133\"\n  },\n  NON_UNIQUE: {\n    name: \"non-unique\",\n    label: \"Non-unique peptide\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#8585fc\"\n  },\n  ANTIGEN: {\n    name: \"antigen\",\n    label: \"Antibody binding sequences\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#996699\"\n  },\n  PDBE_COVER: {\n    name: \"pdbe coverage\",\n    label: \"PDBe 3D structure coverage\",\n    tooltip: \"\",\n    shape: \"rectangle\",\n    color: \"#669966\"\n  }\n};\n","import { config } from \"./config\";\n\nexport const getShapeByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].shape;\n  }\n  const info = Object.values(config).find(\n    typeInfo => typeInfo.name.toUpperCase() === type.toUpperCase()\n  );\n  if (info) {\n    return info.shape;\n  }\n  return \"rectangle\";\n};\n\nexport const getColorByType = type => {\n  if (config[type.toUpperCase()]) {\n    return config[type.toUpperCase()].color;\n  }\n  const info = Object.values(config).find(typeInfo => {\n    return typeInfo.name.toUpperCase() === type.toUpperCase();\n  });\n  if (!info) {\n    console.log(type);\n  }\n  if (info) {\n    return info.color;\n  }\n  return \"black\";\n};\n","import { select } from \"d3\";\nimport _includes from \"lodash-es/includes\";\nimport _groupBy from \"lodash-es/groupBy\";\nimport _union from \"lodash-es/union\";\nimport _intersection from \"lodash-es/intersection\";\n\nimport ProtvistaZoomable from \"protvista-zoomable\";\nimport FeatureShape from \"./FeatureShape\";\nimport NonOverlappingLayout from \"./NonOverlappingLayout\";\nimport DefaultLayout from \"./DefaultLayout\";\nimport { getShapeByType, getColorByType } from \"./ConfigHelper\";\n\nclass ProtvistaTrack extends ProtvistaZoomable {\n  getLayout() {\n    if (String(this.getAttribute(\"layout\")).toLowerCase() === \"non-overlapping\")\n      return new NonOverlappingLayout({\n        layoutHeight: this._height,\n      });\n    return new DefaultLayout({\n      layoutHeight: this._height,\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._color = this.getAttribute(\"color\");\n    this._shape = this.getAttribute(\"shape\");\n    this._featureShape = new FeatureShape();\n    this._layoutObj = this.getLayout();\n\n    if (this._data) this._createTrack();\n\n    this.addEventListener(\"load\", (e) => {\n      if (_includes(this.children, e.target)) {\n        this.data = e.detail.payload;\n      }\n    });\n  }\n\n  static normalizeLocations(data) {\n    return data.map((obj) => {\n      const { locations, start, end } = obj;\n      return locations\n        ? obj\n        : Object.assign(obj, {\n            locations: [\n              {\n                fragments: [\n                  {\n                    start,\n                    end,\n                  },\n                ],\n              },\n            ],\n          });\n    });\n  }\n\n  processData(data) {\n    this._originalData = ProtvistaTrack.normalizeLocations(data);\n  }\n\n  set data(data) {\n    this.processData(data);\n    this._applyFilters();\n    this._layoutObj = this.getLayout();\n    this._createTrack();\n  }\n\n  set filters(filters) {\n    this._filters = filters;\n    this._applyFilters();\n    this._createTrack();\n  }\n\n  static get observedAttributes() {\n    return ProtvistaZoomable.observedAttributes.concat([\n      \"highlight\",\n      \"color\",\n      \"shape\",\n      \"filters\",\n    ]);\n  }\n\n  _getFeatureColor(f) {\n    if (f.color) {\n      return f.color;\n    }\n    if (f.feature && f.feature.color) {\n      return f.feature.color;\n    }\n    if (this._color) {\n      return this._color;\n    }\n    if (f.type) {\n      return getColorByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getColorByType(f.feature.type);\n    }\n    return \"black\";\n  }\n\n  _getFeatureFillColor(f) {\n    if (f.fill) {\n      return f.fill;\n    }\n    if (f.feature && f.feature.fill) {\n      return f.feature.fill;\n    }\n    return this._getFeatureColor(f);\n  }\n\n  _getShape(f) {\n    if (f.shape) {\n      return f.shape;\n    }\n    if (f.feature && f.feature.shape) {\n      return f.feature.shape;\n    }\n    if (this._shape) {\n      return this._shape;\n    }\n    if (f.type) {\n      return getShapeByType(f.type);\n    }\n    if (f.feature && f.feature.type) {\n      return getShapeByType(f.feature.type);\n    }\n    return \"rectangle\";\n  }\n\n  _createTrack() {\n    this._layoutObj.init(this._data);\n\n    select(this).selectAll(\"div\").remove();\n\n    this.svg = select(this)\n      .append(\"div\")\n      .style(\"line-height\", 0)\n      .append(\"svg\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this._height);\n\n    this.trackHighlighter.appendHighlightTo(this.svg);\n\n    this.seq_g = this.svg.append(\"g\").attr(\"class\", \"sequence-features\");\n\n    this._createFeatures();\n  }\n\n  _createFeatures() {\n    this.featuresG = this.seq_g.selectAll(\"g.feature-group\").data(this._data);\n\n    this.locations = this.featuresG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"feature-group\")\n      .attr(\"id\", (d) => `g_${d.accession}`)\n      .selectAll(\"g.location-group\")\n      .data((d) =>\n        d.locations.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d,\n          })\n        )\n      )\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"location-group\");\n\n    this.features = this.locations\n      .selectAll(\"g.fragment-group\")\n      .data((d) =>\n        d.fragments.map((loc) =>\n          Object.assign({}, loc, {\n            feature: d.feature,\n          })\n        )\n      )\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", (f) => `${this._getShape(f)} feature`)\n      .attr(\"d\", (f) =>\n        this._featureShape.getFeatureShape(\n          this.getSingleBaseWidth(),\n          this._layoutObj.getFeatureHeight(f),\n          f.end ? f.end - f.start + 1 : 1,\n          this._getShape(f)\n        )\n      )\n\n      .attr(\n        \"transform\",\n        (f) =>\n          `translate(${this.getXFromSeqPosition(\n            f.start\n          )},${this._layoutObj.getFeatureYPos(f.feature)})`\n      )\n      .attr(\"fill\", (f) => this._getFeatureFillColor(f))\n      .attr(\"stroke\", (f) => this._getFeatureColor(f))\n      .style(\"fill-opacity\", ({ feature }) =>\n        feature.opacity ? feature.opacity : 0.9\n      )\n      .style(\"stroke-opacity\", ({ feature }) => {\n        return feature.opacity ? feature.opacity : 0.9;\n      })\n      .call(this.bindEvents, this);\n  }\n\n  _applyFilters() {\n    if (!this._filters || this._filters.length <= 0) {\n      this._data = this._originalData;\n      return;\n    }\n    // Filters are OR-ed within a category and AND-ed between categories\n    const groupedFilters = _groupBy(this._filters, \"category\");\n    const filteredGroups = Object.values(groupedFilters).map((filterGroup) => {\n      const filteredData = filterGroup.map((filterItem) =>\n        filterItem.filterFn(this._originalData)\n      );\n      return _union(...filteredData);\n    });\n    const intersection = _intersection(...filteredGroups);\n    this._data = intersection;\n  }\n\n  refresh() {\n    if (this.xScale && this.seq_g) {\n      this.features = this.seq_g.selectAll(\"path.feature\").data(\n        this._data.reduce(\n          (acc, f) =>\n            acc.concat(\n              f.locations.reduce(\n                (acc2, e) =>\n                  acc2.concat(\n                    e.fragments.map((loc) =>\n                      Object.assign({}, loc, {\n                        feature: f,\n                      })\n                    )\n                  ),\n                []\n              )\n            ),\n          []\n        )\n      );\n      this.features\n        .attr(\"d\", (f) =>\n          this._featureShape.getFeatureShape(\n            this.getSingleBaseWidth(),\n            this._layoutObj.getFeatureHeight(f),\n            f.end ? f.end - f.start + 1 : 1,\n            this._getShape(f)\n          )\n        )\n        .attr(\n          \"transform\",\n          (f) =>\n            `translate(${this.getXFromSeqPosition(\n              f.start\n            )},${this._layoutObj.getFeatureYPos(f.feature)})`\n        );\n      this._updateHighlight();\n    }\n  }\n\n  _updateHighlight() {\n    this.trackHighlighter.updateHighlight();\n  }\n}\n\nexport default ProtvistaTrack;\nexport { DefaultLayout };\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import baseUniq from './_baseUniq.js';\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nexport default uniq;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nexport default baseSortBy;\n","import isSymbol from './isSymbol.js';\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nexport default compareAscending;\n","import compareAscending from './_compareAscending.js';\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nexport default compareMultiple;\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport baseSortBy from './_baseSortBy.js';\nimport baseUnary from './_baseUnary.js';\nimport compareMultiple from './_compareMultiple.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nexport default baseOrderBy;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nexport default sortBy;\n"],"sourceRoot":""}